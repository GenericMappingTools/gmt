
<!DOCTYPE html>
<html class="writer-html5" lang="en" data-content_root="../">
<head>
  <meta charset="utf-8" /><meta name="viewport" content="width=device-width, initial-scale=1" />

  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>(16) Gridding of data, continued &mdash; GMT 6.6.0 documentation</title>
      <link rel="stylesheet" type="text/css" href="../_static/pygments.css?v=03e43079" />
      <link rel="stylesheet" type="text/css" href="../_static/css/theme.css?v=19f00094" />
      <link rel="stylesheet" type="text/css" href="../_static/copybutton.css?v=76b2166b" />
      <link rel="stylesheet" type="text/css" href="../_static/togglebutton.css?v=13237357" />
      <link rel="stylesheet" type="text/css" href="../_static/sphinx-design.min.css?v=95c83b7e" />
      <link rel="stylesheet" type="text/css" href="../_static/style.css?v=32d919f4" />

  
    <link rel="shortcut icon" href="../_static/favicon.png"/>
    <script src="../_static/jquery.js"></script>
    <script src="../_static/underscore.js"></script>
    
  <!--[if lt IE 9]>
    <script src="../_static/js/html5shiv.min.js"></script>
  <![endif]-->
  
        <script src="../_static/jquery.js?v=5d32c60e"></script>
        <script src="../_static/_sphinx_javascript_frameworks_compat.js?v=2cd50e6c"></script>
        <script src="../_static/documentation_options.js?v=ed1b3abe"></script>
        <script src="../_static/doctools.js?v=9a2dae69"></script>
        <script src="../_static/sphinx_highlight.js?v=dc90522c"></script>
        <script src="../_static/clipboard.min.js?v=a7894cd8"></script>
        <script src="../_static/copybutton.js?v=f281be69"></script>
        <script>let toggleHintShow = 'Click to show example script';</script>
        <script>let toggleHintHide = 'Click to hide';</script>
        <script>let toggleOpenOnPrint = 'true';</script>
        <script src="../_static/togglebutton.js?v=4a39c7ea"></script>
        <script src="../_static/design-tabs.js?v=f930bc37"></script>
        <script>var togglebuttonSelector = '.toggle, .admonition.dropdown';</script>
        <script>var togglebuttonSelector = '.toggle, .admonition.dropdown';</script>
    <script src="../_static/js/theme.js"></script>
    <link rel="index" title="Index" href="../genindex.html" />
    <link rel="search" title="Search" href="../search.html" />
    <link rel="next" title="(17) Images clipped by coastlines" href="ex17.html" />
    <link rel="prev" title="(15) Gridding, contouring, and masking of unconstrained areas" href="ex15.html" />


  <!-- Point to the *latest* version switcher. This will allow the latest versions to appear on older documentation. -->
  <script type="text/javascript" src="/latest/_static/version_switch.js"></script>


</head>

<body class="wy-body-for-nav"> 
  <div class="wy-grid-for-nav">
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search" >

          
          
          <a href="../index.html" class="icon icon-home">
            GMT
          </a>
              <div class="version">
                6.6
              </div>
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="../search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" aria-label="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>
        </div><div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="Navigation menu">
    
              <p class="caption" role="heading"><span class="caption-text">Getting started</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../intro.html">Introduction</a></li>
<li class="toctree-l1"><a class="reference internal" href="../install.html">Installing GMT</a></li>
<li class="toctree-l1"><a class="reference internal" href="../gallery.html">Illustration Gallery</a></li>
<li class="toctree-l1"><a class="reference internal" href="../animations.html">Animation Gallery</a></li>
<li class="toctree-l1"><a class="reference internal" href="../tutorial.html">Tutorials</a></li>
</ul>
<p class="caption" role="heading"><span class="caption-text">Reference documentation</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../modules.html">Modules</a></li>
<li class="toctree-l1"><a class="reference internal" href="../reference.html">Technical Reference</a></li>
<li class="toctree-l1"><a class="reference internal" href="../datasets.html">Datasets</a></li>
<li class="toctree-l1"><a class="reference internal" href="../modules-classic.html">Modules (Classic Mode)</a></li>
</ul>
<p class="caption" role="heading"><span class="caption-text">Resources</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../changes.html">Changelog</a></li>
<li class="toctree-l1"><a class="reference internal" href="../users-contrib-symbols.html">Users Symbol Contributions</a></li>
<li class="toctree-l1"><a class="reference internal" href="../deprecated-defaults.html">Deprecated GMT Defaults Names</a></li>
<li class="toctree-l1"><a class="reference internal" href="../switching.html">Switching between Different Versions</a></li>
<li class="toctree-l1"><a class="reference internal" href="../migrating.html">Migrating from an Earlier Version</a></li>
</ul>
<p class="caption" role="heading"><span class="caption-text">Development</span></p>
<ul>
<li class="toctree-l1"><a class="reference external" href="https://github.com/GenericMappingTools/.github/blob/main/CODE_OF_CONDUCT.md">Code of Conduct</a></li>
<li class="toctree-l1"><a class="reference internal" href="../devdocs/contributing.html">Contributors Guide</a></li>
<li class="toctree-l1"><a class="reference internal" href="../devdocs/maintenance.html">Maintainers Guide</a></li>
<li class="toctree-l1"><a class="reference internal" href="../devdocs/team.html">Team Gallery</a></li>
<li class="toctree-l1"><a class="reference internal" href="../devdocs/rst-cheatsheet.html">reStructuredText Cheatsheet</a></li>
<li class="toctree-l1"><a class="reference internal" href="../devdocs/debug.html">Debugging GMT</a></li>
<li class="toctree-l1"><a class="reference internal" href="../devdocs/api.html">GMT C API</a></li>
<li class="toctree-l1"><a class="reference internal" href="../devdocs/postscriptlight.html">PostScriptLight C API</a></li>
<li class="toctree-l1"><a class="reference internal" href="../devdocs/devdocs.html">GMT Enhancement Proposals</a></li>
</ul>


    
        <p class="caption">
            <span class="caption-text">Getting help</span>
        </p>
        <ul>
            
                <li class="toctree-l1"><a href="https://www.generic-mapping-tools.org/"><i class="fa fa-home fa-fw"></i> GMT Homepage</a></li>
            
                <li class="toctree-l1"><a href="https://forum.generic-mapping-tools.org/"><i class="fa fa-comment fa-fw"></i> GMT Community Forum</a></li>
            
                <li class="toctree-l1"><a href="https://github.com/GenericMappingTools/gmt/blob/master/LICENSE.TXT"><i class="fa fa-book fa-fw"></i> License</a></li>
            
                <li class="toctree-l1"><a href="https://github.com/GenericMappingTools/gmt"><i class="fa fa-github fa-fw"></i> Source Code</a></li>
            
                <li class="toctree-l1"><a href="/6.6/gmt-docs-6.6.zip"><i class="fa fa-download fa-fw"></i> Documentation HTML zip</a></li>
            
        </ul>
    

        </div>
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap"><nav class="wy-nav-top" aria-label="Mobile navigation menu" >
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="../index.html">GMT</a>
      </nav>

      <div class="wy-nav-content">
        <div class="rst-content">
          <div role="navigation" aria-label="Page navigation">
  <ul class="wy-breadcrumbs">
      <li><a href="../index.html" class="icon icon-home" aria-label="Home"></a></li>
          <li class="breadcrumb-item"><a href="../gallery.html">Illustration Gallery</a></li>
      <li class="breadcrumb-item active">(16) Gridding of data, continued</li>
      <li class="wy-breadcrumbs-aside">
              <a href="https://github.com/GenericMappingTools/gmt/edit/master/doc/rst/source/gallery/ex16.rst" class="fa fa-github"> Edit on GitHub</a>
      </li>
  </ul>
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
             
  <section id="gridding-of-data-continued">
<span id="example-16"></span><h1>(16) Gridding of data, continued<a class="headerlink" href="#gridding-of-data-continued" title="Link to this heading"></a></h1>
<p><a class="reference internal" href="../contour.html"><span class="doc">contour</span></a> (for contouring) and
<a class="reference internal" href="../triangulate.html"><span class="doc">triangulate</span></a> (for gridding) use the
simplest method of interpolating data: a Delaunay triangulation (see
Example <a class="reference internal" href="ex12.html#example-12"><span class="std std-ref">(12) Optimal triangulation of data</span></a>) which forms <em>z(x, y)</em> as a
union of planar triangular facets. One advantage of this method is that
it will not extrapolate <em>z(x, y)</em> beyond the convex hull of the
input (<em>x, y</em>) data. Another is that it will not estimate a <em>z</em> value
above or below the local bounds on any triangle. A disadvantage is that
the <em>z(x, y)</em> surface is not differentiable, but has sharp kinks
at triangle edges and thus also along contours. This may not look
physically reasonable, but it can be filtered later (last panel below).
<a class="reference internal" href="../surface.html"><span class="doc">surface</span></a> can be used to generate a
higher-order (smooth and differentiable) interpolation of
<em>z(x, y)</em> onto a grid, after which the grid may be illustrated
(<a class="reference internal" href="../grdcontour.html"><span class="doc">grdcontour</span></a>, <a class="reference internal" href="../grdimage.html"><span class="doc">grdimage</span></a>,
<a class="reference internal" href="../grdview.html"><span class="doc">grdview</span></a>).
<a class="reference internal" href="../surface.html"><span class="doc">surface</span></a> will interpolate to all (<em>x,
y</em>) points in a rectangular region, and thus will extrapolate beyond the
convex hull of the data. However, this can be masked out in various ways
(see Example <a class="reference internal" href="ex15.html#example-15"><span class="std std-ref">(15) Gridding, contouring, and masking of unconstrained areas</span></a>).</p>
<p>A more serious objection is that <a class="reference internal" href="../surface.html"><span class="doc">surface</span></a> may estimate <em>z</em> values
outside the local range of the data (note area near <em>x</em> = 0.8, <em>y</em> =
5.3). This commonly happens when the default tension value of zero is
used to create a “minimum curvature” (most smooth) interpolant.
<a class="reference internal" href="../surface.html"><span class="doc">surface</span></a> can be used with non-zero
tension to partially overcome this problem. The limiting value
<em>tension = 1</em> should approximate the triangulation, while a value
between 0 and 1 may yield a good compromise between the above two cases.
A value of 0.5 is shown in the Figure <a class="reference internal" href="#fig-ex16"><span class="std std-ref">More ways to grid data</span></a>. A side
effect of the tension is that it tends to make the contours turn near
the edges of the domain so that they approach the edge from a
perpendicular direction. A solution is to use
<a class="reference internal" href="../surface.html"><span class="doc">surface</span></a> in a larger area and then use
<a class="reference internal" href="../grdcut.html"><span class="doc">grdcut</span></a> to cut out the desired smaller
area. Another way to achieve a compromise is to interpolate the data to
a grid and then filter the grid using <a class="reference internal" href="../grdfft.html"><span class="doc">grdfft</span></a> or
<a class="reference internal" href="../grdfilter.html"><span class="doc">grdfilter</span></a>. The latter can handle
grids containing “NaN” values and it can do median and mode filters as
well as convolutions. Shown here is <a class="reference internal" href="../triangulate.html"><span class="doc">triangulate</span></a> followed by
<a class="reference internal" href="../grdfilter.html"><span class="doc">grdfilter</span></a>. Note that the filter has
done some extrapolation beyond the convex hull of the original <em>x, y</em>
values. The “best” smooth approximation of <em>z(x, y)</em> depends on
the errors in the data and the physical laws obeyed by <em>z</em>. GMT cannot
always do the “best” thing but it offers great flexibility through its
combinations of tools. We illustrate all four solutions using a CPT
that contains color fills, predefined patterns for interval (900,925)
and NaN, an image pattern for interval (875,900), and a “skip slice”
request for interval (700,725).  Again, we use <a class="reference internal" href="../subplot.html"><span class="doc">subplot</span></a> to set up
and place the four panels, and place the colorbar beneath the subplot.</p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span><span class="ch">#!/usr/bin/env bash</span>
<span class="c1">#		GMT EXAMPLE 16</span>
<span class="c1">#</span>
<span class="c1"># Purpose:	Illustrates interpolation methods using same data as Example 12.</span>
<span class="c1"># GMT modules:	gmtset, grdview, grdfilter, contour, colorbar, surface, triangulate</span>
<span class="c1"># Unix progs:	rm</span>
<span class="c1">#</span>
gmt<span class="w"> </span>begin<span class="w"> </span>ex16
<span class="w">	</span>gmt<span class="w"> </span>subplot<span class="w"> </span>begin<span class="w"> </span>2x2<span class="w"> </span>-M0.1c<span class="w"> </span>-Fs8c/0<span class="w"> </span>-R-0.2/6.6/-0.2/6.6<span class="w"> </span>-Jx1c<span class="w"> </span>-Scb<span class="w"> </span>-Srl+t<span class="w"> </span>-Bwesn<span class="w"> </span>-T<span class="s2">&quot;Gridding of Data&quot;</span>
<span class="w">		</span>gmt<span class="w"> </span>surface<span class="w"> </span>@Table_5_11.txt<span class="w"> </span>-I0.2<span class="w"> </span>-Graws0.nc
<span class="w">		</span>gmt<span class="w"> </span>contour<span class="w"> </span>@Table_5_11.txt<span class="w"> </span>-C@ex_16.cpt<span class="w"> </span>-I<span class="w"> </span>-B+t<span class="s2">&quot;contour (triangulate)&quot;</span><span class="w"> </span>-c0,0
<span class="w">		</span><span class="c1">#</span>
<span class="w">		</span>gmt<span class="w"> </span>grdview<span class="w"> </span>raws0.nc<span class="w"> </span>-C@ex_16.cpt<span class="w"> </span>-Qs<span class="w"> </span>-B+t<span class="s2">&quot;surface (tension = 0)&quot;</span><span class="w"> </span>-c0,1
<span class="w">		</span><span class="c1">#</span>
<span class="w">		</span>gmt<span class="w"> </span>surface<span class="w"> </span>@Table_5_11.txt<span class="w"> </span>-Graws5.nc<span class="w"> </span>-T0.5
<span class="w">		</span>gmt<span class="w"> </span>grdview<span class="w"> </span>raws5.nc<span class="w"> </span>-C@ex_16.cpt<span class="w"> </span>-Qs<span class="w"> </span>-B+t<span class="s2">&quot;surface (tension = 0.5)&quot;</span><span class="w"> </span>-c1,0
<span class="w">		</span><span class="c1">#</span>
<span class="w">		</span>gmt<span class="w"> </span>triangulate<span class="w"> </span>@Table_5_11.txt<span class="w"> </span>-Grawt.nc
<span class="w">		</span>gmt<span class="w"> </span>grdfilter<span class="w"> </span>rawt.nc<span class="w"> </span>-Gfiltered.nc<span class="w"> </span>-D0<span class="w"> </span>-Fc1
<span class="w">		</span>gmt<span class="w"> </span>grdview<span class="w"> </span>filtered.nc<span class="w"> </span>-C@ex_16.cpt<span class="w"> </span>-Qs<span class="w"> </span>-B+t<span class="s2">&quot;triangulate @~\256@~ grdfilter&quot;</span><span class="w"> </span>-c1,1
<span class="w">	</span>gmt<span class="w"> </span>subplot<span class="w"> </span>end
<span class="w">	</span>gmt<span class="w"> </span>colorbar<span class="w"> </span>-DJBC<span class="w"> </span>-C@ex_16.cpt
gmt<span class="w"> </span>end<span class="w"> </span>show
rm<span class="w"> </span>-f<span class="w"> </span>raws0.nc<span class="w"> </span>raws5.nc<span class="w"> </span>rawt.nc<span class="w"> </span>filtered.nc
</pre></div>
</div>
<figure class="align-center" id="id1">
<span id="fig-ex16"></span><a class="reference internal image-reference" href="../_images/ex16.png"><img alt="../_images/ex16.png" src="../_images/ex16.png" style="width: 500px;" /></a>
<figcaption>
<p><span class="caption-text">More ways to grid data</span><a class="headerlink" href="#id1" title="Link to this image"></a></p>
</figcaption>
</figure>
</section>


           </div>
          </div>
          <footer><div class="rst-footer-buttons" role="navigation" aria-label="Footer">
        <a href="ex15.html" class="btn btn-neutral float-left" title="(15) Gridding, contouring, and masking of unconstrained areas" accesskey="p" rel="prev"><span class="fa fa-arrow-circle-left" aria-hidden="true"></span> Previous</a>
        <a href="ex17.html" class="btn btn-neutral float-right" title="(17) Images clipped by coastlines" accesskey="n" rel="next">Next <span class="fa fa-arrow-circle-right" aria-hidden="true"></span></a>
    </div>

  <hr/>

  <div role="contentinfo">
    <p>&#169; Copyright 2025, The GMT Team.
      <span class="lastupdated">Last updated on Jul 26, 2025.
      </span></p>
  </div>

  Built with <a href="https://www.sphinx-doc.org/">Sphinx</a> using a
    <a href="https://github.com/readthedocs/sphinx_rtd_theme">theme</a>
    provided by <a href="https://readthedocs.org">Read the Docs</a>.
   

</footer>
        </div>
      </div>
    </section>
  </div>
  <script>
      jQuery(function () {
          SphinxRtdTheme.Navigation.enable(false);
      });
  </script> 

</body>
</html>