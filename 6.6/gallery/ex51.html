
<!DOCTYPE html>
<html class="writer-html5" lang="en" data-content_root="../">
<head>
  <meta charset="utf-8" /><meta name="viewport" content="width=device-width, initial-scale=1" />

  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>(51) OpenStreetMap coastlines in GMT &mdash; GMT 6.6.0 documentation</title>
      <link rel="stylesheet" type="text/css" href="../_static/pygments.css?v=03e43079" />
      <link rel="stylesheet" type="text/css" href="../_static/css/theme.css?v=19f00094" />
      <link rel="stylesheet" type="text/css" href="../_static/copybutton.css?v=76b2166b" />
      <link rel="stylesheet" type="text/css" href="../_static/togglebutton.css?v=13237357" />
      <link rel="stylesheet" type="text/css" href="../_static/sphinx-design.min.css?v=95c83b7e" />
      <link rel="stylesheet" type="text/css" href="../_static/style.css?v=32d919f4" />

  
    <link rel="shortcut icon" href="../_static/favicon.png"/>
    <script src="../_static/jquery.js"></script>
    <script src="../_static/underscore.js"></script>
    
  <!--[if lt IE 9]>
    <script src="../_static/js/html5shiv.min.js"></script>
  <![endif]-->
  
        <script src="../_static/jquery.js?v=5d32c60e"></script>
        <script src="../_static/_sphinx_javascript_frameworks_compat.js?v=2cd50e6c"></script>
        <script src="../_static/documentation_options.js?v=ed1b3abe"></script>
        <script src="../_static/doctools.js?v=9a2dae69"></script>
        <script src="../_static/sphinx_highlight.js?v=dc90522c"></script>
        <script src="../_static/clipboard.min.js?v=a7894cd8"></script>
        <script src="../_static/copybutton.js?v=f281be69"></script>
        <script>let toggleHintShow = 'Click to show example script';</script>
        <script>let toggleHintHide = 'Click to hide';</script>
        <script>let toggleOpenOnPrint = 'true';</script>
        <script src="../_static/togglebutton.js?v=4a39c7ea"></script>
        <script src="../_static/design-tabs.js?v=f930bc37"></script>
        <script>var togglebuttonSelector = '.toggle, .admonition.dropdown';</script>
        <script>var togglebuttonSelector = '.toggle, .admonition.dropdown';</script>
    <script src="../_static/js/theme.js"></script>
    <link rel="index" title="Index" href="../genindex.html" />
    <link rel="search" title="Search" href="../search.html" />
    <link rel="next" title="(52) Image and grid manipulation" href="ex52.html" />
    <link rel="prev" title="(50) Probability distributions" href="ex50.html" />


  <!-- Point to the *latest* version switcher. This will allow the latest versions to appear on older documentation. -->
  <script type="text/javascript" src="/latest/_static/version_switch.js"></script>


</head>

<body class="wy-body-for-nav"> 
  <div class="wy-grid-for-nav">
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search" >

          
          
          <a href="../index.html" class="icon icon-home">
            GMT
          </a>
              <div class="version">
                6.6
              </div>
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="../search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" aria-label="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>
        </div><div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="Navigation menu">
    
              <p class="caption" role="heading"><span class="caption-text">Getting started</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../intro.html">Introduction</a></li>
<li class="toctree-l1"><a class="reference internal" href="../install.html">Installing GMT</a></li>
<li class="toctree-l1"><a class="reference internal" href="../gallery.html">Illustration Gallery</a></li>
<li class="toctree-l1"><a class="reference internal" href="../animations.html">Animation Gallery</a></li>
<li class="toctree-l1"><a class="reference internal" href="../tutorial.html">Tutorials</a></li>
</ul>
<p class="caption" role="heading"><span class="caption-text">Reference documentation</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../modules.html">Modules</a></li>
<li class="toctree-l1"><a class="reference internal" href="../reference.html">Technical Reference</a></li>
<li class="toctree-l1"><a class="reference internal" href="../datasets.html">Datasets</a></li>
<li class="toctree-l1"><a class="reference internal" href="../modules-classic.html">Modules (Classic Mode)</a></li>
</ul>
<p class="caption" role="heading"><span class="caption-text">Resources</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../changes.html">Changelog</a></li>
<li class="toctree-l1"><a class="reference internal" href="../users-contrib-symbols.html">Users Symbol Contributions</a></li>
<li class="toctree-l1"><a class="reference internal" href="../deprecated-defaults.html">Deprecated GMT Defaults Names</a></li>
<li class="toctree-l1"><a class="reference internal" href="../switching.html">Switching between Different Versions</a></li>
<li class="toctree-l1"><a class="reference internal" href="../migrating.html">Migrating from an Earlier Version</a></li>
</ul>
<p class="caption" role="heading"><span class="caption-text">Development</span></p>
<ul>
<li class="toctree-l1"><a class="reference external" href="https://github.com/GenericMappingTools/.github/blob/main/CODE_OF_CONDUCT.md">Code of Conduct</a></li>
<li class="toctree-l1"><a class="reference internal" href="../devdocs/contributing.html">Contributors Guide</a></li>
<li class="toctree-l1"><a class="reference internal" href="../devdocs/maintenance.html">Maintainers Guide</a></li>
<li class="toctree-l1"><a class="reference internal" href="../devdocs/team.html">Team Gallery</a></li>
<li class="toctree-l1"><a class="reference internal" href="../devdocs/rst-cheatsheet.html">reStructuredText Cheatsheet</a></li>
<li class="toctree-l1"><a class="reference internal" href="../devdocs/debug.html">Debugging GMT</a></li>
<li class="toctree-l1"><a class="reference internal" href="../devdocs/api.html">GMT C API</a></li>
<li class="toctree-l1"><a class="reference internal" href="../devdocs/postscriptlight.html">PostScriptLight C API</a></li>
<li class="toctree-l1"><a class="reference internal" href="../devdocs/devdocs.html">GMT Enhancement Proposals</a></li>
</ul>


    
        <p class="caption">
            <span class="caption-text">Getting help</span>
        </p>
        <ul>
            
                <li class="toctree-l1"><a href="https://www.generic-mapping-tools.org/"><i class="fa fa-home fa-fw"></i> GMT Homepage</a></li>
            
                <li class="toctree-l1"><a href="https://forum.generic-mapping-tools.org/"><i class="fa fa-comment fa-fw"></i> GMT Community Forum</a></li>
            
                <li class="toctree-l1"><a href="https://github.com/GenericMappingTools/gmt/blob/master/LICENSE.TXT"><i class="fa fa-book fa-fw"></i> License</a></li>
            
                <li class="toctree-l1"><a href="https://github.com/GenericMappingTools/gmt"><i class="fa fa-github fa-fw"></i> Source Code</a></li>
            
                <li class="toctree-l1"><a href="/6.6/gmt-docs-6.6.zip"><i class="fa fa-download fa-fw"></i> Documentation HTML zip</a></li>
            
        </ul>
    

        </div>
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap"><nav class="wy-nav-top" aria-label="Mobile navigation menu" >
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="../index.html">GMT</a>
      </nav>

      <div class="wy-nav-content">
        <div class="rst-content">
          <div role="navigation" aria-label="Page navigation">
  <ul class="wy-breadcrumbs">
      <li><a href="../index.html" class="icon icon-home" aria-label="Home"></a></li>
          <li class="breadcrumb-item"><a href="../gallery.html">Illustration Gallery</a></li>
      <li class="breadcrumb-item active">(51) OpenStreetMap coastlines in GMT</li>
      <li class="wy-breadcrumbs-aside">
              <a href="https://github.com/GenericMappingTools/gmt/edit/master/doc/rst/source/gallery/ex51.rst" class="fa fa-github"> Edit on GitHub</a>
      </li>
  </ul>
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
             
  <section id="openstreetmap-coastlines-in-gmt">
<span id="example-51"></span><h1>(51) OpenStreetMap coastlines in GMT<a class="headerlink" href="#openstreetmap-coastlines-in-gmt" title="Link to this heading"></a></h1>
<p>This example shows how to use coastlines derived from the <a class="reference external" href="https://www.openstreetmap.org/">OpenStreetMap (OSM)
project</a> in GMT. When working with the high
resolution SRTM <a class="reference internal" href="../datasets.html"><span class="doc">Datasets</span></a> provided by GMT, the GSHHG coastlines might
not be precise enough on small scales. Here comes the OSM project to the rescue
as it provides high resolution coastlines in the WGS84 datum. Not as convenient
and fast as GSHHG but easy enough to give it a try – as long as you have space
on your hard drive and some processor cycles to spare.</p>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>This example makes use of data provided by third parties outside the GMT
universe. As the internet is constantly changing, the source of this data
might move or vanish altogether.</p>
</div>
<p>First we need to download the appropriate shape file. The <a class="reference external" href="https://wiki.openstreetmap.org/wiki/Shapefiles#Obtaining_shapefiles_from_OSM_data">OSM Wiki</a>
has some sources, <a class="reference external" href="https://osmdata.openstreetmap.de/data/land-polygons.html">this</a>
is the one we are going to use. The nice people of the <a class="reference external" href="https://www.fossgis.de">German FOSSGIS society</a> already did some of the heavylifting and converted
the OSM coastlines to a shape file for us. Make sure to get the <em>Land Polygon</em>
in the <em>Large polygons not split</em> version with WGS84 datum from their <a class="reference external" href="https://osmdata.openstreetmap.de/data/land-polygons.html">download
page</a>. It’s a
~630 MB download.</p>
<p>You may use this file right away as GMT converts it under the hood to something more
useful on the fly. Neither very fast nor very efficient if you want to use the
file multiple times and have to deal with large file sizes as we do here. So we
use <a class="reference external" href="https://gdal.org/">GDAL’s</a> <em>ogr2ogr</em> and convert the shape file to a native GMT format.</p>
<p>As the resulting raw ASCII file is very large (&gt;1 GB), GMT’s <a class="reference internal" href="../gmtconvert.html"><span class="doc">convert</span></a>
is used to reduce the file size to a third by converting it to a
single-precision binary file. The resulting file is smaller than the initial
download while still maintaining precision in the range of centimeters.</p>
<p>To speed up the plotting process even more, we extract the region of interest
with <a class="reference internal" href="../gmtselect.html"><span class="doc">select</span></a>. Finally we are all set to use the coastlines with
<a class="reference internal" href="../plot.html"><span class="doc">plot</span></a> to get nice, precise coastlines in our illustrations.</p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span><span class="ch">#!/usr/bin/env bash</span>
<span class="c1"># GMT EXAMPLE 51</span>
<span class="c1">#</span>
<span class="c1"># Purpose:     Illustrate usage of OpenStreetMap coastlines in GMT</span>
<span class="c1"># GMT modules: convert, select, coast, plot</span>
<span class="c1"># GDAL progs:  ogr2ogr</span>


<span class="c1"># First we convert the shapefile to something more GMT friendly. Here we make it</span>
<span class="c1"># into a large ASCII file. Human-readable but not very efficient. GDAL&#39;s ogr2ogr</span>
<span class="c1"># is used with the &quot;-f OGR_GMT&quot; option indicating that the output should have</span>
<span class="c1"># the native GMT format. Input is the downloaded land_polygons.shp, and the</span>
<span class="c1"># output is named land_polygons_osm_planet.gmt. The resulting file is very</span>
<span class="c1"># large (&gt;1 GB) but already usable. But wait, there is more ...</span>

ogr2ogr<span class="w"> </span>-f<span class="w"> </span>OGR_GMT<span class="w"> </span>land_polygons_osm_planet.gmt<span class="w"> </span>land_polygons.shp

<span class="c1"># Resorting to GMT&#39;s convert program we take our very large ASCII file and</span>
<span class="c1"># reduce it to about a third of its original size by converting it to a binary</span>
<span class="c1"># file. Lets have a closer look at -bo2f: </span>
<span class="c1"># -bo selects native binary output</span>
<span class="c1"># 2 makes it two data columns</span>
<span class="c1"># f indicates 4-byte single-precision for the data</span>

gmt<span class="w"> </span>convert<span class="w"> </span>land_polygons_osm_planet.gmt<span class="w"> </span>-bo2f<span class="w"> </span>&gt;<span class="w"> </span>land_polygons_osm_planet.bf2

<span class="c1"># Now the heavylifting is done and we have a reusable global coastline file</span>
<span class="c1"># with higher precision than the GSHHG coastlines.</span>
<span class="c1"># Again, we could use the file as is, but there are more performance gains to</span>
<span class="c1"># collect. We extract just the area we need for our plot. Here the island of</span>
<span class="c1"># Sao Vicente, Cape Verde. select to the rescue! -bo2f is nothing new and -bi2f</span>
<span class="c1"># looks very similar: the -bi is indicating native binary input. -R...+r gives</span>
<span class="c1"># the area which we are interested in.</span>

gmt<span class="w"> </span><span class="k">select</span><span class="w"> </span>land_polygons_osm_planet.bf2<span class="w"> </span>-bi2f<span class="w"> </span>-bo2f<span class="w"> </span>-R-25.14/16.75/-24.8/16.95+r<span class="w"> </span>&gt;<span class="w"> </span>land_polygons_osm_caboverde.bf2

<span class="c1"># Finally it is time to do the thing we are here for: Plot some OSM coastlines</span>
<span class="c1"># and compare them to the GSHHG coastlines.</span>

gmt<span class="w"> </span>begin<span class="w"> </span>ex51
<span class="w">  </span>
<span class="w">  </span><span class="c1"># To make the lines a bit nicer we set the line endcaps and the way lines are</span>
<span class="w">  </span><span class="c1"># joined to round</span>
<span class="w">  </span>
<span class="w">  </span>gmt<span class="w"> </span><span class="nb">set</span><span class="w"> </span>PS_LINE_CAP<span class="w"> </span>round
<span class="w">  </span>gmt<span class="w"> </span><span class="nb">set</span><span class="w"> </span>PS_LINE_JOIN<span class="w"> </span>round
<span class="w">  </span>
<span class="w">  </span><span class="c1"># To get an idea where the GSHHG coastlines are we lay them down first with a</span>
<span class="w">  </span><span class="c1"># thin red pen. -JL defines a Lambert conic conformal projection and -R...+r</span>
<span class="w">  </span><span class="c1"># is the area of the plot. -W defines the pen and -B the style of the plot</span>
<span class="w">  </span><span class="c1"># borders, gridlines and annotations. </span>
<span class="w">  </span>
<span class="w">  </span>gmt<span class="w"> </span>coast<span class="w"> </span>-JL-24.9/16.55/16.3/16.7/15c<span class="w"> </span>-R-25.14/16.75/-24.8/16.95+r<span class="w"> </span>-Wred<span class="w"> </span>-Ba10mg10m
<span class="w">  </span>
<span class="w">  </span><span class="c1"># Time to use the OSM coastlines we prepared earlier. Straightforward we</span>
<span class="w">  </span><span class="c1"># supply the extracted area, tell plot about the binary format (-bi), define</span>
<span class="w">  </span><span class="c1"># pen (-W) and fill (-G)</span>
<span class="w">  </span>
<span class="w">  </span>gmt<span class="w"> </span>plot<span class="w"> </span>land_polygons_osm_caboverde.bf2<span class="w"> </span>-bi2f<span class="w"> </span>-Wthinnest,black<span class="w"> </span>-Ggrey
<span class="w">  </span>
<span class="w">  </span><span class="c1"># Here we plot the GSHHG coastlines a second time but now with a dashed pen</span>
<span class="w">  </span><span class="c1"># to highlight the areas where they would otherwise be hidden behind the grey</span>
<span class="w">  </span><span class="c1"># OSM landmass. </span>
<span class="w">  </span>
<span class="w">  </span>gmt<span class="w"> </span>coast<span class="w"> </span>-Wred,dashed
<span class="w">  </span>
gmt<span class="w"> </span>end<span class="w"> </span>show
</pre></div>
</div>
<figure class="align-center" id="id1">
<a class="reference internal image-reference" href="../_images/ex51.png"><img alt="../_images/ex51.png" src="../_images/ex51.png" style="width: 500px;" /></a>
<figcaption>
<p><span class="caption-text">Comparison of GSHHG and OSM coastlines.</span><a class="headerlink" href="#id1" title="Link to this image"></a></p>
</figcaption>
</figure>
</section>


           </div>
          </div>
          <footer><div class="rst-footer-buttons" role="navigation" aria-label="Footer">
        <a href="ex50.html" class="btn btn-neutral float-left" title="(50) Probability distributions" accesskey="p" rel="prev"><span class="fa fa-arrow-circle-left" aria-hidden="true"></span> Previous</a>
        <a href="ex52.html" class="btn btn-neutral float-right" title="(52) Image and grid manipulation" accesskey="n" rel="next">Next <span class="fa fa-arrow-circle-right" aria-hidden="true"></span></a>
    </div>

  <hr/>

  <div role="contentinfo">
    <p>&#169; Copyright 2025, The GMT Team.
      <span class="lastupdated">Last updated on Jul 26, 2025.
      </span></p>
  </div>

  Built with <a href="https://www.sphinx-doc.org/">Sphinx</a> using a
    <a href="https://github.com/readthedocs/sphinx_rtd_theme">theme</a>
    provided by <a href="https://readthedocs.org">Read the Docs</a>.
   

</footer>
        </div>
      </div>
    </section>
  </div>
  <script>
      jQuery(function () {
          SphinxRtdTheme.Navigation.enable(false);
      });
  </script> 

</body>
</html>