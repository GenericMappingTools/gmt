#include "common_options.txt"
.TH MDG77TOGMT 1 MANDATE GMT_STRING "Generic Mapping Tools"
.SH NAME
mgd77togmt \- Convert an MGD-77 ASCII file to a binary gmt file
.SH SYNOPSIS
\fBmgd77togmt\fP [ OPT(L)\fIlist\fP ] [ \fImgd77file\fP ] OPT(F)\fIlegid\fP OPT(Y)\fIstart_year\fP 
[ OPT(A)\fIinformation\fP ] [ OPT(I)\fItime_increment\fP ] [OPT(T)[\fI<offset>\fP]] [OPT(W)[\fI<cable_length>\fP]] [ GMT_V_OPT ]
.SH DESCRIPTION
\fBmgd77togmt\fP reads an ASCII MGD-77 format file [or standard
input] and creates a binary gmt file.  The 16 header records specified in
the MGD-77 documentation may or may not be present.  If two-way travel times are
available, \fBmgd77togmt\fP will convert those to corrected depths using the Carter
tables.  Both old and new (Y2K-compliant) MGD-77 files are supported.
.TP
OPT(L)
Name of file with several records of the format \fImgd77file legid start_year\fP.  For multiple files, use this option rather
than the OPT(F) OPT(Y) combination.
.TP
OPT(Y)
The year of the first data point in the file. If not provided and -L option not used, it tries to get 
it from a header file. The header file must be in the same directory of the
main file and must have a name equal to the main but with a .h77 extension.
.SH OPTIONS
No space between the option flag and the associated arguments.
.TP
OPT(A)
Set an optional 10 character information string to be stored in the header  [Default is blank].
.TP
OPT(F)
Leg id that will be used in file name (\fIlegid\fP.gmt). If not given, it 
will be constructed from the mgd77file name plus the .gmt extension.
.TP
OPT(I)
Used for files where time is missing.  The increment is used to calculate
fake times.
.TP
OPT(T)
Extracts Total field instead of anomaly. Since F does not hold in a 2 byte unsigned variable
we subtract a constant [default = 40000] but you can provide another value in \fI<offset>\fP.
.TP
OPT(W)
Take into account that the magnetometer is not at ship's position.
\fI<cable>\fP is magnetometer tow distance [default = 200 meters].
If OPT(W) only is given (e.g. no <cable>) and like with the OPT(Y) option, we try
to get the tow distance from the header file. Failing, defaults to 200 meters.
Note that this option will throw away the first points whose accumulated.
distance since the start of magnetic acquisition is less than cable.
length, and likewise for the end of the mag profile.
#include "explain_-V.txt"
.SH EXAMPLES
To create a gmt file from the ASCII file c2104.mgd77, run
.br
.sp
\fBmgd77togmt\fP c2104.mgd77 OPT(Y)1977
.br
.sp
To create new gmt files from all the mgd77 files listed in \fIlist.d\fP:
.br
.sp
\fBmgd77togmt\fP OPT(L)list.d OPT(V)
.SH SEE ALSO
.IR dat2gmt (1),
.IR GMT (1)
#include "refs.i"
.br
.sp
MGD77 Task Group, 1977, The Marine Geophysical Data Exchange Format - MGD77,
Key to Geophysical Records documentation No. 10, National Geophysical and
Solar-Terrestrial Data Center, Boulder, CO.
.br
.sp
Carter, D. J. T., \fIEcho Sounding Correction Tables: Formerly Matthews' Tables\fP,\"'
150 pp, Hydrographic Department, Ministry of Defense, Taunton, Somerset, England, 1980.
