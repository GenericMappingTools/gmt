#include "common_options.txt"
.TH SPHTRIANGULATE 1 MANDATE GMT_STRING "Generic Mapping Tools [sph supplement]"
#define LEN 15
#define SCALE OPT(JM)15BD(c)
.SH NAME
sphtriangulate \- Perform optimal Delaunay triangulation or Voronoi construction of spherical data
.SH SYNOPSIS
BD(sphtriangulate) [ IT(datatables) ] [ OPT(A) ] [ OPT(C) ] [ OPT(D) ] [ OPT(L)IT(unit) ] 
[ OPT(N)IT(nfile) ] [ OPT(Q)BD(d)|BD(v) ] [ OPT(T) ] [ GMT_V_OPT ] [ GMT_b_OPT ] 
[ GMT_h_OPT ] [ GMT_i_OPT ] [ GMT_colon_OPT ]
.SH DESCRIPTION
BD(sphtriangulate) reads one or more ASCII [or binary] files (or standard input) containing lon, lat and
performs a spherical Delaunay triangulation, i.e., it find how the points should be connected to give
the most equilateral triangulation possible on the sphere.  Optionally, you may choose OPT(Qv) which
will do further processing to obtain the Voronoi polygons.  Normally, either set of polygons will
be written as fillable segment output; use OPT(T) to write unique arcs instead.
As an option, compute the area of each triangle or polygon.  The algorithm used is STRIPACK.
#include "explain_commonitems.txt"
.SH REQUIRED ARGUMENTS
None.
.SH OPTIONAL ARGUMENTS
#include "explain_intables.txt"
.TP
OPT(A)
Compute the area of the spherical triangles (OPT(Qd)) or polygons (OPT(Qv)) and write the areas (in chosen
units; see OPT(L)) in the output segment headers [no areas calculated].
.TP
OPT(C)
For large data set you can save some memory (at the expense of more processing) by only storing one form of
location coordinates (geographic or Cartesian 3-D vectors) at any given time, translating from one form to
the other when necessary [Default keeps both arrays in memory].
.TP
OPT(D)
Used with OPT(m) to skip the last (repeated) input vertex at the end of a closed segment if it
equals the first point in the segment.  Requires OPT(m) [Default uses all points].
.TP
OPT(L)IT(unit)
Specify the unit used for distance and area calculations.  Choose among BD(e) (m), BD(k) (km), BD(m) (mile),
BD(n) (nautical mile), or BD(d) (spherical degree).  A spherical approximation is used unless
BD(PROJ_ELLIPSOID) is set to an actual ellipsoid.  When degree is selected the areas are given in steradians.
.TP
OPT(N)IT(nfile)
Write the information pertaining to each polygon (for Delaunay: the three node number and the triangle area;
for Voronoi the unique node lon, lat and polygon area) to a separate file [Default puts this information in
the segment headers of the output file].  Required if binary output is needed.
.TP
BD(d)|BD(v)
Select between BD(d)elaunay or BD(v)oronoi mode [Delaunay].
.TP
OPT(T)
Write the unique arcs of the construction [Default writes fillable triangles or polygons].
When used with OPT(A) we store arc lenght in the segment header in chosen unit (see OPT(L)).
#include "explain_-V.txt"
#include "explain_-bi.txt"
[Default is 2 input columns].
#include "explain_-bo.txt"
[Default is same as input].
#include "explain_-h.txt"
#include "explain_-icols.txt"
#include "explain_colon.txt"
#include "explain_help.txt"
#include "explain_precision.txt"
#include "explain_float.txt"
.SH EXAMPLES
To triangulate the points in the file testdata.txt, and
make a Voronoi diagram via BD(psxy), use
.br
.sp
BD(sphtriangulate) testdata.txt OPT(Qv) | BD(psxy) OPT(Rg) OPT(JG)30/30/6i OPT(m) OPR(L) OPT(P) OPT(W)1p OPT(B)0g30 | gv \-
.br
.sp
To compute the optimal Delaunay triangulation network based on the multiple segment file globalnodes.d
and save the area of each triangle in the header record, try
.br
.sp
BD(sphtriangulate) globalnodes.d OPT(m) OPT(Qd) OPT(A) > global_tri.d
.SH "SEE ALSO"
.IR GMT (1),
.IR triangulate (1)
.IR sphinterpolate (1)
.IR sphdistance (1)
.SH REFERENCES
Renka, R, J., 1997, Algorithm 772: STRIPACK: Delaunay Triangulation and Voronoi Diagram on the Surface of a Sphere, 
IT(AMC Trans. Math. Software), BD(23)(3), 416\-434.
