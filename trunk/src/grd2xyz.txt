#include "common_options.txt"
.TH GRD2XYZ 1 MANDATE GMT_STRING "Generic Mapping Tools"
.SH NAME
grd2xyz \- Converting grid file(s) to ASCII or binary data
.SH SYNOPSIS
\fBgrd2xyz\fP \fIgrdfiles\fP [ OPT(E)[\fInodata\fP] ] [ GMT_H_OPT ] [ OPT(N)\fInodata\fP ] [ GMT_Rgeo_OPT ] 
[ OPT(S)[\fBr\fP] ] [ GMT_V_OPT ] [ OPT(W)[\fIweight\fP] ] [ OPT(Z)[\fIflags\fP] ] 
[ GMT_bo_OPT ] [ GMT_fo_OPT ]
.SH DESCRIPTION
\fBgrd2xyz\fP reads one or more binary 2-D grid files and writes out xyz-triplets in
ASCII [or binary] format to standard output.  Modify the precision of the ASCII
output format by editing the \fBD_FORMAT\fP parameter in your \.gmtdefaults4 file or
use PAR(D_FORMAT,format) on the command line, or choose binary output
using single or double precision storage.  As an option you may output z-values
without the (x,y) in a number of formats, see OPT(E) or OPT(Z) below.
.TP
\fIgrdfiles\fP
Names of 2-D binary grid files to be converted.
(See GRID FILE FORMATS below.)
.SH OPTIONS
.TP
OPT(E)
Output an ESRI ArcInfo ASCII interchange grid format file.  Append \fInodata\fP which will be used wherever
the grid value equals NaN [-9999].  Note that all data values are written as integers.
.TP
OPT(H)
Output 1 header record based on information in the first grid file header.
Ignored if binary output is selected.  [Default is no header].
.TP
OPT(N)
Output this z-value where the latter equals NaN [Default writes NaN].
#include "explain_-R.txt" 
Using the OPT(R) option will select a subsection of the grid. If this subsection exceeds the
boundaries of the grid, only the common region will be output.
.TP
OPT(S)
Suppress output for nodes whose z-value equals NaN [Default outputs all nodes].
Append \fBr\fP to reverse the suppression, i.e., only output the nodes whose
z-value equals NaN.
#include "explain_-V.txt" 
.TP
OPT(W)
Write out x,y,z,w, where w is the supplied \fIweight\fP (or 1 if not supplied) [Default writes x,y,z only].
.TP
OPT(Z)
Write a 1-column ASCII [or binary] table.  Output will be organized according to the specified ordering convention contained in \fIflags\fP.
If data should be written by rows, make \fIflags\fP start with \fBT\fP(op) if first row is y = ymax
or \fBB\fP(ottom) if first row is y = ymin.  Then, append \fBL\fP or \fBR\fP to indicate that first element should start at left
or right end of row.  Likewise for column formats: start with \fBL\fP or \fBR\fP to position first column,
and then append \fBT\fP or \fBB\fP to position first element in a row.  
For gridline registered grids:  If grid is periodic in x but the
outcoming data should not contain the (redundant) column at x = xmax, append \fBx\fP.  For grid periodic in y,
skip writing the redundant row at y = ymax by appending \fBy\fP.  If the byte-order needs to be swapped, append \fBw\fP.  Select
one of several data types (all binary except \fBa\fP):
.br
.sp
.RS
\fBa\fP  ASCII representation
.br
\fBc\fP  signed 1-byte character
.br
\fBu\fP  unsigned 1-byte character
.br
\fBh\fP  short 2-byte integer
.br
\fBi\fP  4-byte integer
.br
\fBl\fP  long (4- or 8-byte) integer [architecture-dependent!]
.br
\fBf\fP  4-byte floating point single precision
.br
\fBd\fP  8-byte floating point double precision
.br
.sp
Default format is scanline orientation of ASCII numbers: OPT(ZTLa).
Note that OPT(Z) only applies to 1-column output.
.RE
#include "explain_-bo.txt"
[Default is 3].
This option only applies to xyz output; see OPT(Z) for z table output.
#include "explain_-f.txt"
See also \fBTIME COORDINATES\fP below.
#include "explain_precision.txt"
#include "explain_grd_input.txt"
.SH TIME COORDINATES
Time coordinates in netCDF grids, be it the x, y, or z coordinate, will be recognized as such.
The variable's \fBunit\fP attribute is parsed to determine the unit and epoch of the time coordinate in the grid.
Values are then converted to the internal time system specified by \fBTIME_UNIT\fP and \fBTIME_EPOCH\fP in the \.gmtdefaults
file or on the command line.
The default output is relative time in that time system, or absolute time when using the option OPT(f0T), OPT(f1T), or
OPT(f2T) for x, y, or z coordinate, respectively.
.SH EXAMPLES
To edit individual values in the 5' by 5' hawaii_grv.grd file, dump the .grd
to ASCII:
.br
.sp
\fBgrd2xyz\fP hawaii_grv.grd > hawaii_grv.xyz
.br
.sp
To write a single precision binary file without the x,y positions from the file raw_data.grd file, using scanline orientation, run
.br
.sp
\fBgrd2xyz\fP raw_data.grd OPT(ZTLf) > hawaii_grv.b
.SH "SEE ALSO"
.IR gmtdefaults (1),
.IR GMT (1),
.IR grdedit (1),
.IR xyz2grd (1)
