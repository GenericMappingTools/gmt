#include "common_options.txt"
.TH GRDTRACK 1 MANDATE GMT_STRING "Generic Mapping Tools"
.SH NAME
grdtrack \- Sampling of a 2-D grid file along 1-D trackline (a sequence of x,y points)
.SH SYNOPSIS
\fBgrdtrack\fP \fIxyfile\fP OPT(G)\fIgrdfile\fP [ GMT_H_OPT ] [ OPT(L)\fIflag\fP ] 
[ OPT(Q)[\fBb\fP|\fBc\fP|\fBl\fP|\fBn\fP][[\fB/\fP]\fIthreshold\fP] ] [ GMT_Rgeo_OPT ] [ OPT(S) ]
[ GMT_V_OPT ] [ OPT(Z) ] [ GMT_t_OPT ] [ GMT_b_OPT ] [ GMT_f_OPT ] [ GMT_m_OPT ]
.SH DESCRIPTION
\fBgrdtrack\fP reads a grid file (or a Sandwell/Smith IMG file) and a table (from file or standard input) with (x,y) positions 
in the first two columns (more columns may be present). It interpolates the grid at the positions 
in the table and writes out the table with the interpolated values added as a new column.  A bicubic 
[Default], bilinear, B-spline or nearest-neighbor (see OPT(Q)) interpolation is used, requiring boundary conditions at the limits 
of the region (see OPT(L)).
.TP
\fIxyfile\fP
This is an ASCII (or binary, see OPT(b)) file where the first 2 columns hold the (x,y) positions where the user wants to sample
the 2-D data set.
.TP
OPT(G)
\fIgrdfile\fP is a 2-D binary grid file with the function f(x,y).
If the specified grid is in Sandwell/Smith Mercator format you must append a comma-separated list of
arguments that includes a scale to multiply the data (usually 1 or 0.1), the mode which stand for the following:
(0) Img files with no constraint code, returns data at all points, (1) Img file with constraints coded,
return data at all points, (2) Img file with constraints coded, return data only at constrained points
and NaN elsewhere, and (3) Img file with constraints coded, return 1 at constraints and 0 elsewhere,
and optionally the max latitude in the IMG file [72.0059773539].
(See GRID FILE FORMAT below.)
.SH OPTIONS
No space between the option flag and the associated arguments.
#include "explain_-H.txt"
.TP
OPT(L)
Boundary condition \fIflag\fP may be \fIx\fP or \fIy\fP or \fIxy\fP indicating data is periodic in range of 
x or y or both set by OPT(R), or \fIflag\fP may be \fIg\fP indicating geographical conditions (x and y are 
lon and lat).  [Default uses "natural" conditions (second partial derivative normal to edge is zero) unless
the grid is automatically recognised as periodic.]
#include "explain_-Q.txt"
#include "explain_-R.txt"
.TP
OPT(S)
Suppress the output of interpolated points that result in NaN values.
#include "explain_-V.txt"
.TP
OPT(Z)
Only write out the sampled z-values [Default writes all columns].
.TP
OPT(:)
Toggles between (longitude,latitude) and (latitude,longitude) input/output.  [Default is (longitude,latitude)].
#include "explain_-bi.txt"
[Default is 2 input columns].
#include "explain_-bo.txt"
[Default is one more than input].
#include "explain_-f.txt"
#include "explain_-m.txt"
#include "explain_precision.txt"
#include "explain_grd_input.txt"
.SH HINTS
If an interpolation point is not on a node of the input grid, then a NaN at any node in the neighborhood 
surrounding the point will yield an interpolated NaN.  Bicubic interpolation [default] yields continuous 
first derivatives but requires a neighborhood of 4 nodes by 4 nodes.  Bilinear interpolation [OPT(Q)] 
uses only a 2 by 2 neighborhood, but yields only zeroth-order continuity.  Use bicubic when smoothness is 
important.  Use bilinear to minimize the propagation of NaNs, or lower \fIthreshold\fP.
.SH EXAMPLES
To sample the file hawaii_topo.grd along the SEASAT track track_4.xyg (An ASCII
table containing longitude, latitude, and SEASAT-derived gravity, preceded by one header record):
.br
.sp
\fBgrdtrack\fP track_4.xyg OPT(G)hawaii_topo.grd OPT(H) > track_4.xygt
.br
.sp
To sample the Sandwell/Smith IMG format file topo.8.2.img (2 minute predicted bathymetry on a Mercator
grid) along the lon,lat coordinates given in the file cruise_track.xy, try
.br
.sp
\fBgrdtrack\fP cruise_track.xy OPT(G)topo.8.2.img,1,1 > obs_and_predicted.d
.SH "SEE ALSO"
.IR GMT (1),
.IR surface (1),
.IR sample1d (1)
