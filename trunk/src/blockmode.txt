#include "common_options.txt"
.TH BLOCKMODE 1 MANDATE GMT_STRING "Generic Mapping Tools"
.SH NAME
blockmode \- filter to block average (\fIx,y,z\fP) data by mode estimation.
.SH SYNOPSIS
\fBblockmode\fP [ \fIxyz[w]file(s)\fP ] GMT_I_OPT GMT_Rx_OPT 
[ OPT(C) ] [ OPT(E) ] [ OPT(F) ] [ GMT_H_OPT ] [ OPT(Q) ] [ GMT_V_OPT ] 
[ OPT(W)[\fBio\fP] ] [ GMT_t_OPT ] [ GMT_b_OPT ] [ GMT_f_OPT ]
.SH DESCRIPTION
\fBblockmode\fP reads arbitrarily located (\fIx,y,z\fP) triples [or optionally weighted
quadruples (\fIx,y,z,w\fP)] from standard input [or \fIxyz[w]file(s)\fP] and writes to
standard output mode estimates of position and value for every non-empty block in a grid
region defined by the OPT(R) and OPT(I) arguments.  Either \fBblockmean\fP, \fBblockmedian\fP,
or \fBblockmode\fP should be used as a pre-processor before running \fBsurface\fP to avoid
aliasing short wavelengths.  These routines are also generally useful for decimating or
averaging (\fIx,y,z\fP) data.  You can modify the precision of the output format by editing
the \fBD_FORMAT\fP parameter in your \.gmtdefaults4 file, or you may choose binary input
and/or output using single or double precision storage.
.TP
\fIxyz[w]file(s)\fP
3 [or 4] column ASCII file(s) [or binary, see OPT(b)] holding (\fIx,y,z\fP[,\fIw\fP])
data values.  [\fIw\fP] is an optional weight for the data.  If no file is specified,
\fBblockmode\fP will read from standard input.
#include "explain_-I.txt"
#include "explain_-R.txt"
.SH OPTIONS
.TP
OPT(C)
Use the center of the block as the output location [Default uses the modal xy location
(but see OPT(Q))].  OPT(C) overrides OPT(Q).
.TP
OPT(E)
Provide Extended report which includes \fBs\fP (the L1 scale of the mode),
\fBl\fP, the lowest value, and \fBh\fP, the high value for each block. Output order
becomes \fIx,y,z,s,l,h\fP[,\fIw\fP]. [Default outputs \fIx,y,z\fP[,\fIw\fP].
See OPT(W) for \fIw\fP output.
#include "explain_nodereg.txt"
Each block is the
locus of points nearest the grid value location.  For example, with OPT(R)10/15/10/15
and and OPT(I)1:  with the OPT(F) option 10 <= (\fIx,y\fP) < 11 is one of 25 blocks;
without it 9.5 <= (\fIx,y\fP) < 10.5 is one of 36 blocks.
#include "explain_-H.txt"
Not used with binary data.
.TP
OPT(Q)
(Quicker) Finds mode \fIz\fP and mean (\fIx, y\fP) [Default finds mode \fIx\fP,
mode \fIy\fP, mode \fIz\fP].
#include "explain_-V.txt"
.TP
OPT(W)
Weighted modifier[s].  Unweighted input and output has 3 columns \fIx,y,z\fP; Weighted
i/o has 4 columns \fIx,y,z,w\fP.  Weights can be used in input to construct weighted
mean values in blocks.  Weight sums can be reported in output for later combining several
runs, etc.  Use OPT(W) for weighted i/o, OPT(Wi) for weighted inputonly, OPT(Wo) for
weighted output only.  [Default uses unweighted i/o].
#include "explain_-t.txt"
#include "explain_-bi.txt"
[Default is 3 (or 4 if OPT(Wi) is set)].
#include "explain_-bo.txt"
[Default is 3 (or 4 if OPT(Wo) is set)]. OPT(E) adds 3 additional columns.
#include "explain_-f.txt"
#include "explain_precision.txt"
.SH EXAMPLES
To find 5 by 5 minute block mode estimates from the double precision binary data in
hawaii_b.xyg and output an ASCII table, run:
.sp
\fBblockmode\fP hawaii_b.xyg OPT(R)198/208/18/25 OPT(I)5\fBm\fP OPT(bi)3 > hawaii_5x5.xyg
.SH "SEE ALSO"
.IR blockmean (1),
.IR blockmedian (1),
.IR GMT (1),
.IR gmtdefaults (1),
.IR nearneighbor (1),
.IR surface (1),
.IR triangulate (1)
