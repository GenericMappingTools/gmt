#include "common_options.txt"
.TH GRDBLEND 1 MANDATE GMT_STRING "Generic Mapping Tools"
.SH NAME
grdblend \- Blend several partially over-lapping grids into one large grid
.SH SYNOPSIS
\fBgrdblend\fP \fIblendfile\fP OPT(G)\fIgrdfile\fP GMT_I_OPT GMT_Rgeo_OPT 
[ OPT(N)\fInodata\fP ] [ OPT(Q) ] [ OPT(Z)\fIscale\fP ] 
[ GMT_V_OPT ] [ OPT(W) ] [ GMT_fi_OPT ]
.SH DESCRIPTION
\fBgrdblend\fP reads a listing of grid files and blend parameters and
creates a binary grid file by blending the other grids using cosine-taper weights.
\fBgrdblend\fP will report if some of the nodes are not filled in with
data.  Such unconstrained nodes are set to a value specified by the user [Default is NaN].
Nodes with more than one value will be set to the weighted average value.
.TP
\fIblendfile\fP
ASCII file with one record per grid file to include in the blend.  Each record must contain three items, separated by spaces or tabs:
the gridfile name, the OPT(R)-setting for the interior region, and the relative weight \fIwr\fP.
In the combined weighting scheme, this grid will be given zero weight outside its domain, weight = \fIwr\fP
inside the interior region, and a 2-D cosine-tapered weight between those end-members in the boundary strip.
However, if a negative \fIwr\fP is given then the sense of tapering is inverted (i.e., zero weight inside its
domain).  If the inner region should instead exactly match the grid region then specify a - instead of the OPT(R)-setting.
If the ASCII file is not given \fBgrdblend\fP will read standard input.
.TP
OPT(G)
\fIgrdfile\fP is the name of the binary output grid file.
(See GRID FILE FORMATS below).
#include "explain_-I.txt"
#include "explain_-R.txt"
.SH OPTIONS
.TP
OPT(N)
No data.  Set nodes with no input grid to this value [Default is NaN].
.TP
OPT(Q)
Create a header-less grid file suitable for use with \fBgrdraster\fP.  Requires that the output grid file
is a native format (i.e., not netCDF).
#include "explain_-V.txt"
.TP
OPT(W)
Do not blend, just output the weights used for each node.  This option is valid when only one
input grid is provided [Default makes the blend].
.TP
OPT(Z)
Scale output values by \fIscale\fP before writing to file. [1].
#include "explain_-f.txt"
#include "explain_grd_output.txt"
#include "explain_grd_coord.txt"
.SH EXAMPLES
To create a grid file from the four grid files piece_?.nc, make the blendfile like this
.br
.sp
piece_1.nc	-R<subregion_1> 1
.br
piece_2.nc	-R<subregion_2> 1
.br
piece_3.nc	-R<subregion_3> 1
.br
piece_4.nc	-R<subregion_4> 1
.br
.sp
Then run
.br
.sp
\fBgrdblend\fP blend.job OPT(G)blend.nc OPT(R)<full_region> OPT(I)<dx/dy> \fB-V\fP
.SH RESTRICTIONS
Currently, all grids processed must have the exact same node registration and grid spacing
as the final output grid.
.SH "SEE ALSO"
.IR GMT (1),
.IR grd2xyz (1),
.IR grdedit (1)
.IR grdraster (1)
