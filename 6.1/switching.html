


<!DOCTYPE html>
<html class="writer-html5" lang="en" >
<head>
  <meta charset="utf-8">
  
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  
  <title>Switching between different versions &mdash; GMT 6.1.1 documentation</title>
  

  
  <link rel="stylesheet" href="_static/css/theme.css" type="text/css" />
  <link rel="stylesheet" href="_static/pygments.css" type="text/css" />
  <link rel="stylesheet" href="_static/style.css" type="text/css" />

  
  
    <link rel="shortcut icon" href="_static/favicon.png"/>
  
  
  

  
  <!--[if lt IE 9]>
    <script src="_static/js/html5shiv.min.js"></script>
  <![endif]-->
  
    
      <script type="text/javascript" id="documentation_options" data-url_root="./" src="_static/documentation_options.js"></script>
        <script src="_static/jquery.js"></script>
        <script src="_static/underscore.js"></script>
        <script src="_static/doctools.js"></script>
        <script src="_static/language_data.js"></script>
        <script async="async" src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.7/latest.js?config=TeX-AMS-MML_HTMLorMML"></script>
    
    <script type="text/javascript" src="_static/js/theme.js"></script>

    
    <link rel="index" title="Index" href="genindex.html" />
    <link rel="search" title="Search" href="search.html" />
    <link rel="next" title="Migrating from an earlier version" href="migrating.html" />
    <link rel="prev" title="Deprecated GMT Defaults Names" href="deprecated-defaults.html" />


  <!-- Point to the *latest* version switcher. This will allow the latest versions to appear on older documentation. -->
  <script type="text/javascript" src="/latest/_static/version_switch.js"></script>


</head>

<body class="wy-body-for-nav">

   
  <div class="wy-grid-for-nav">
    
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search" >
          

          
            <a href="index.html" class="icon icon-home" alt="Documentation Home"> GMT
          

          
          </a>

          
            
            
              <div class="version">
                6.1
              </div>
            
          

          
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>

          
        </div>

        
        <div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="main navigation">
          
    
            
            
              
            
            
              <p class="caption"><span class="caption-text">Getting started</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="gallery.html">Example Gallery</a></li>
<li class="toctree-l1"><a class="reference internal" href="animations.html">Animations</a></li>
<li class="toctree-l1"><a class="reference internal" href="tutorial.html">Tutorial</a></li>
</ul>
<p class="caption"><span class="caption-text">Reference documentation</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="modules.html">Modules</a></li>
<li class="toctree-l1"><a class="reference internal" href="cookbook.html">Cookbook</a></li>
<li class="toctree-l1"><a class="reference internal" href="datasets.html">Datasets</a></li>
</ul>
<p class="caption"><span class="caption-text">Resources</span></p>
<ul class="current">
<li class="toctree-l1"><a class="reference internal" href="users-contrib-scripts.html">Users Script Contributions</a></li>
<li class="toctree-l1"><a class="reference internal" href="users-contrib-symbols.html">Users Symbol Contributions</a></li>
<li class="toctree-l1"><a class="reference internal" href="changes.html">Changelog</a></li>
<li class="toctree-l1"><a class="reference internal" href="deprecated-defaults.html">Deprecated GMT Defaults Names</a></li>
<li class="toctree-l1 current"><a class="current reference internal" href="#">Switching between different versions</a><ul>
<li class="toctree-l2"><a class="reference internal" href="#setup-of-gmtswitch">Setup of gmtswitch</a></li>
<li class="toctree-l2"><a class="reference internal" href="#version-selection-with-helper-function">Version selection with helper function</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="migrating.html">Migrating from an earlier version</a></li>
</ul>
<p class="caption"><span class="caption-text">Classic Mode</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="std-opts-classic.html">Common Options (Classic Mode)</a></li>
<li class="toctree-l1"><a class="reference internal" href="modules-classic.html">Modules (Classic Mode)</a></li>
</ul>
<p class="caption"><span class="caption-text">Developer Resources</span></p>
<ul>
<li class="toctree-l1"><a class="reference external" href="https://github.com/GenericMappingTools/gmt/blob/master/CONTRIBUTING.md">Contributing Guide</a></li>
<li class="toctree-l1"><a class="reference external" href="https://github.com/GenericMappingTools/gmt/blob/master/CODE_OF_CONDUCT.md">Code of Conduct</a></li>
<li class="toctree-l1"><a class="reference internal" href="rst-cheatsheet.html">reStructuredText Cheatsheet</a></li>
<li class="toctree-l1"><a class="reference internal" href="debug.html">Debugging GMT</a></li>
<li class="toctree-l1"><a class="reference internal" href="api.html">GMT C API</a></li>
<li class="toctree-l1"><a class="reference internal" href="postscriptlight.html">PostScriptLight C API</a></li>
</ul>

            
          

    
        <p class="caption">
            <span class="caption-text">Getting help</span>
        </p>
        <ul>
            
                <li class="toctree-l1"><a href="https://www.generic-mapping-tools.org/"><i class="fa fa-home fa-fw"></i> GMT Homepage</a></li>
            
                <li class="toctree-l1"><a href="https://forum.generic-mapping-tools.org/"><i class="fa fa-comment fa-fw"></i> GMT Community Forum</a></li>
            
                <li class="toctree-l1"><a href="https://github.com/GenericMappingTools/gmt/blob/master/LICENSE.TXT"><i class="fa fa-book fa-fw"></i> License</a></li>
            
                <li class="toctree-l1"><a href="https://github.com/GenericMappingTools/gmt"><i class="fa fa-github fa-fw"></i> Source Code</a></li>
            
        </ul>
    

        </div>
        
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap">

      
      <nav class="wy-nav-top" aria-label="top navigation">
        
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="index.html">GMT</a>
        
      </nav>


      <div class="wy-nav-content">
        
        <div class="rst-content">
        
          















<div role="navigation" aria-label="breadcrumbs navigation">

  <ul class="wy-breadcrumbs">
    
      <li><a href="index.html" class="icon icon-home"></a> &raquo;</li>
        
      <li>Switching between different versions</li>
    
    
      <li class="wy-breadcrumbs-aside">
        
            
            
              <a href="https://github.com/GenericMappingTools/gmt/edit/6.1/doc/rst/source/switching.rst" class="fa fa-github"> Edit on GitHub</a>
            
          
        
      </li>
    
  </ul>

  
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
            
  <div class="section" id="switching-between-different-versions">
<h1>Switching between different versions<a class="headerlink" href="#switching-between-different-versions" title="Permalink to this headline">¶</a></h1>
<p>We encourage all GMT users to start using version 5 immediately; it
has been tested extensively by the GMT team and has benefitted from
bug reports for the 4.5.x versions. Users who still worry about the new
version breaking things may install GMT 4.5.x and 5 side by side.</p>
<p>Because GMT 5 is backwards compatible with the 4.5.x series
(provided you configured it that way) yet maintains its parameters and
history in separate files (e.g. <code class="docutils literal notranslate"><span class="pre">.gmtdefaults4</span></code>, versus <code class="docutils literal notranslate"><span class="pre">gmt.conf</span></code>)
it is possible to install and use both versions on the same workstation.
Switching between different GMT versions can be accomplished in several
ways, two of which will be addressed here:</p>
<ol class="arabic simple">
<li><p>By using the <a class="reference internal" href="gmtswitch.html"><span class="doc">gmtswitch</span></a> utility to select the current working version.
<strong>Pro:</strong> easy, interactive way to switch versions on the command line; works with
previous GMT syntax. <strong>Con:</strong> editing of shell startup files required; needs write
access in <code class="docutils literal notranslate"><span class="pre">$HOME</span></code>-directory; manual intervention necessary if symlink
<code class="docutils literal notranslate"><span class="pre">$HOME/this_gmt</span></code> is broken.</p></li>
<li><p>By using the recommended <code class="docutils literal notranslate"><span class="pre">gmt</span> <span class="pre">&lt;module&gt;</span></code>-syntax in conjunction with a shell
helper function that points to the desired GMT executable. <strong>Pro:</strong> no need to
create symlinks and edit shell startup files; scripts are more portable.
<strong>Con:</strong> different syntax required.</p></li>
</ol>
<div class="section" id="setup-of-gmtswitch">
<h2>Setup of gmtswitch<a class="headerlink" href="#setup-of-gmtswitch" title="Permalink to this headline">¶</a></h2>
<p>Run <a class="reference internal" href="gmtswitch.html"><span class="doc">gmtswitch</span></a> after you have finished installing all
GMT versions of interest. The first time you run <a class="reference internal" href="gmtswitch.html"><span class="doc">gmtswitch</span></a> it
will try to find all the available versions installed on your file
system. The versions found will be listed in the file <code class="docutils literal notranslate"><span class="pre">.gmtversions</span></code> in your home
directory; each line is the full path to a GMT root directory (e.g.,
/usr/local/GMT4.5.9). You may manually add or remove entries there at
any time. You are then instructed to make two changes to your
environment (the details are shell-dependent but explained by <a class="reference internal" href="gmtswitch.html"><span class="doc">gmtswitch</span></a>):</p>
<ol class="arabic simple">
<li><p><a class="reference internal" href="gmtswitch.html"><span class="doc">gmtswitch</span></a> creates and maintains a symbolic link <code class="docutils literal notranslate"><span class="pre">this_gmt</span></code> in your home
directory that will point to a directory with one of the installed
GMT versions.</p></li>
<li><p>Make sure <code class="docutils literal notranslate"><span class="pre">$HOME/this_gmt/bin</span></code> is in your executable PATH.</p></li>
</ol>
<p>Make those edits, logout, and login again. The next time you
run <a class="reference internal" href="gmtswitch.html"><span class="doc">gmtswitch</span></a> you will be able to switch between versions. Typing
<a class="reference internal" href="gmtswitch.html"><span class="doc">gmtswitch</span></a> with no argument will list the available versions in a
numerical menu and prompt you to choose one, whereas <a class="reference internal" href="gmtswitch.html"><span class="doc">gmtswitch</span></a>
<em>version</em> will immediately switch to that version (<em>version</em> must be a
piece of unique text making up the full path to a version, e.g., 4.5.9).
If you use <strong>bash</strong>, <strong>tcsh</strong>, or <strong>csh</strong> you may have to type <code class="docutils literal notranslate"><span class="pre">hash</span> <span class="pre">-r</span></code> or
<code class="docutils literal notranslate"><span class="pre">rehash</span></code> to initiate the path changes.</p>
<p>On Windows, the process is somewhat similar. The GMT bin directory has one batch file
<code class="docutils literal notranslate"><span class="pre">gmtswitch.bat</span></code> that works by changing the Windows PATH variable so that the BIN
directory of the preferred version always comes first. To do that the batch works in two
alternative modes.</p>
<ol class="arabic simple">
<li><p>Permanent mode</p></li>
<li><p>Temporary mode</p></li>
</ol>
<p>The permanent mode makes use of the free executable program <a class="reference external" href="http://www.softpedia.com/get/Tweak/Registry-Tweak/EditPath.shtml">EditPath</a>
to change the user path in the registry. It’s called permanent because the changes
remains until … next change.
Off course the editpath.exe binary must be in your system’s path as well.
WARNING: The path change will not be visible on the shell cmd where it was executed.
For the change to be active you will need to open a new cmd window.</p>
<p>The second mode is temporary because the path to the selected GMT binary dir is
prepended to previous path via a shell command line. This modification disappears
when the shell cmd window where it was executes is deleted.</p>
<p>For further details the user should read the entire help section at the header of the
<code class="docutils literal notranslate"><span class="pre">gmtswitch.bat</span></code>.</p>
<p>The <code class="docutils literal notranslate"><span class="pre">gmtswitch.bat</span></code> solution, however, has the drawback that the batch file must be located
elsewhere and in a directory that is on the user’s PATH, otherwise it won’t be located after
first use unless the other GMT bin directory has a similar batch file. A better solution is to install the
<a class="reference external" href="http://sourceforge.net/projects/console">Windows console enhancement</a>
that includes multiple tabs and configure the different tabs to start the different GMT versions.
All it takes is in the Tab setting to call a batch that modifies the PATH locally. That PATH
modifying batch will have a single line with something like:</p>
<blockquote>
<div><div class="highlight-bash notranslate"><div class="highlight"><pre><span></span><span class="nb">set</span> <span class="nv">path</span><span class="o">=</span>C:<span class="se">\p</span>rograms<span class="se">\g</span>mt5<span class="se">\b</span>in<span class="p">;</span>%PATH%
</pre></div>
</div>
</div></blockquote>
</div>
<div class="section" id="version-selection-with-helper-function">
<h2>Version selection with helper function<a class="headerlink" href="#version-selection-with-helper-function" title="Permalink to this headline">¶</a></h2>
<p>A shell function can be used as a wrapper around the gmt executable. This even
works when a gmt application is in the search PATH as it would shadow the real
command. This method can easily be applied on the command line or in scripts
when the recommended <code class="docutils literal notranslate"><span class="pre">gmt</span> <span class="pre">&lt;module&gt;</span></code>-syntax is used. Shell scripts using
old-style GMT commands would have to be converted first. The syntax conversion
can be accomplished with the <a class="reference internal" href="gmt5syntax.html"><span class="doc">gmt5syntax</span></a> utility. A suitable bash wrapper
function for GMT 5 would look like this:</p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span><span class="k">function</span> gmt<span class="o">()</span> <span class="o">{</span> /path/to/gmt5/bin/gmt <span class="s2">&quot;</span><span class="nv">$@</span><span class="s2">&quot;</span><span class="p">;</span> <span class="o">}</span>
<span class="nb">export</span> -f gmt
</pre></div>
</div>
<p>Exporting the function is necessary to make it available to subshells and
scripts. This wrapper function can be either set in your working shell or
inside a GMT shell script. The latter is useful to switch to a certain GMT
version on a per-script basis.</p>
<p>For GMT releases prior to GMT 5 which only provide the module commands,
we need a slightly modified version of the wrapper script:</p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span><span class="k">function</span> gmt<span class="o">()</span> <span class="o">{</span> <span class="nv">module</span><span class="o">=</span><span class="nv">$1</span><span class="p">;</span> shift<span class="p">;</span> /path/to/gmt4/bin/<span class="si">${</span><span class="nv">module</span><span class="si">}</span> <span class="s2">&quot;</span><span class="nv">$@</span><span class="s2">&quot;</span><span class="p">;</span> <span class="o">}</span>
<span class="nb">export</span> -f gmt
</pre></div>
</div>
<p>On the command line this might be too much typing to switch between
versions. So we might as well put everything together in a script file
<code class="docutils literal notranslate"><span class="pre">gmtfun</span></code>:</p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span><span class="k">case</span> <span class="nv">$1</span> in
  <span class="m">4</span><span class="o">)</span>
  <span class="k">function</span> gmt<span class="o">()</span> <span class="o">{</span>
    <span class="nv">module</span><span class="o">=</span><span class="nv">$1</span><span class="p">;</span> shift<span class="p">;</span> /path/to/gmt4/bin/<span class="si">${</span><span class="nv">module</span><span class="si">}</span> <span class="s2">&quot;</span><span class="nv">$@</span><span class="s2">&quot;</span>
  <span class="o">}</span>
  <span class="p">;;</span>
  <span class="m">5</span><span class="o">)</span>
  <span class="k">function</span> gmt<span class="o">()</span> <span class="o">{</span>
    /path/to/gmt5/bin/gmt <span class="s2">&quot;</span><span class="nv">$@</span><span class="s2">&quot;</span>
  <span class="o">}</span>
  <span class="p">;;</span>
  *<span class="o">)</span>
  <span class="k">return</span>
  <span class="p">;;</span>
<span class="k">esac</span>
<span class="nb">export</span> -f gmt
</pre></div>
</div>
<p>Source the file with either <code class="docutils literal notranslate"><span class="pre">.</span> <span class="pre">gmtfun</span> <span class="pre">4</span></code> or <code class="docutils literal notranslate"><span class="pre">.</span> <span class="pre">gmtfun</span> <span class="pre">5</span></code> to switch
between versions.</p>
</div>
</div>


           </div>
           
          </div>
          <footer>
  
    <div class="rst-footer-buttons" role="navigation" aria-label="footer navigation">
      
        <a href="migrating.html" class="btn btn-neutral float-right" title="Migrating from an earlier version" accesskey="n" rel="next">Next <span class="fa fa-arrow-circle-right"></span></a>
      
      
        <a href="deprecated-defaults.html" class="btn btn-neutral float-left" title="Deprecated GMT Defaults Names" accesskey="p" rel="prev"><span class="fa fa-arrow-circle-left"></span> Previous</a>
      
    </div>
  

  <hr/>

  <div role="contentinfo">
    <p>
        
        &copy; Copyright 2020, The GMT Team.
      <span class="lastupdated">
        Last updated on Sep 02, 2020.
      </span>

    </p>
  </div>
    
    
    
    Built with <a href="http://sphinx-doc.org/">Sphinx</a> using a
    
    <a href="https://github.com/rtfd/sphinx_rtd_theme">theme</a>
    
    provided by <a href="https://readthedocs.org">Read the Docs</a>. 

</footer>
        </div>
      </div>

    </section>

  </div>
  

  <script type="text/javascript">
      jQuery(function () {
          SphinxRtdTheme.Navigation.enable(false);
      });
  </script>

  
  
    
   

</body>
</html>