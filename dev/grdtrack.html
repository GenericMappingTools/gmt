
<!DOCTYPE html>
<html class="writer-html5" lang="en" data-content_root="./">
<head>
  <meta charset="utf-8" /><meta name="viewport" content="width=device-width, initial-scale=1" />

  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>grdtrack &mdash; GMT 6.7.0 documentation</title>
      <link rel="stylesheet" type="text/css" href="_static/pygments.css?v=03e43079" />
      <link rel="stylesheet" type="text/css" href="_static/css/theme.css?v=19f00094" />
      <link rel="stylesheet" type="text/css" href="_static/copybutton.css?v=76b2166b" />
      <link rel="stylesheet" type="text/css" href="_static/togglebutton.css?v=13237357" />
      <link rel="stylesheet" type="text/css" href="_static/sphinx-design.min.css?v=95c83b7e" />
      <link rel="stylesheet" type="text/css" href="_static/style.css?v=32d919f4" />

  
    <link rel="shortcut icon" href="_static/favicon.png"/>
    <script src="_static/jquery.js"></script>
    <script src="_static/underscore.js"></script>
    
  <!--[if lt IE 9]>
    <script src="_static/js/html5shiv.min.js"></script>
  <![endif]-->
  
        <script src="_static/jquery.js?v=5d32c60e"></script>
        <script src="_static/_sphinx_javascript_frameworks_compat.js?v=2cd50e6c"></script>
        <script src="_static/documentation_options.js?v=9cce70e7"></script>
        <script src="_static/doctools.js?v=9a2dae69"></script>
        <script src="_static/sphinx_highlight.js?v=dc90522c"></script>
        <script src="_static/clipboard.min.js?v=a7894cd8"></script>
        <script src="_static/copybutton.js?v=f281be69"></script>
        <script>let toggleHintShow = 'Click to show example script';</script>
        <script>let toggleHintHide = 'Click to hide';</script>
        <script>let toggleOpenOnPrint = 'true';</script>
        <script src="_static/togglebutton.js?v=4a39c7ea"></script>
        <script src="_static/design-tabs.js?v=f930bc37"></script>
        <script>var togglebuttonSelector = '.toggle, .admonition.dropdown';</script>
        <script>var togglebuttonSelector = '.toggle, .admonition.dropdown';</script>
    <script src="_static/js/theme.js"></script>
    <link rel="index" title="Index" href="genindex.html" />
    <link rel="search" title="Search" href="search.html" />
    <link rel="next" title="grdtrend" href="grdtrend.html" />
    <link rel="prev" title="grdselect" href="grdselect.html" />


  <!-- Point to the *latest* version switcher. This will allow the latest versions to appear on older documentation. -->
  <script type="text/javascript" src="/latest/_static/version_switch.js"></script>


</head>

<body class="wy-body-for-nav"> 
  <div class="wy-grid-for-nav">
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search" >

          
          
          <a href="index.html" class="icon icon-home">
            GMT
          </a>
              <div class="version">
                6.7
              </div>
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" aria-label="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>
        </div><div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="Navigation menu">
    
              <p class="caption" role="heading"><span class="caption-text">Getting started</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="intro.html">Introduction</a></li>
<li class="toctree-l1"><a class="reference internal" href="install.html">Installing GMT</a></li>
<li class="toctree-l1"><a class="reference internal" href="gallery.html">Illustration Gallery</a></li>
<li class="toctree-l1"><a class="reference internal" href="animations.html">Animation Gallery</a></li>
<li class="toctree-l1"><a class="reference internal" href="tutorial.html">Tutorials</a></li>
</ul>
<p class="caption" role="heading"><span class="caption-text">Reference documentation</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="modules.html">Modules</a></li>
<li class="toctree-l1"><a class="reference internal" href="reference.html">Technical Reference</a></li>
<li class="toctree-l1"><a class="reference internal" href="datasets.html">Datasets</a></li>
<li class="toctree-l1"><a class="reference internal" href="modules-classic.html">Modules (Classic Mode)</a></li>
</ul>
<p class="caption" role="heading"><span class="caption-text">Resources</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="changes.html">Changelog</a></li>
<li class="toctree-l1"><a class="reference internal" href="users-contrib-symbols.html">Users Symbol Contributions</a></li>
<li class="toctree-l1"><a class="reference internal" href="deprecated-defaults.html">Deprecated GMT Defaults Names</a></li>
<li class="toctree-l1"><a class="reference internal" href="switching.html">Switching between Different Versions</a></li>
<li class="toctree-l1"><a class="reference internal" href="migrating.html">Migrating from an Earlier Version</a></li>
</ul>
<p class="caption" role="heading"><span class="caption-text">Development</span></p>
<ul>
<li class="toctree-l1"><a class="reference external" href="https://github.com/GenericMappingTools/.github/blob/main/CODE_OF_CONDUCT.md">Code of Conduct</a></li>
<li class="toctree-l1"><a class="reference internal" href="devdocs/contributing.html">Contributors Guide</a></li>
<li class="toctree-l1"><a class="reference internal" href="devdocs/maintenance.html">Maintainers Guide</a></li>
<li class="toctree-l1"><a class="reference internal" href="devdocs/team.html">Team Gallery</a></li>
<li class="toctree-l1"><a class="reference internal" href="devdocs/rst-cheatsheet.html">reStructuredText Cheatsheet</a></li>
<li class="toctree-l1"><a class="reference internal" href="devdocs/debug.html">Debugging GMT</a></li>
<li class="toctree-l1"><a class="reference internal" href="devdocs/api.html">GMT C API</a></li>
<li class="toctree-l1"><a class="reference internal" href="devdocs/postscriptlight.html">PostScriptLight C API</a></li>
<li class="toctree-l1"><a class="reference internal" href="devdocs/devdocs.html">GMT Enhancement Proposals</a></li>
</ul>


    
        <p class="caption">
            <span class="caption-text">Getting help</span>
        </p>
        <ul>
            
                <li class="toctree-l1"><a href="https://www.generic-mapping-tools.org/"><i class="fa fa-home fa-fw"></i> GMT Homepage</a></li>
            
                <li class="toctree-l1"><a href="https://forum.generic-mapping-tools.org/"><i class="fa fa-comment fa-fw"></i> GMT Community Forum</a></li>
            
                <li class="toctree-l1"><a href="https://github.com/GenericMappingTools/gmt/blob/master/LICENSE.TXT"><i class="fa fa-book fa-fw"></i> License</a></li>
            
                <li class="toctree-l1"><a href="https://github.com/GenericMappingTools/gmt"><i class="fa fa-github fa-fw"></i> Source Code</a></li>
            
                <li class="toctree-l1"><a href="/dev/gmt-docs-dev.zip"><i class="fa fa-download fa-fw"></i> Documentation HTML zip</a></li>
            
        </ul>
    

        </div>
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap"><nav class="wy-nav-top" aria-label="Mobile navigation menu" >
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="index.html">GMT</a>
      </nav>

      <div class="wy-nav-content">
        <div class="rst-content">
          <div role="navigation" aria-label="Page navigation">
  <ul class="wy-breadcrumbs">
      <li><a href="index.html" class="icon icon-home" aria-label="Home"></a></li>
          <li class="breadcrumb-item"><a href="modules.html">Modules</a></li>
      <li class="breadcrumb-item active">grdtrack</li>
      <li class="wy-breadcrumbs-aside">
              <a href="https://github.com/GenericMappingTools/gmt/edit/master/doc/rst/source/grdtrack.rst" class="fa fa-github"> Edit on GitHub</a>
      </li>
  </ul>
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
             
  <span class="target" id="index-0"></span><section id="grdtrack">
<h1>grdtrack<a class="headerlink" href="#grdtrack" title="Link to this heading"></a></h1>
<p>Sample one or more grids at specified locations</p>
<section id="synopsis">
<h2>Synopsis<a class="headerlink" href="#synopsis" title="Link to this heading"></a></h2>
<p><strong>gmt grdtrack</strong> [ <em>table</em> ] <a class="reference internal" href="#g"><span><strong>-G</strong></span></a></strong><em>grd1</em> [ <a class="reference internal" href="#g"><span><strong>-G</strong></span></a></strong><em>grd2</em> … ]
[ <a class="reference internal" href="#a"><span><strong>-A</strong></span></a></strong>[<strong>f</strong>|<strong>p</strong>|<strong>m</strong>|<strong>r</strong>|<strong>R</strong>][<strong>+l</strong>] ]
[ <a class="reference internal" href="#c"><span><strong>-C</strong></span></a></strong><em>length</em>/<em>ds</em>[<em>/spacing</em>][<strong>+a</strong>|<strong>v</strong>][<strong>d</strong>|<strong>f</strong><em>value</em>][<strong>l</strong>|<strong>r</strong>] ]
[ <a class="reference internal" href="#d"><span><strong>-D</strong></span></a></strong><em>dfile</em> ]
[ <a class="reference internal" href="#e"><span><strong>-E</strong></span></a></strong><em>line</em> ]
[ <a class="reference internal" href="#f"><span><strong>-F</strong></span></a></strong>[<strong>+b</strong>][<strong>+n</strong>][<strong>+r</strong>][<strong>+z</strong><em>z0</em>] ]
[ <a class="reference internal" href="#n"><span><strong>-N</strong></span></a></strong> ]
[ <a class="reference internal" href="#r"><span><strong>-R</strong></span></a></strong><em>region</em> ]
[ <a class="reference internal" href="#s"><span><strong>-S</strong></span></a></strong><em>method</em>/<em>modifiers</em> ]
[ <a class="reference internal" href="#s"><span><strong>-S</strong></span></a></strong>[<strong>a</strong>|<strong>l</strong>|<strong>L</strong>|<strong>m</strong>|<strong>p</strong>|<strong>u</strong>|<strong>U</strong>][<strong>+a</strong>][<strong>+c</strong>][<strong>+d</strong>][<strong>+r</strong>][<strong>+s</strong>[<em>file</em>] ]
[ <a class="reference internal" href="#t"><span><strong>-T</strong></span></a></strong>[<em>radius</em>][<strong>+e</strong>|<strong>p</strong>]]
[ <a class="reference internal" href="#v"><span><strong>-V</strong></span></a></strong>[<em>level</em>] ]
[ <a class="reference internal" href="#z"><span><strong>-Z</strong></span></a></strong> ]
[ <strong>-a</strong><a class="reference internal" href="gmt.html#aspatial-full"><span class="std std-ref">flags</span></a> ]
[ <strong>-b</strong><a class="reference internal" href="gmt.html#bi-full"><span class="std std-ref">binary</span></a> ]
[ <strong>-d</strong><a class="reference internal" href="gmt.html#d-full"><span class="std std-ref">nodata</span></a>[<strong>+c</strong><em>col</em>] ]
[ <strong>-e</strong><a class="reference internal" href="gmt.html#e-full"><span class="std std-ref">regexp</span></a> ]
[ <strong>-f</strong><a class="reference internal" href="gmt.html#f-full"><span class="std std-ref">flags</span></a> ]
[ <strong>-g</strong><a class="reference internal" href="gmt.html#g-full"><span class="std std-ref">gaps</span></a> ]
[ <strong>-h</strong><a class="reference internal" href="gmt.html#h-full"><span class="std std-ref">headers</span></a> ]
[ <strong>-i</strong><a class="reference internal" href="gmt.html#icols-full"><span class="std std-ref">flags</span></a> ]
[ <strong>-j</strong><a class="reference internal" href="gmt.html#distcalc-full"><span class="std std-ref">flags</span></a> ]
[ <strong>-n</strong><a class="reference internal" href="gmt.html#n-full"><span class="std std-ref">flags</span></a> ]
[ <strong>-o</strong><a class="reference internal" href="gmt.html#ocols-full"><span class="std std-ref">flags</span></a> ]
[ <strong>-q</strong><a class="reference internal" href="gmt.html#q-full"><span class="std std-ref">flags</span></a> ]
[ <strong>-s</strong><a class="reference internal" href="gmt.html#s-full"><span class="std std-ref">flags</span></a> ]
[ <strong>-w</strong><a class="reference internal" href="gmt.html#w-full"><span class="std std-ref">flags</span></a> ]
[ <strong>-:</strong>[<strong>i</strong>|<strong>o</strong>] ]
[ <strong>--PAR</strong>=<em>value</em> ]</p>
<p><strong>Note</strong>: No space is allowed between the option flag and the associated arguments.</p>
</section>
<section id="description">
<h2>Description<a class="headerlink" href="#description" title="Link to this heading"></a></h2>
<p><strong>grdtrack</strong> reads one or more grid files (or a Sandwell/Smith IMG
files) and a table (from file or standard input; but see <a class="reference internal" href="#e"><span><strong>-E</strong></span></a></strong> for
exception) with (<em>x, y</em>) [or (<em>lon, lat</em>)] positions in the first two columns
(more columns may be present). It interpolates the grid(s) at the
positions in the table and writes out the table with the interpolated
values added as (one or more) new columns. Alternatively (<a class="reference internal" href="#c"><span><strong>-C</strong></span></a></strong>), the
input is considered to be line-segments and we create orthogonal
cross-profiles at each data point or with an equidistant separation and
sample the grid(s) along these profiles. A bicubic [Default], bilinear,
B-spline or nearest-neighbor (see <strong>-n</strong>) interpolation is used,
requiring boundary conditions at the limits of the region (see <strong>-n</strong>;
Default uses “natural” conditions (second partial derivative normal to
edge is zero) unless the grid is automatically recognized as periodic.)</p>
</section>
<section id="required-arguments">
<h2>Required Arguments<a class="headerlink" href="#required-arguments" title="Link to this heading"></a></h2>
<dl class="simple">
<dt><em>table</em></dt><dd><p>This is an ASCII (or binary, see <strong>-bi</strong>) file where the first 2 columns
hold the (<em>x, y</em>) positions where the user wants to sample the 2-D data set.
If no tables are given then we read from standard input. If <a class="reference internal" href="#e"><span><strong>-E</strong></span></a></strong> is set
then no input table is read since we will create one from the given
<a class="reference internal" href="#e"><span><strong>-E</strong></span></a></strong> parameters.</p>
</dd>
</dl>
<dl class="simple" id="g">
<dt><strong>-G</strong><em>gridfile</em></dt><dd><p><em>gridfile</em> is a 2-D binary grid file with the function <em>f</em>(<em>x, y</em>). If the
specified grid is in Sandwell/Smith Mercator format you must append
a comma-separated list of arguments that includes a scale to
multiply the data (usually 1 or 0.1), the mode which stand for the
following: (0) Img files with no constraint code, returns data at
all points, (1) Img file with constraints coded, return data at all
points, (2) Img file with constraints coded, return data only at
constrained points and NaN elsewhere, and (3) Img file
with constraints coded, return 1 at constraints and 0 elsewhere, and
optionally the max latitude in the IMG file [80.738]. You may repeat
<a class="reference internal" href="#g"><span><strong>-G</strong></span></a></strong> as many times as you have grids you wish to sample.
Alternatively, use <strong>-G+l</strong><em>list</em> to pass a file whose first word
in the trailing text record will be extracted as the file names.
Note, this means that file must have at least one numeric column before the text holding the grid names.
The grids are sampled and results are output in the order given.
(See <a class="reference internal" href="gmt.html#grd-inout-full"><span class="std std-ref">Grid File Formats</span></a>). <strong>Note</strong>: If <em>gridfile</em>
is a remote global grid and no registration is specified then <strong>grdtrack</strong>
will default to gridline registration (instead of the default pixel registration)
to ensure all input points are inside the grid.</p>
</dd>
</dl>
</section>
<section id="optional-arguments">
<h2>Optional Arguments<a class="headerlink" href="#optional-arguments" title="Link to this heading"></a></h2>
<dl class="simple" id="a">
<dt><strong>-A</strong>[<strong>f</strong>|<strong>p</strong>|<strong>m</strong>|<strong>r</strong>|<strong>R</strong>][<strong>+l</strong>]</dt><dd><p>For track resampling (if <a class="reference internal" href="#c"><span><strong>-C</strong></span></a></strong> or <a class="reference internal" href="#e"><span><strong>-E</strong></span></a></strong> are set) we can select how this is to
be performed. Append <strong>f</strong> to keep original points, but add
intermediate points if needed [Default], <strong>m</strong> as <strong>f</strong>, but first
follow meridian (along y) then parallel (along x), <strong>p</strong> as <strong>f</strong>,
but first follow parallel (along y) then meridian (along x), <strong>r</strong>
to resample at equidistant locations; input points are not
necessarily included in the output, and <strong>R</strong> as <strong>r</strong>, but adjust
given spacing to fit the track length exactly. Finally, append
<strong>+l</strong> if geographic distances should be measured along rhumb lines
(loxodromes) instead of great circles. Ignored unless <a class="reference internal" href="#c"><span><strong>-C</strong></span></a></strong> is used.</p>
</dd>
</dl>
<dl class="simple" id="c">
<dt><strong>-C</strong><em>length</em>/<em>ds</em>[<em>/spacing</em>][<strong>+a</strong>|<strong>v</strong>][<strong>d</strong>|<strong>f</strong><em>value</em>][<strong>l</strong>|<strong>r</strong>]</dt><dd><p>Use input line segments to create an equidistant and (optionally)
equally-spaced set of crossing profiles along which we sample the
grid(s).
Specify two length scales that control how the sampling is done:
<em>length</em> sets the full length of each cross-profile, while <em>ds</em> is
the sampling spacing along each cross-profile. Optionally, append
<strong>/</strong><em>spacing</em> for an equidistant spacing between cross-profiles
[Default erects cross-profiles at the input coordinates]; see <a class="reference internal" href="#a"><span><strong>-A</strong></span></a></strong>
for how resampling the input track is controlled. By
default, all cross-profiles have the same direction (left to right
as we look in the direction of the input line segment). Append <strong>+a</strong>
to alternate the direction of cross-profiles, or <strong>+v</strong> to enforce
either a “west-to-east” or “south-to-north” view. By default the entire
profiles are output.  Choose to only output the left or right halves
of the profiles by appending <strong>+l</strong> or <strong>+r</strong>, respectively.  Append suitable units
to <em>length</em>; it sets the unit used for <em>ds</em> [and <em>spacing</em>] (See
<a class="reference internal" href="#units">Units</a> below). The default unit for geographic grids is meter while
Cartesian grids implies the user unit.  The output columns will be
<em>lon</em>, <em>lat</em>, <em>dist</em>, <em>azimuth</em>, <em>z1</em>, <em>z2</em>, …, <em>zn</em> (The <em>zi</em> are
the sampled values for each of the <em>n</em> grids). Use <strong>+d</strong> to
change the profiles from being orthogonal to the line by the given
<em>deviation</em> [0]. Looking in the direction of the line, a positive <em>deviation</em>
will rotate the crosslines clockwise and a negative one will rotate them
counter-clockwise.  Finally, you can use <strong>+f</strong> to set a fixed azimuth
for all profiles. <strong>Note</strong>: If <a class="reference internal" href="#c"><span><strong>-C</strong></span></a></strong> is set and <em>spacing</em> is given then
that sampling scheme overrules any modifier set in <a class="reference internal" href="#e"><span><strong>-E</strong></span></a></strong>.
Currently, there is a bug when <a class="reference internal" href="#c"><span><strong>-C</strong></span></a></strong> and <a class="reference internal" href="#e"><span><strong>-E</strong></span></a></strong> use different units
(see PR <a class="reference external" href="https://github.com/GenericMappingTools/gmt/pull/8728">#8728</a> ).
If you use both, please manually specify the same unit for each.</p>
</dd>
</dl>
<dl class="simple" id="d">
<dt><strong>-D</strong><em>dfile</em></dt><dd><p>In concert with <a class="reference internal" href="#c"><span><strong>-C</strong></span></a></strong> we can save the (possibly resampled) original
lines to the file <em>dfile</em> [Default only saves the cross-profiles].
The columns will be <em>lon</em>, <em>lat</em>, <em>dist</em>, <em>azimuth</em>, <em>z1</em>, <em>z2</em>, …
(sampled value for each grid).</p>
</dd>
</dl>
<dl id="e">
<dt><strong>-E</strong><em>table</em>|<em>origin</em><a href="#id2"><span class="problematic" id="id3">|</span></a><em>line</em>[,<em>line</em>,…][<strong>+a</strong><em>az</em>][<strong>+c</strong>][<strong>+d</strong>][<strong>+g</strong>][<strong>+i</strong><em>inc</em>][<strong>+l</strong><em>length</em>][<strong>+n</strong><em>np</em>][<strong>+o</strong><em>az</em>][<strong>+p</strong>][<strong>+r</strong><em>radius</em>][<strong>+x</strong>]</dt><dd><p>Specify one or more profiles along which we will sample the grid (or cube).
There are several way to supply or create the profiles:</p>
<ul class="simple">
<li><p>Give your custom profiles via a <em>table</em> containing <em>lon lat</em> points.</p></li>
<li><p>Given an <em>origin</em> (and <em>azimuth</em> and <em>length</em> and relevant modifiers below).</p></li>
<li><p>Give one or more lines. The format of each <em>line</em> is <em>start</em>/<em>stop</em>, where
<em>start</em> or <em>stop</em> are either <em>lon</em>/<em>lat</em> (<em>x</em>/<em>y</em> for Cartesian data) or a
2-character key that uses the <a class="reference internal" href="text.html"><span class="doc">text</span></a>-style justification format to
specify a point on the map as [LCR][BMT]. In addition to line coordinates,
you can use Z-, Z+ to mean the global minimum and maximum locations in the
grid (only available if a single input grid is given) or top layer in a cube
(only for doc:<cite>grdinterpolate</cite>).</p></li>
</ul>
<p>Choose among several modifiers to create profiles:</p>
<ul class="simple">
<li><p><strong>+a</strong> - Set the <em>azimuth</em> of a profile of given <em>length</em> (see <strong>+l</strong>) starting at the given <em>origin</em>.</p></li>
<li><p><strong>+c</strong> - Connect multiple profile segments with shared joints into a single segment.</p></li>
<li><p><strong>+d</strong> - Compute the along-track distances of the profiles.</p></li>
<li><p><strong>+g</strong> - Report degrees of longitude or latitude instead of great circle distances starting at zero [Default].</p></li>
<li><p><strong>+i</strong> - Append <em>inc</em> to set the sampling interval; if not given then we default to half the minimum grid interval.</p></li>
<li><p><strong>+l</strong> - Append the total <em>length</em> of the profile if <strong>+a</strong> or <strong>+o</strong> are used with an <em>origin</em>.</p></li>
<li><p><strong>+n</strong> - Append the desired number of points along profile (which determines the sampling interval).</p></li>
<li><p><strong>+o</strong> - Like <strong>+a</strong>, but centers the profile on the given <em>origin</em> in the <em>azimuth</em> direction.</p></li>
<li><p><strong>+p</strong> - Force sampling along the parallel if your <em>line</em> starts and ends at the same latitude [Great circle].</p></li>
<li><p><strong>+r</strong> - Append <em>radius</em> for circular sampling along small circle of given radius centered on the <em>origin</em>.
Requires either <strong>+n</strong> or <strong>+i</strong>.</p></li>
<li><p><strong>+x</strong> - Compute distances along a loxodrome (i.e., rhumbline) instead of along the great circle.</p></li>
</ul>
<p><strong>Notes</strong>: (1) Only one distance unit can be chosen.  Giving different units
will result in an error.  If no units are specified we default to
great circle distances in km (if geographic). (2) If working with geographic
data you can use <strong>-j</strong> to control the distance calculation mode [Great Circle].</p>
</dd>
</dl>
<dl class="simple" id="f">
<dt><strong>-F</strong>[<strong>+b</strong>][<strong>+n</strong>][<strong>+r</strong>][<strong>+z</strong><em>z0</em>]</dt><dd><p>Find critical points along each cross-profile as a function of along-track distance.
Requires <a class="reference internal" href="#c"><span><strong>-C</strong></span></a></strong> and a single input grid (<em>z</em>). We examine each cross-profile generated
and report (<em>dist</em>, <em>lonc</em>, <em>latc</em>, <em>distc</em>, <em>azimuthc</em>, <em>zc</em>) at the center peak of
maximum <em>z</em> value, (<em>lonl</em>, <em>latl</em>, <em>distl</em>) and (<em>lonr</em>, <em>latr</em>, <em>distr</em>)
at the first and last non-NaN point whose <em>z</em>-value exceeds <em>z0</em>, respectively,
and the <em>width</em> based on the two extreme points found. Here, <em>dist</em> is the distance
along the original input <em>trackfile</em> and the other 12 output columns are a function
of that distance.  When searching for the center peak and the extreme first and last
values that exceed the threshold we assume the profile is positive up.  If we instead
are looking for a trough then you must use <strong>+n</strong> to temporarily flip the profile to
positive (internally). The threshold <em>z0</em> value is always given as &gt;= 0; use <strong>+z</strong> to change it [0].
Alternatively, use <strong>+b</strong> to determine the balance point and standard deviation of the
profile; this is the weighted mean and weighted standard deviation of the distances,
with <em>z</em> acting as the weight. Finally, use <strong>+r</strong> to obtain the weighted rms about the
cross-track center (<em>distc</em> == 0).  <strong>Note</strong>: We round the exact results to the nearest
distance nodes along the cross-profiles.  We write 13 output columns per track:
<em>dist, lonc, latc, distc, azimuthc, zc, lonl, latl, distl, lonr, latr, distr, width</em>.</p>
</dd>
</dl>
<dl class="simple" id="n">
<dt><strong>-N</strong></dt><dd><p>Do <em>not</em> skip points that fall outside the domain of the grid(s)
[Default only output points within grid domain].</p>
</dd>
</dl>
<dl class="simple" id="r">
<dt><strong>-R</strong><em>xmin</em>/<em>xmax</em>/<em>ymin</em>/<em>ymax</em>[<strong>+r</strong>][<strong>+u</strong><em>unit</em>]</dt><dd><p>Specify the region of interest. <a class="reference internal" href="gmt.html#r-full"><span class="std std-ref">(See full description)</span></a> <a class="reference internal" href="reference/options.html#data-domain-or-map-region-the-r-option"><span class="std std-ref">(See technical reference)</span></a>.</p>
</dd>
</dl>
<dl class="simple" id="s">
<dt><strong>-S</strong>[<strong>a</strong>|<strong>l</strong>|<strong>L</strong>|<strong>m</strong>|<strong>p</strong>|<strong>u</strong>|<strong>U</strong>][<strong>+a</strong>][<strong>+c</strong>][<strong>+d</strong>][<strong>+r</strong>][<strong>+s</strong>[<em>file</em>]</dt><dd><p>In conjunction with <a class="reference internal" href="#c"><span><strong>-C</strong></span></a></strong>, compute a single stacked profile from
all profiles across each segment. Append a method for how stacking should be
computed: <strong>a</strong> = mean (average), <strong>m</strong> = median, <strong>p</strong> = mode
(maximum likelihood), <strong>l</strong> = lower, <strong>L</strong> = lower but only consider
positive values, <strong>u</strong> = upper, <strong>U</strong> = upper but only consider
negative values [<strong>a</strong>]. The <em>modifiers</em> control the output;
choose one or more among these choices: <strong>+a</strong> : Append stacked
values to all cross-profiles. <strong>+d</strong> : Append stack deviations to
all cross-profiles. <strong>+r</strong> : Append data residuals (data - stack) to
all cross-profiles. <strong>+s</strong>[<em>file</em>] : Save stacked profile to
<em>file</em> [stacked_profile.txt]. <strong>+c</strong><em>fact</em> : Compute
uncertainty envelope on stacked profile as ±<em>fact</em> *<em>deviation</em> [2].
<strong>Notes</strong>: (1) Deviations depend on <em>method</em> and are standard deviation (<strong>a</strong>), L1
scale, i.e., 1.4826 * median absolute deviation (MAD) (for <strong>m</strong> and <strong>p</strong>),
or half-range (upper-lower)/2 (for <strong>l</strong>, <strong>L</strong>, <strong>u</strong> and <strong>U</strong>). (2) The
stacked profile file contains a leading column plus groups of 4-6 columns, with one
group for each sampled grid. The leading column holds cross distance,
while the first four columns in a group hold stacked value, deviation, min
value, and max value, respectively. If <em>method</em> is one of
<strong>a</strong>|<strong>m</strong>|<strong>p</strong> then we also write two additional columns: the lower and upper
confidence bounds (see <strong>+c</strong>). When one or more of <strong>+a</strong>, <strong>+d</strong>,
and <strong>+r</strong> are used then we also append the stacking results to the end of each
row, for all cross-profiles. The order is always stacked value
(<strong>+a</strong>), followed by deviations (<strong>+d</strong>) and finally residuals (<strong>+r</strong>);
actual output depends on which of these modifiers were actually used.
When more than one grid is sampled this sequence of 1-3 columns is
repeated for each grid. (3) See Illustration Gallery 33 for an example
of grid profile stacking.</p>
</dd>
</dl>
<dl class="simple" id="t">
<dt><strong>-T</strong>[<em>radius</em>][<strong>+e</strong>|<strong>p</strong>]</dt><dd><p>To be used with normal grid sampling, and limited to a single, non-IMG grid.
If the nearest node to the input point is NaN, search outwards until we find
the nearest non-NaN node and report that value instead.  Optionally specify
a search radius which limits the consideration to points within this distance
from the input point.  To report the location of the nearest node and its
distance from the input point, append <strong>+e</strong>. The default unit for geographic
grid distances is spherical degrees.  Use <em>radius</em> to change the unit
and give <em>radius</em> = 0 if you do not want to limit the radius search.
To instead replace the input point with the coordinates of the nearest node, append <strong>+p</strong>.</p>
</dd>
</dl>
<dl class="simple" id="v">
<dt><strong>-V</strong>[<em>level</em>]</dt><dd><p>Select verbosity level [<strong>w</strong>]. <a class="reference internal" href="gmt.html#v-full"><span class="std std-ref">(See full description)</span></a> <a class="reference internal" href="reference/options.html#verbose-feedback-the-v-option"><span class="std std-ref">(See technical reference)</span></a>.</p>
</dd>
</dl>
<dl class="simple" id="z">
<dt><strong>-Z</strong></dt><dd><p>Only write out the sampled z-values [Default writes all columns].
<strong>Note</strong>: If used in conjunction with <strong>-s</strong> then the default
column becomes 0 instead of 2.  If specifying specific columns
in <strong>-s</strong> then start numbering the z-columns from 0 instead of 2.</p>
</dd>
</dl>
<dl class="simple">
<dt><strong>-a</strong>[[<em>col</em>=]<em>name</em>[,<em>…</em>]] <a class="reference internal" href="gmt.html#aspatial-full"><span class="std std-ref">(more …)</span></a></dt><dd><p>Set aspatial column associations <em>col</em>=<em>name</em>.</p>
</dd>
</dl>
<dl class="simple">
<dt><strong>-bi</strong><em>record</em>[<strong>+b</strong>|<strong>l</strong>] <a class="reference internal" href="gmt.html#bi-full"><span class="std std-ref">(more …)</span></a></dt><dd><p>Select native binary format for primary table input. [Default is 2 input columns].</p>
</dd>
</dl>
<dl class="simple">
<dt><strong>-bo</strong><em>record</em>[<strong>+b</strong>|<strong>l</strong>] <a class="reference internal" href="gmt.html#bo-full"><span class="std std-ref">(more …)</span></a></dt><dd><p>Select native binary format for table output. [Default is one more than input].</p>
</dd>
</dl>
<dl class="simple">
<dt><strong>-d</strong>[<strong>i</strong>|<strong>o</strong>][<strong>+c</strong><em>col</em>]<em>nodata</em> <a class="reference internal" href="gmt.html#d-full"><span class="std std-ref">(more …)</span></a></dt><dd><p>Replace input columns that equal <em>nodata</em> with NaN and do the reverse on output.  </p>
</dd>
</dl>
<dl class="simple">
<dt><strong>-e</strong>[<strong>~</strong>]<em>“pattern”</em> | <strong>-e</strong>[<strong>~</strong>]/<em>regexp</em>/[<strong>i</strong>] <a class="reference internal" href="gmt.html#e-full"><span class="std std-ref">(more …)</span></a></dt><dd><p>Only accept data records that match the given pattern.  </p>
</dd>
</dl>
<dl class="simple">
<dt><strong>-f</strong>[<strong>i</strong>|<strong>o</strong>]<em>colinfo</em> <a class="reference internal" href="gmt.html#f-full"><span class="std std-ref">(more …)</span></a></dt><dd><p>Specify data types of input and/or output columns.  </p>
</dd>
</dl>
<dl class="simple">
<dt><strong>-g</strong><strong>x</strong>|<strong>y</strong>|<strong>z</strong>|<strong>d</strong>|<strong>X</strong>|<strong>Y</strong>|<strong>D</strong><em>gap</em>[<strong>u</strong>][<strong>+a</strong>][<strong>+c</strong><em>col</em>][<strong>+n</strong>|<strong>p</strong>]  <a class="reference internal" href="gmt.html#g-full"><span class="std std-ref">(more …)</span></a></dt><dd><p>Determine data gaps and line breaks.  </p>
</dd>
</dl>
<dl class="simple">
<dt><strong>-h</strong>[<strong>i</strong>|<strong>o</strong>][<em>n</em>][<strong>+c</strong>][<strong>+d</strong>][<strong>+m</strong><em>segheader</em>][<strong>+r</strong><em>remark</em>][<strong>+t</strong><em>title</em>] <a class="reference internal" href="gmt.html#h-full"><span class="std std-ref">(more …)</span></a></dt><dd><p>Skip or produce header record(s).  </p>
</dd>
</dl>
<dl class="simple">
<dt><strong>-i</strong><em>cols</em>[<strong>+l</strong>][<strong>+d</strong><em>divisor</em>][<strong>+s</strong><em>scale</em>|<strong>d</strong>|<strong>k</strong>][<strong>+o</strong><em>offset</em>][,<em>…</em>][,<strong>t</strong>[<em>word</em>]] <a class="reference internal" href="gmt.html#icols-full"><span class="std std-ref">(more …)</span></a></dt><dd><p>Select input columns and transformations (0 is first column, <strong>t</strong> is trailing text, append <em>word</em> to read one word only).</p>
</dd>
</dl>
<dl class="simple">
<dt><strong>-je</strong>|<strong>f</strong>|<strong>g</strong> <a class="reference internal" href="gmt.html#distcalc-full"><span class="std std-ref">(more …)</span></a></dt><dd><p>Determine how spherical distances or coordinate transformations are calculated.</p>
</dd>
</dl>
<dl class="simple">
<dt><strong>-n</strong>[<strong>b</strong>|<strong>c</strong>|<strong>l</strong>|<strong>n</strong>][<strong>+a</strong>][<strong>+b</strong><em>BC</em>][<strong>+c</strong>][<strong>+t</strong><em>threshold</em>] <a class="reference internal" href="gmt.html#n-full"><span class="std std-ref">(more …)</span></a></dt><dd><p>Select interpolation mode for grids.</p>
</dd>
</dl>
<dl class="simple">
<dt><strong>-o</strong><em>cols</em>[<strong>+l</strong>][<strong>+d</strong><em>divisor</em>][<strong>+s</strong><em>scale</em>|<strong>d</strong>|<strong>k</strong>][<strong>+o</strong><em>offset</em>][,<em>…</em>][,<strong>t</strong>[<em>word</em>]] <a class="reference internal" href="gmt.html#ocols-full"><span class="std std-ref">(more …)</span></a></dt><dd><p>Select output columns and transformations (0 is first column, <strong>t</strong> is trailing text, append <em>word</em> to write one word only).</p>
</dd>
</dl>
<dl class="simple">
<dt><strong>-q</strong>[<strong>i</strong>|<strong>o</strong>][~]<em>rows</em>|<em>limits</em>[<strong>+c</strong><em>col</em>][<strong>+a</strong>|<strong>t</strong>|<strong>s</strong>] <a class="reference internal" href="gmt.html#q-full"><span class="std std-ref">(more …)</span></a></dt><dd><p>Select input or output rows or data limit(s) [all].</p>
</dd>
</dl>
<dl class="simple">
<dt><strong>-s</strong>[<em>cols</em>][<strong>+a</strong>][<strong>+r</strong>] <a class="reference internal" href="gmt.html#s-full"><span class="std std-ref">(more …)</span></a></dt><dd><p>Set handling of NaN records for output.</p>
</dd>
</dl>
<dl class="simple">
<dt><strong>-wy</strong>|<strong>a</strong>|<strong>w</strong>|<strong>d</strong>|<strong>h</strong>|<strong>m</strong>|<strong>s</strong>|<strong>c</strong><em>period</em>[/<em>phase</em>][<strong>+c</strong><em>col</em>] <a class="reference internal" href="gmt.html#w-full"><span class="std std-ref">(more …)</span></a></dt><dd><p>Convert an input coordinate to a cyclical coordinate.</p>
</dd>
</dl>
<dl class="simple">
<dt><strong>-:</strong></dt><dd><p>Toggles between (longitude,latitude) and (latitude,longitude)
input/output. [Default is (longitude,latitude)].</p>
</dd>
</dl>
<dl class="simple">
<dt><strong>-^</strong> or just <strong>-</strong></dt><dd><p>Print a short message about the syntax of the command, then exit (<strong>Note</strong>: on Windows just use <strong>-</strong>).</p>
</dd>
<dt><strong>-+</strong> or just <strong>+</strong></dt><dd><p>Print an extensive usage (help) message, including the explanation of
any module-specific option (but not the GMT common options), then exit.</p>
</dd>
<dt><strong>-?</strong> or no arguments</dt><dd><p>Print a complete usage (help) message, including the explanation of all options, then exit.</p>
</dd>
<dt><strong>--PAR</strong>=<em>value</em></dt><dd><p>Temporarily override a GMT default setting; repeatable. See <a class="reference internal" href="gmt.conf.html"><span class="doc">gmt.conf</span></a> for parameters.</p>
</dd>
</dl>
</section>
<section id="units">
<h2>Units<a class="headerlink" href="#units" title="Link to this heading"></a></h2>
<p>For map distance unit, append <em>unit</em> <strong>d</strong> for arc degree, <strong>m</strong> for arc
minute, and <strong>s</strong> for arc second, or <strong>e</strong> for meter [Default unless stated otherwise], <strong>f</strong>
for foot, <strong>k</strong> for km, <strong>M</strong> for statute mile, <strong>n</strong> for nautical mile,
and <strong>u</strong> for US survey foot. By default we compute such distances using
a spherical approximation with great circles (<strong>-jg</strong>) using the authalic radius
(see <a class="reference internal" href="gmt.conf.html#term-PROJ_MEAN_RADIUS"><span class="xref std std-term">PROJ_MEAN_RADIUS</span></a>). You can use <strong>-jf</strong> to perform
“Flat Earth” calculations (quicker but less accurate) or <strong>-je</strong> to perform
exact geodesic calculations (slower but more accurate; see
<a class="reference internal" href="gmt.conf.html#term-PROJ_GEODESIC"><span class="xref std std-term">PROJ_GEODESIC</span></a> for method used).</p>
</section>
<section id="ascii-format-precision">
<h2>ASCII Format Precision<a class="headerlink" href="#ascii-format-precision" title="Link to this heading"></a></h2>
<p>The ASCII output formats of numerical data are controlled by parameters
in your <a class="reference internal" href="gmt.conf.html"><span class="doc">gmt.conf</span></a> file. Longitude and latitude are formatted
according to <a class="reference internal" href="gmt.conf.html#term-FORMAT_GEO_OUT"><span class="xref std std-term">FORMAT_GEO_OUT</span></a>, absolute time is
under the control of <a class="reference internal" href="gmt.conf.html#term-FORMAT_DATE_OUT"><span class="xref std std-term">FORMAT_DATE_OUT</span></a> and
<a class="reference internal" href="gmt.conf.html#term-FORMAT_CLOCK_OUT"><span class="xref std std-term">FORMAT_CLOCK_OUT</span></a>, whereas general floating point values are formatted
according to <a class="reference internal" href="gmt.conf.html#term-FORMAT_FLOAT_OUT"><span class="xref std std-term">FORMAT_FLOAT_OUT</span></a>. Be aware that the format in effect
can lead to loss of precision in ASCII output, which can lead to various
problems downstream. If you find the output is not written with enough
precision, consider switching to binary output (<strong>-bo</strong> if available) or
specify more decimals using the <a class="reference internal" href="gmt.conf.html#term-FORMAT_FLOAT_OUT"><span class="xref std std-term">FORMAT_FLOAT_OUT</span></a> setting.</p>
</section>
<section id="consequences-of-grid-resampling">
<h2>Consequences of grid resampling<a class="headerlink" href="#consequences-of-grid-resampling" title="Link to this heading"></a></h2>
<p>Resample or sampling of grids will use various algorithms (see <strong>-n</strong>) that may lead
to possible distortions or unexpected results in the resampled values.
One expected effect of resampling with splines is the tendency for the new
resampled values to slightly exceed the global min/max limits of the original
grid.  If this is unacceptable, you can impose clipping of the resampled values
values so they do not exceed the input min/max values by adding <strong>+c</strong> to
your <strong>-n</strong> option.</p>
</section>
<section id="hints">
<h2>Hints<a class="headerlink" href="#hints" title="Link to this heading"></a></h2>
<p>If an interpolation point is not on a node of the input grid, then a NaN
at any node in the neighborhood surrounding the point will yield an
interpolated NaN. Bicubic interpolation [default] yields continuous
first derivatives but requires a neighborhood of 4 nodes by 4 nodes.
Bilinear interpolation [<strong>-n</strong>] uses only a 2 by 2 neighborhood, but
yields only zeroth-order continuity. Use bicubic when smoothness is
important. Use bilinear to minimize the propagation of NaNs, or lower
<em>threshold</em>.</p>
</section>
<section id="examples">
<h2>Examples<a class="headerlink" href="#examples" title="Link to this heading"></a></h2>
<p><strong>Note</strong>: Below are some examples of valid syntax for this module.
The examples that use remote files (file names starting with <code class="docutils literal notranslate"><span class="pre">&#64;</span></code>)
can be cut and pasted into your terminal for testing.
Other commands requiring input files are just dummy examples of the types
of uses that are common but cannot be run verbatim as written.</p>
<p>To extract a profile along a great circle between (0,0) to (20,20) from the remote grid earth_relief_05m,
and only write out (dist, topo) records, try:</p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>gmt<span class="w"> </span>grdtrack<span class="w"> </span>-G@earth_relief_05m<span class="w"> </span>-R0/20/0/20<span class="w"> </span>-EBL/TR+d<span class="w"> </span>-o3,2<span class="w"> </span>&gt;<span class="w"> </span>profile.txt
</pre></div>
</div>
<p>To sample the file hawaii_topo.nc along the SEASAT track track_4.xyg
(An ASCII table containing longitude, latitude, and SEASAT-derived
gravity, preceded by one header record):</p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>gmt<span class="w"> </span>grdtrack<span class="w"> </span>track_4.xyg<span class="w"> </span>-Ghawaii_topo.nc<span class="w"> </span>-h<span class="w"> </span>&gt;<span class="w"> </span>track_4.xygt
</pre></div>
</div>
<p>To sample the Sandwell/Smith IMG format file topo.8.2.img (2 minute
predicted bathymetry on a Mercator grid) and the Muller et al age grid
age.3.2.nc along the (<em>lon, lat</em>) coordinates given in the file
cruise_track.xy, try:</p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>gmt<span class="w"> </span>grdtrack<span class="w"> </span>cruise_track.xy<span class="w"> </span>-Gtopo.8.2.img,1,1<span class="w"> </span>-Gage.3.2.nc<span class="w"> </span>&gt;<span class="w"> </span>depths-age.txt
</pre></div>
</div>
<p>To sample the Sandwell/Smith IMG format file grav.18.1.img (1 minute
free-air anomalies on a Mercator grid) along 100-km-long cross-profiles
that are orthogonal to the line segment given in the file track.xy,
erecting cross-profiles every 25 km and sampling the grid every 3 km, try</p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>gmt<span class="w"> </span>grdtrack<span class="w"> </span>track.xy<span class="w"> </span>-Ggrav.18.1.img,0.1,1<span class="w"> </span>-C100k/3/25<span class="w"> </span>-Ar<span class="w"> </span>&gt;<span class="w"> </span>xprofiles.txt
</pre></div>
</div>
<p>The same thing, but now determining the central anomaly location along track,
with a threshold of 25 mGal, try:</p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>gmt<span class="w"> </span>grdtrack<span class="w"> </span>track.xy<span class="w"> </span>-Ggrav.18.1.img,0.1,1<span class="w"> </span>-C100k/3/25<span class="w"> </span>-F+z25<span class="w"> </span>&gt;<span class="w"> </span>locations.txt
</pre></div>
</div>
<p>To sample the grid data.nc along a line from the lower left to the upper
right corner, using a grid spacing of 1 km on the geodesic, and output distances as well,
try:</p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>gmt<span class="w"> </span>grdtrack<span class="w"> </span>-ELB/RT+i1k+d<span class="w"> </span>-Gdata.nc<span class="w"> </span>-je<span class="w"> </span>&gt;<span class="w"> </span>profiles.txt
</pre></div>
</div>
</section>
<section id="see-also">
<h2>See Also<a class="headerlink" href="#see-also" title="Link to this heading"></a></h2>
<p><a class="reference internal" href="gmt.html"><span class="doc">gmt</span></a>,
<a class="reference internal" href="gmtconvert.html"><span class="doc">convert</span></a>,
<a class="reference internal" href="text.html"><span class="doc">text</span></a>,
<a class="reference internal" href="sample1d.html"><span class="doc">sample1d</span></a>,
<a class="reference internal" href="surface.html"><span class="doc">surface</span></a></p>
</section>
</section>


           </div>
          </div>
          <footer><div class="rst-footer-buttons" role="navigation" aria-label="Footer">
        <a href="grdselect.html" class="btn btn-neutral float-left" title="grdselect" accesskey="p" rel="prev"><span class="fa fa-arrow-circle-left" aria-hidden="true"></span> Previous</a>
        <a href="grdtrend.html" class="btn btn-neutral float-right" title="grdtrend" accesskey="n" rel="next">Next <span class="fa fa-arrow-circle-right" aria-hidden="true"></span></a>
    </div>

  <hr/>

  <div role="contentinfo">
    <p>&#169; Copyright 2025, The GMT Team.
      <span class="lastupdated">Last updated on Nov 01, 2025.
      </span></p>
  </div>

  Built with <a href="https://www.sphinx-doc.org/">Sphinx</a> using a
    <a href="https://github.com/readthedocs/sphinx_rtd_theme">theme</a>
    provided by <a href="https://readthedocs.org">Read the Docs</a>.
   

</footer>
        </div>
      </div>
    </section>
  </div>
  <script>
      jQuery(function () {
          SphinxRtdTheme.Navigation.enable(false);
      });
  </script> 

</body>
</html>