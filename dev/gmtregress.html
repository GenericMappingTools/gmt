
<!DOCTYPE html>
<html class="writer-html5" lang="en" >
<head>
  <meta charset="utf-8" /><meta name="generator" content="Docutils 0.18.1: http://docutils.sourceforge.net/" />

  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>gmtregress &mdash; GMT 6.4.0 documentation</title>
      <link rel="stylesheet" href="_static/pygments.css" type="text/css" />
      <link rel="stylesheet" href="_static/css/theme.css" type="text/css" />
      <link rel="stylesheet" href="_static/togglebutton.css" type="text/css" />
      <link rel="stylesheet" href="_static/copybutton.css" type="text/css" />
      <link rel="stylesheet" href="_static/panels-bootstrap.5fd3999ee7762ccc51105388f4a9d115.css" type="text/css" />
      <link rel="stylesheet" href="_static/panels-main.c949a650a448cc0ae9fd3441c0e17fb0.css" type="text/css" />
      <link rel="stylesheet" href="_static/panels-variables.06eb56fa6e07937060861dad626602ad.css" type="text/css" />
      <link rel="stylesheet" href="_static/style.css" type="text/css" />
    <link rel="shortcut icon" href="_static/favicon.png"/>
  <!--[if lt IE 9]>
    <script src="_static/js/html5shiv.min.js"></script>
  <![endif]-->
  
        <script data-url_root="./" id="documentation_options" src="_static/documentation_options.js"></script>
        <script src="_static/jquery.js"></script>
        <script src="_static/underscore.js"></script>
        <script src="_static/_sphinx_javascript_frameworks_compat.js"></script>
        <script src="_static/doctools.js"></script>
        <script src="_static/clipboard.min.js"></script>
        <script src="_static/copybutton.js"></script>
        <script>let toggleHintShow = 'Click to show example script';</script>
        <script>let toggleHintHide = 'Click to hide';</script>
        <script>let toggleOpenOnPrint = 'true';</script>
        <script src="_static/togglebutton.js"></script>
        <script>var togglebuttonSelector = '.toggle, .admonition.dropdown';</script>
        <script async="async" src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-mml-chtml.js"></script>
    <script src="_static/js/theme.js"></script>
    <link rel="index" title="Index" href="genindex.html" />
    <link rel="search" title="Search" href="search.html" />
    <link rel="next" title="gmtselect" href="gmtselect.html" />
    <link rel="prev" title="gmtmath" href="gmtmath.html" />


  <!-- Point to the *latest* version switcher. This will allow the latest versions to appear on older documentation. -->
  <script type="text/javascript" src="/latest/_static/version_switch.js"></script>


</head>

<body class="wy-body-for-nav"> 
  <div class="wy-grid-for-nav">
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search" >
            <a href="index.html" class="icon icon-home"> GMT
          </a>
              <div class="version">
                6.4
              </div>
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>
        </div><div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="Navigation menu">
    
              <p class="caption" role="heading"><span class="caption-text">Getting started</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="gallery.html">Illustration Gallery</a></li>
<li class="toctree-l1"><a class="reference internal" href="animations.html">Animation Gallery</a></li>
<li class="toctree-l1"><a class="reference internal" href="tutorial.html">Tutorial in Bash</a></li>
<li class="toctree-l1"><a class="reference internal" href="tutorial_jl.html">Tutorial in Julia</a></li>
<li class="toctree-l1"><a class="reference external" href="https://www.pygmt.org/latest/tutorials/index.html">Tutorials in PyGMT</a></li>
</ul>
<p class="caption" role="heading"><span class="caption-text">Reference documentation</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="modules.html">Modules</a></li>
<li class="toctree-l1"><a class="reference internal" href="cookbook.html">Cookbook</a></li>
<li class="toctree-l1"><a class="reference internal" href="datasets.html">Datasets</a></li>
</ul>
<p class="caption" role="heading"><span class="caption-text">Resources</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="changes.html">Changelog</a></li>
<li class="toctree-l1"><a class="reference internal" href="users-contrib-scripts.html">Users Script Contributions</a></li>
<li class="toctree-l1"><a class="reference internal" href="users-contrib-symbols.html">Users Symbol Contributions</a></li>
<li class="toctree-l1"><a class="reference internal" href="deprecated-defaults.html">Deprecated GMT Defaults Names</a></li>
<li class="toctree-l1"><a class="reference internal" href="switching.html">Switching between Different Versions</a></li>
<li class="toctree-l1"><a class="reference internal" href="migrating.html">Migrating from an Earlier Version</a></li>
</ul>
<p class="caption" role="heading"><span class="caption-text">Classic Mode</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="std-opts-classic.html">Common Options (Classic Mode)</a></li>
<li class="toctree-l1"><a class="reference internal" href="modules-classic.html">Modules (Classic Mode)</a></li>
</ul>
<p class="caption" role="heading"><span class="caption-text">Development</span></p>
<ul>
<li class="toctree-l1"><a class="reference external" href="https://github.com/GenericMappingTools/gmt/blob/master/CODE_OF_CONDUCT.md">Code of Conduct</a></li>
<li class="toctree-l1"><a class="reference internal" href="devdocs/contributing.html">Contributors Guide</a></li>
<li class="toctree-l1"><a class="reference internal" href="devdocs/maintenance.html">Maintainers Guide</a></li>
<li class="toctree-l1"><a class="reference internal" href="devdocs/team.html">Team Gallery</a></li>
<li class="toctree-l1"><a class="reference internal" href="devdocs/rst-cheatsheet.html">reStructuredText Cheatsheet</a></li>
<li class="toctree-l1"><a class="reference internal" href="devdocs/debug.html">Debugging GMT</a></li>
<li class="toctree-l1"><a class="reference internal" href="devdocs/api.html">GMT C API</a></li>
<li class="toctree-l1"><a class="reference internal" href="devdocs/postscriptlight.html">PostScriptLight C API</a></li>
<li class="toctree-l1"><a class="reference internal" href="devdocs/devdocs.html">GMT Enhancement Proposals</a></li>
</ul>


    
        <p class="caption">
            <span class="caption-text">Getting help</span>
        </p>
        <ul>
            
                <li class="toctree-l1"><a href="https://www.generic-mapping-tools.org/"><i class="fa fa-home fa-fw"></i> GMT Homepage</a></li>
            
                <li class="toctree-l1"><a href="https://forum.generic-mapping-tools.org/"><i class="fa fa-comment fa-fw"></i> GMT Community Forum</a></li>
            
                <li class="toctree-l1"><a href="https://github.com/GenericMappingTools/gmt/blob/master/LICENSE.TXT"><i class="fa fa-book fa-fw"></i> License</a></li>
            
                <li class="toctree-l1"><a href="https://github.com/GenericMappingTools/gmt"><i class="fa fa-github fa-fw"></i> Source Code</a></li>
            
        </ul>
    

        </div>
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap"><nav class="wy-nav-top" aria-label="Mobile navigation menu" >
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="index.html">GMT</a>
      </nav>

      <div class="wy-nav-content">
        <div class="rst-content">
          <div role="navigation" aria-label="Page navigation">
  <ul class="wy-breadcrumbs">
      <li><a href="index.html" class="icon icon-home"></a> &raquo;</li>
          <li><a href="modules.html">Modules</a> &raquo;</li>
      <li>gmtregress</li>
      <li class="wy-breadcrumbs-aside">
              <a href="https://github.com/GenericMappingTools/gmt/edit/master/doc/rst/source/gmtregress.rst" class="fa fa-github"> Edit on GitHub</a>
      </li>
  </ul>
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
             
  <span class="target" id="index-0"></span><section id="gmtregress">
<h1>gmtregress<a class="headerlink" href="#gmtregress" title="Permalink to this heading">¶</a></h1>
<p>Linear regression of 1-D data sets</p>
<section id="synopsis">
<h2>Synopsis<a class="headerlink" href="#synopsis" title="Permalink to this heading">¶</a></h2>
<p><strong>gmt regress</strong> [ <em>table</em> ] [ <a class="reference internal" href="#a"><span><strong>-A</strong></span></a></strong>[<em>min</em>/<em>max</em>/<em>inc</em>][<strong>+f</strong>[<strong>n</strong>|<strong>p</strong>]] ]
[ <a class="reference internal" href="#c"><span><strong>-C</strong></span></a></strong><em>level</em> ]
[ <a class="reference internal" href="#e"><span><strong>-E</strong></span></a></strong><strong>x</strong>|<strong>y</strong>|<strong>o</strong>|<strong>r</strong> ]
[ <a class="reference internal" href="#f"><span><strong>-F</strong></span></a></strong><em>flags</em> ]
[ <a class="reference internal" href="#n"><span><strong>-N</strong></span></a></strong><strong>1</strong>|<strong>2</strong>|<strong>r</strong>|<strong>w</strong> ]
[ <a class="reference internal" href="#s"><span><strong>-S</strong></span></a></strong>[<strong>r</strong>] ]
[ <a class="reference internal" href="#t"><span><strong>-T</strong></span></a></strong>[<em>min/max</em>/]<em>inc</em>[<strong>+i</strong>|<strong>n</strong>] |<a class="reference internal" href="#t"><span><strong>-T</strong></span></a></strong><em>file</em>|<em>list</em> ]
[ <a class="reference internal" href="#v"><span><strong>-V</strong></span></a></strong>[<em>level</em>] ]
[ <a class="reference internal" href="#w"><span><strong>-W</strong></span></a></strong>[<strong>w</strong>][<strong>x</strong>][<strong>y</strong>][<strong>r</strong>] ]
[ <a class="reference internal" href="#z"><span><strong>-Z</strong></span></a></strong>[±]<em>limit</em> ]
[ <strong>-a</strong><a class="reference internal" href="gmt.html#aspatial-full"><span class="std std-ref">flags</span></a> ]
[ <strong>-b</strong><a class="reference internal" href="gmt.html#bi-full"><span class="std std-ref">binary</span></a> ]
[ <strong>-d</strong><a class="reference internal" href="gmt.html#d-full"><span class="std std-ref">nodata</span></a>[<strong>+c</strong><em>col</em>] ]
[ <strong>-e</strong><a class="reference internal" href="gmt.html#e-full"><span class="std std-ref">regexp</span></a> ]
[ <strong>-f</strong><a class="reference internal" href="gmt.html#f-full"><span class="std std-ref">flags</span></a> ]
[ <strong>-g</strong><a class="reference internal" href="gmt.html#g-full"><span class="std std-ref">gaps</span></a> ]
[ <strong>-h</strong><a class="reference internal" href="gmt.html#h-full"><span class="std std-ref">headers</span></a> ]
[ <strong>-i</strong><a class="reference internal" href="gmt.html#icols-full"><span class="std std-ref">flags</span></a> ]
[ <strong>-o</strong><a class="reference internal" href="gmt.html#ocols-full"><span class="std std-ref">flags</span></a> ]
[ <strong>-q</strong><a class="reference internal" href="gmt.html#q-full"><span class="std std-ref">flags</span></a> ]
[ <strong>-s</strong><a class="reference internal" href="gmt.html#s-full"><span class="std std-ref">flags</span></a> ]
[ <strong>-w</strong><a class="reference internal" href="gmt.html#w-full"><span class="std std-ref">flags</span></a> ]
[ <strong>--PAR</strong>=<em>value</em> ]</p>
<p><strong>Note:</strong> No space is allowed between the option flag and the associated arguments.</p>
</section>
<section id="description">
<h2>Description<a class="headerlink" href="#description" title="Permalink to this heading">¶</a></h2>
<p><strong>regress</strong> reads one or more data tables [or standard input]
and determines the best linear [weighted] regression model <span class="math notranslate nohighlight">\(y(x) = a + b x\)</span> for each segment using the chosen parameters.
The user may specify which data and model components should be reported.  By default, the model will be evaluated at the
input points, but alternatively you can specify an equidistant range over which to evaluate
the model, or turn off evaluation completely.  Instead of determining the best fit we can
perform a scan of all possible regression lines
(for a range of slope angles) and examine how the chosen misfit measure varies with slope.
This is particularly useful when analyzing data with many outliers.  <strong>Note</strong>: If you
actually need to work with <span class="math notranslate nohighlight">\(\log_{10}\)</span> of <em>x</em> or <em>y</em> you can accomplish that transformation during
the read phase by using the <strong>-i</strong> option.</p>
</section>
<section id="required-arguments">
<h2>Required Arguments<a class="headerlink" href="#required-arguments" title="Permalink to this heading">¶</a></h2>
<dl class="simple">
<dt><em>table</em></dt><dd><p>One or more ASCII (or binary, see <strong>-bi</strong>[<em>ncols</em>][<em>type</em>]) data
table file(s) holding a number of data columns. If no tables are given
then we read from standard input. The first two columns are expected to contain the required <em>x</em> and <em>y</em> data.  Depending on
your <a class="reference internal" href="#w"><span><strong>-W</strong></span></a></strong> and <a class="reference internal" href="#e"><span><strong>-E</strong></span></a></strong> settings we may expect an additional 1-3 columns with error estimates
of one of both of the data coordinates, and even their correlation (see <a class="reference internal" href="#w"><span><strong>-W</strong></span></a></strong> for details).</p>
</dd>
</dl>
</section>
<section id="optional-arguments">
<h2>Optional Arguments<a class="headerlink" href="#optional-arguments" title="Permalink to this heading">¶</a></h2>
<dl class="simple" id="a">
<dt><strong>-A</strong>[<em>min</em>/<em>max</em>/<em>inc</em>][<strong>+f</strong>[<strong>n</strong>|<strong>p</strong>]]</dt><dd><p>There are two uses for this setting: (1) Instead of determining a best-fit regression
we explore the full range of regressions. Examine all possible regression lines with slope
angles between <em>min</em> and <em>max</em>, using steps of <em>inc</em> degrees [-90/+90/1].  For each slope,
the optimum intercept is determined based on your regression type (<a class="reference internal" href="#e"><span><strong>-E</strong></span></a></strong>) and misfit norm
(<a class="reference internal" href="#n"><span><strong>-N</strong></span></a></strong>) settings. For each data segment we report the four columns <em>angle</em>, <em>E</em>, <em>slope</em>,
<em>intercept</em>, for the range of specified angles. The best model parameters within this range
are written into the segment header and reported in verbose information mode (<strong>-Vi</strong>).
(2) Except for <strong>-N2</strong>, append <strong>+f</strong> to force the best regression to
only consider the given restricted range of angles [all angles].  As shortcuts for negative
or positive slopes, just use <strong>+fn</strong> or <strong>+fp</strong>, respectively.</p>
</dd>
</dl>
<figure class="align-center" id="id1">
<a class="reference internal image-reference" href="_images/GMT_slopes.png"><img alt="_images/GMT_slopes.png" src="_images/GMT_slopes.png" style="width: 500px;" /></a>
<figcaption>
<p><span class="caption-text">Scanning slopes (<a class="reference internal" href="#a"><span><strong>-A</strong></span></a></strong>) to see how the misfit for an fully orthogonal regression using the LMS (<strong>-Nr</strong>) criterion
varies with the line angle.  Here we see the best solution gives a line angle of -78.3 degrees
but there is another local minimum for an angle of 78.6 degrees that is almost as good.</span><a class="headerlink" href="#id1" title="Permalink to this image">¶</a></p>
</figcaption>
</figure>
<dl class="simple" id="c">
<dt><strong>-C</strong><em>level</em></dt><dd><p>Set the confidence level (in %) to use for the optional calculation of confidence bands
on the regression [95].  This is only used if <a class="reference internal" href="#f"><span><strong>-F</strong></span></a></strong> includes the output column <strong>c</strong>.</p>
</dd>
</dl>
<dl class="simple" id="e">
<dt><strong>-Ex</strong>|<strong>y</strong>|<strong>o</strong>|<strong>r</strong></dt><dd><p>Type of linear regression, i.e., select the type of misfit we should calculate.
Choose from <strong>x</strong> (regress <em>x</em> on <em>y</em>; i.e., the misfit is measured horizontally from data point to regression line),
<strong>y</strong> (regress <em>y</em> on <em>x</em>; i.e., the misfit is measured vertically [Default]), <strong>o</strong> (orthogonal regression;
i.e., the misfit is measured from data point orthogonally to nearest point on the line), or <strong>r</strong> (Reduced Major
Axis regression; i.e., the misfit is the product of both vertical and horizontal misfits) [<strong>y</strong>].</p>
</dd>
</dl>
<figure class="align-center" id="id2">
<a class="reference internal image-reference" href="_images/GMT_misfit.png"><img alt="_images/GMT_misfit.png" src="_images/GMT_misfit.png" style="width: 600px;" /></a>
<figcaption>
<p><span class="caption-text">The four types of misfit.  The sum of the squared lengths of <span class="math notranslate nohighlight">\(e_k\)</span> is minimized, for k = x, y, or o.
For <strong>-Er</strong> the sum of the green areas is minimized instead.</span><a class="headerlink" href="#id2" title="Permalink to this image">¶</a></p>
</figcaption>
</figure>
<dl class="simple" id="f">
<dt><strong>-F</strong><em>flags</em></dt><dd><p>Append a combination of the columns you wish returned; the output order will match the order specified.  Choose from
<strong>x</strong> (observed <em>x</em>), <strong>y</strong> (observed <em>y</em>), <strong>m</strong> (model prediction), <strong>r</strong> (residual = data minus model),
<strong>c</strong> (symmetrical confidence interval on the regression; see <a class="reference internal" href="#c"><span><strong>-C</strong></span></a></strong>
for specifying the level), <strong>z</strong> (standardized residuals or so-called <em>z-scores</em>) and <strong>w</strong> (outlier weights 0 or 1; for
<strong>-Nw</strong> these are the Reweighted Least Squares weights) [<strong>xymrczw</strong>].
As an alternative to evaluating the model, just give <strong>-Fp</strong> and we instead write a single record with the 12 model
parameters <em>npoints xmean ymean angle misfit slope intercept sigma_slope sigma_intercept r R n_effective</em>. <strong>Note</strong>:
<em>R</em> is only set when <strong>-Ey</strong> is selected.</p>
</dd>
</dl>
<dl class="simple" id="n">
<dt><strong>-N1</strong>|<strong>2</strong>|<strong>r</strong>|<strong>w</strong></dt><dd><p>Selects the norm to use for the misfit calculation.  Choose among <strong>1</strong> (<span class="math notranslate nohighlight">\(L_1\)</span> measure; the mean of the
absolute residuals), <strong>2</strong> (Least-squares; the mean of the squared residuals),
<strong>r</strong> (LMS; The least median of the squared residuals), or <strong>w</strong> (RLS; Reweighted Least Squares: the
mean of the squared residuals after outliers identified via LMS have been removed) [Default is <strong>2</strong>].
Traditional regression uses <span class="math notranslate nohighlight">\(L_2\)</span> while <span class="math notranslate nohighlight">\(L_1\)</span> and in particular LMS are more robust in how they handle outliers.
As alluded to, RLS implies an initial LMS regression which is then used to identify outliers in the data,
assign these a zero weight, and then redo the regression using a <span class="math notranslate nohighlight">\(L_2\)</span> norm.</p>
</dd>
</dl>
<dl class="simple" id="s">
<dt><strong>-S</strong>[<strong>r</strong>]</dt><dd><p>Restricts which records will be output.  By default all data records will be output in the format specified
by <a class="reference internal" href="#f"><span><strong>-F</strong></span></a></strong>.  Use <a class="reference internal" href="#s"><span><strong>-S</strong></span></a></strong> to exclude data points identified as outliers by the regression.  Alternatively,
use <strong>-Sr</strong> to reverse this and only output the outlier records.</p>
</dd>
</dl>
<dl class="simple" id="t">
<dt><strong>-T</strong>[<em>min/max</em>/]<em>inc</em>[<strong>+i</strong>|<strong>n</strong>] |<a class="reference internal" href="#t"><span><strong>-T</strong></span></a></strong><em>file</em>|<em>list</em></dt><dd><p>Evaluate the best-fit regression model at the equidistant points implied by the arguments.  If only
<strong>-T</strong><em>inc</em> is given instead we will reset <em>min</em> and <em>max</em> to the extreme <em>x</em>-values for each segment.
To skip the model evaluation entirely, simply provide <strong>-T</strong>0.
For details on array creation, see <a class="reference internal" href="#generate-1d-array">Generate 1D Array</a>.</p>
</dd>
</dl>
<dl class="simple" id="v">
<dt><strong>-V</strong>[<em>level</em>]</dt><dd><p>Select verbosity level [<strong>w</strong>]. <a class="reference internal" href="gmt.html#v-full"><span class="std std-ref">(See full description)</span></a> <a class="reference internal" href="cookbook/options.html#verbose-feedback-the-v-option"><span class="std std-ref">(See cookbook information)</span></a>.</p>
</dd>
</dl>
<dl class="simple" id="w">
<dt><strong>-W</strong>[<strong>w</strong>][<strong>x</strong>][<strong>y</strong>][<strong>r</strong>]</dt><dd><p>Specifies weighted regression and which weights will be provided.
Append <strong>x</strong> if giving one-<span class="math notranslate nohighlight">\(\sigma\)</span> uncertainties in the <em>x</em>-observations, <strong>y</strong> if giving one-<span class="math notranslate nohighlight">\(\sigma\)</span> uncertainties in <em>y</em>, and
<strong>r</strong> if giving correlations between <em>x</em> and <em>y</em> observations, in the order these columns appear in the input (after the
two required and leading <em>x</em>, <em>y</em> columns).
Giving both <strong>x</strong> and <strong>y</strong> (and optionally <strong>r</strong>) implies an orthogonal regression, otherwise giving
<strong>x</strong> requires <strong>-Ex</strong> and <strong>y</strong> requires <strong>-Ey</strong>.
We convert uncertainties in <em>x</em> and <em>y</em> to regression weights <em>w</em> via the relationship <span class="math notranslate nohighlight">\(w = 1/\sigma\)</span>.
Use <strong>-Ww</strong> if the we should interpret the input columns to have precomputed weights instead.  <strong>Note</strong>: Residuals
with respect to the regression line will be scaled by the given weights.  Most norms will then square this weighted
residual (<strong>-N1</strong> is the only exception).</p>
</dd>
</dl>
<dl class="simple" id="z">
<dt><strong>-Z</strong>[±]<em>limit</em></dt><dd><p>Change the threshold for outlier detection: When <strong>-Nw</strong> is used, residual <em>z-scores</em> that exceed this <em>limit</em> [±2.5] will
be flagged as outliers.  To only consider negative or positive <em>z-scores</em> as possible outliers, specify a signed <em>limit</em>.</p>
</dd>
</dl>
<dl class="simple">
<dt><strong>-a</strong>[[<em>col</em>=]<em>name</em>[,<em>…</em>]] <a class="reference internal" href="gmt.html#aspatial-full"><span class="std std-ref">(more …)</span></a></dt><dd><p>Set aspatial column associations <em>col</em>=<em>name</em>.</p>
</dd>
</dl>
<dl class="simple">
<dt><strong>-bi</strong><em>record</em>[<strong>+b</strong>|<strong>l</strong>] <a class="reference internal" href="gmt.html#bi-full"><span class="std std-ref">(more …)</span></a></dt><dd><p>Select native binary format for primary table input.  </p>
</dd>
</dl>
<dl class="simple">
<dt><strong>-bo</strong><em>record</em>[<strong>+b</strong>|<strong>l</strong>] <a class="reference internal" href="gmt.html#bo-full"><span class="std std-ref">(more …)</span></a></dt><dd><p>Select native binary format for table output. [Default is same as input].</p>
</dd>
</dl>
<dl class="simple">
<dt><strong>-d</strong>[<strong>i</strong>|<strong>o</strong>][<strong>+c</strong><em>col</em>]<em>nodata</em> <a class="reference internal" href="gmt.html#d-full"><span class="std std-ref">(more …)</span></a></dt><dd><p>Replace input columns that equal <em>nodata</em> with NaN and do the reverse on output.  </p>
</dd>
</dl>
<dl class="simple">
<dt><strong>-e</strong>[<strong>~</strong>]<em>“pattern”</em> | <strong>-e</strong>[<strong>~</strong>]/<em>regexp</em>/[<strong>i</strong>] <a class="reference internal" href="gmt.html#e-full"><span class="std std-ref">(more …)</span></a></dt><dd><p>Only accept data records that match the given pattern.  </p>
</dd>
</dl>
<dl class="simple">
<dt><strong>-f</strong>[<strong>i</strong>|<strong>o</strong>]<em>colinfo</em> <a class="reference internal" href="gmt.html#f-full"><span class="std std-ref">(more …)</span></a></dt><dd><p>Specify data types of input and/or output columns.  </p>
</dd>
</dl>
<dl class="simple">
<dt><strong>-g</strong><strong>x</strong>|<strong>y</strong>|<strong>z</strong>|<strong>d</strong>|<strong>X</strong>|<strong>Y</strong>|<strong>D</strong><em>gap</em>[<strong>u</strong>][<strong>+a</strong>][<strong>+c</strong><em>col</em>][<strong>+n</strong>|<strong>p</strong>]  <a class="reference internal" href="gmt.html#g-full"><span class="std std-ref">(more …)</span></a></dt><dd><p>Determine data gaps and line breaks.  </p>
</dd>
</dl>
<dl class="simple">
<dt><strong>-h</strong>[<strong>i</strong>|<strong>o</strong>][<em>n</em>][<strong>+c</strong>][<strong>+d</strong>][<strong>+m</strong><em>segheader</em>][<strong>+r</strong><em>remark</em>][<strong>+t</strong><em>title</em>] <a class="reference internal" href="gmt.html#h-full"><span class="std std-ref">(more …)</span></a></dt><dd><p>Skip or produce header record(s).  </p>
</dd>
</dl>
<dl class="simple">
<dt><strong>-i</strong><em>cols</em>[<strong>+l</strong>][<strong>+d</strong><em>divisor</em>][<strong>+s</strong><em>scale</em>|<strong>d</strong>|<strong>k</strong>][<strong>+o</strong><em>offset</em>][,<em>…</em>][,<strong>t</strong>[<em>word</em>]] <a class="reference internal" href="gmt.html#icols-full"><span class="std std-ref">(more …)</span></a></dt><dd><p>Select input columns and transformations (0 is first column, <strong>t</strong> is trailing text, append <em>word</em> to read one word only).</p>
</dd>
</dl>
<dl class="simple">
<dt><strong>-o</strong><em>cols</em>[,…][,<strong>t</strong>[<em>word</em>]] <a class="reference internal" href="gmt.html#ocols-full"><span class="std std-ref">(more …)</span></a></dt><dd><p>Select output columns (0 is first column; <strong>t</strong> is trailing text, append <em>word</em> to write one word only).</p>
</dd>
</dl>
<dl class="simple">
<dt><strong>-q</strong>[<strong>i</strong>|<strong>o</strong>][~]<em>rows</em>|<em>limits</em>[<strong>+c</strong><em>col</em>][<strong>+a</strong>|<strong>t</strong>|<strong>s</strong>] <a class="reference internal" href="gmt.html#q-full"><span class="std std-ref">(more …)</span></a></dt><dd><p>Select input or output rows or data limit(s) [all].</p>
</dd>
</dl>
<dl class="simple">
<dt><strong>-s</strong>[<em>cols</em>][<strong>+a</strong>][<strong>+r</strong>] <a class="reference internal" href="gmt.html#s-full"><span class="std std-ref">(more …)</span></a></dt><dd><p>Set handling of NaN records for output.</p>
</dd>
</dl>
<dl class="simple">
<dt><strong>-wy</strong>|<strong>a</strong>|<strong>w</strong>|<strong>d</strong>|<strong>h</strong>|<strong>m</strong>|<strong>s</strong>|<strong>c</strong><em>period</em>[/<em>phase</em>][<strong>+c</strong><em>col</em>] <a class="reference internal" href="gmt.html#w-full"><span class="std std-ref">(more …)</span></a></dt><dd><p>Convert an input coordinate to a cyclical coordinate.</p>
</dd>
</dl>
<dl class="simple">
<dt><strong>-^</strong> or just <strong>-</strong></dt><dd><p>Print a short message about the syntax of the command, then exit (<strong>Note</strong>: on Windows just use <strong>-</strong>).</p>
</dd>
<dt><strong>-+</strong> or just <strong>+</strong></dt><dd><p>Print an extensive usage (help) message, including the explanation of
any module-specific option (but not the GMT common options), then exit.</p>
</dd>
<dt><strong>-?</strong> or no arguments</dt><dd><p>Print a complete usage (help) message, including the explanation of all options, then exit.</p>
</dd>
<dt><strong>--PAR</strong>=<em>value</em></dt><dd><p>Temporarily override a GMT default setting; repeatable. See <a class="reference internal" href="gmt.conf.html"><span class="doc">gmt.conf</span></a> for parameters.</p>
</dd>
</dl>
</section>
<section id="ascii-format-precision">
<h2>ASCII Format Precision<a class="headerlink" href="#ascii-format-precision" title="Permalink to this heading">¶</a></h2>
<p>The ASCII output formats of numerical data are controlled by parameters
in your <a class="reference internal" href="gmt.conf.html"><span class="doc">gmt.conf</span></a> file. Longitude and latitude are formatted
according to <a class="reference internal" href="gmt.conf.html#term-FORMAT_GEO_OUT"><span class="xref std std-term">FORMAT_GEO_OUT</span></a>, absolute time is
under the control of <a class="reference internal" href="gmt.conf.html#term-FORMAT_DATE_OUT"><span class="xref std std-term">FORMAT_DATE_OUT</span></a> and
<a class="reference internal" href="gmt.conf.html#term-FORMAT_CLOCK_OUT"><span class="xref std std-term">FORMAT_CLOCK_OUT</span></a>, whereas general floating point values are formatted
according to <a class="reference internal" href="gmt.conf.html#term-FORMAT_FLOAT_OUT"><span class="xref std std-term">FORMAT_FLOAT_OUT</span></a>. Be aware that the format in effect
can lead to loss of precision in ASCII output, which can lead to various
problems downstream. If you find the output is not written with enough
precision, consider switching to binary output (<strong>-bo</strong> if available) or
specify more decimals using the <a class="reference internal" href="gmt.conf.html#term-FORMAT_FLOAT_OUT"><span class="xref std std-term">FORMAT_FLOAT_OUT</span></a> setting.</p>
</section>
<section id="generate-1d-array">
<h2>Generate 1D Array<a class="headerlink" href="#generate-1d-array" title="Permalink to this heading">¶</a></h2>
<p>We will demonstrate the use of options for creating 1-D arrays via <a class="reference internal" href="gmtmath.html"><span class="doc">gmtmath</span></a>.
Make an evenly spaced coordinate array from <em>min</em> to <em>max</em> in steps of <em>inc</em>, e.g.,:</p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>gmt math -o0 -T3.1/4.2/0.1 <span class="nv">T</span> <span class="o">=</span>
<span class="m">3</span>.1
<span class="m">3</span>.2
<span class="m">3</span>.3
<span class="m">3</span>.4
<span class="m">3</span>.5
<span class="m">3</span>.6
<span class="m">3</span>.7
</pre></div>
</div>
<p>Append <strong>+b</strong> if we should take log2 of <em>min</em> and <em>max</em>, get their nearest integers,
build an equidistant log2-array using <em>inc</em> integer increments in log2, then undo
the log2 conversion. E.g., <strong>-T</strong>3/20/1<strong>+b</strong> will produce this sequence:</p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>gmt math -o0 -T3/20/1+b <span class="nv">T</span> <span class="o">=</span>
<span class="m">4</span>
<span class="m">8</span>
<span class="m">16</span>
</pre></div>
</div>
<p>Append <strong>+l</strong> if we should take log10 of <em>min</em> and <em>max</em> and build an
array where <em>inc</em> can be 1 (every magnitude), 2, (1, 2, 5 times magnitude) or 3
(1-9 times magnitude).  E.g., <strong>-T</strong>7/135/2<strong>+l</strong> will produce this sequence:</p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>gmt math -o0 -T7/135/2+l <span class="nv">T</span> <span class="o">=</span>
<span class="m">10</span>
<span class="m">20</span>
<span class="m">50</span>
<span class="m">100</span>
</pre></div>
</div>
<p>For output values less frequently than every magnitude, use a negative integer <em>inc</em>:</p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>gmt math -o0 -T1e-4/1e4/-2+l <span class="nv">T</span> <span class="o">=</span>
<span class="m">0</span>.0001
<span class="m">0</span>.01
<span class="m">1</span>
<span class="m">100</span>
<span class="m">10000</span>
</pre></div>
</div>
<p>Append <strong>+i</strong> if <em>inc</em> is a fractional number and it is cleaner to give its reciprocal
value instead.  To set up times for a 24-frames per second animation lasting 1 minute, run:</p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>gmt math -o0 -T0/60/24+i <span class="nv">T</span> <span class="o">=</span>
<span class="m">0</span>
<span class="m">0</span>.0416666666667
<span class="m">0</span>.0833333333333
<span class="m">0</span>.125
<span class="m">0</span>.166666666667
...
</pre></div>
</div>
<p>Append <strong>+n</strong> if <em>inc</em> is meant to indicate the <em>number</em> of equidistant coordinates
instead.  To have exactly 5 equidistant values from 3.44 and 7.82, run:</p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>gmt math -o0 -T3.44/7.82/5+n <span class="nv">T</span> <span class="o">=</span>
<span class="m">3</span>.44
<span class="m">4</span>.535
<span class="m">5</span>.63
<span class="m">6</span>.725
<span class="m">7</span>.82
</pre></div>
</div>
<p>Alternatively, let <em>inc</em> be a <em>file</em> with output coordinates in the first column,
or provide a comma-separated <em>list</em> of specific coordinates, such as the first 6
Fibonacci numbers:</p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>gmt math -o0 -T0,1,1,2,3,5 <span class="nv">T</span> <span class="o">=</span>
<span class="m">0</span>
<span class="m">1</span>
<span class="m">1</span>
<span class="m">2</span>
<span class="m">3</span>
<span class="m">5</span>
</pre></div>
</div>
<p><strong>Note</strong>: Should you need to ensure that the coordinates are unique and sorted (in case the
<em>file</em> or <em>list</em> are not sorted or have duplicates) then supply the <strong>+u</strong> modifier.</p>
<p>If you only want a <em>single</em> value
then you must append a comma to distinguish the list from the setting of an increment.</p>
<p>If the module allows you to set up an absolute time series, append a valid time unit from the list
<strong>y</strong>ear, m<strong>o</strong>nth, <strong>d</strong>ay, <strong>h</strong>our, <strong>m</strong>inute, and <strong>s</strong>econd
to the given increment; add <strong>+t</strong> to ensure time column (or use <strong>-f</strong>). <strong>Note</strong>: The internal time
unit is still controlled independently by <a class="reference internal" href="gmt.conf.html#term-TIME_UNIT"><span class="xref std std-term">TIME_UNIT</span></a>.  The first 7 days of March 2020:</p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>gmt math -o0 -T2020-03-01T/2020-03-07T/1d <span class="nv">T</span> <span class="o">=</span>
<span class="m">2020</span>-03-01T00:00:00
<span class="m">2020</span>-03-02T00:00:00
<span class="m">2020</span>-03-03T00:00:00
<span class="m">2020</span>-03-04T00:00:00
<span class="m">2020</span>-03-05T00:00:00
<span class="m">2020</span>-03-06T00:00:00
<span class="m">2020</span>-03-07T00:00:00
</pre></div>
</div>
<p>A few modules allow for <strong>+a</strong> which will paste the coordinate array to the output table.</p>
<p>Likewise, if the module allows you to set up a spatial distance series (with distances computed
from the first two data columns), specify a new increment as <em>inc</em> with a geospatial distance unit from the list
<strong>d</strong>egree (arc), <strong>m</strong>inute (arc), <strong>s</strong>econd (arc), m<strong>e</strong>ter, <strong>f</strong>oot, <strong>k</strong>ilometer,
<strong>M</strong>iles (statute), <strong>n</strong>autical miles, or s<strong>u</strong>rvey foot; see <strong>-j</strong> for calculation mode.
To interpolate Cartesian distances instead, you must use the special unit <strong>c</strong>.</p>
<p>Finally, if you are only providing an increment and will obtain <em>min</em> and <em>max</em> from the data, then it is
possible (<em>max</em> - <em>min</em>)/<em>inc</em> is not an integer, as required.  If so, then <em>inc</em> will be adjusted to fit the range.
Alternatively, append <strong>+e</strong> to keep <em>inc</em> exact and adjust <em>max</em> instead (keeping <em>min</em> fixed).</p>
</section>
<section id="notes">
<h2>Notes:<a class="headerlink" href="#notes" title="Permalink to this heading">¶</a></h2>
<p>The output segment header will contain all the various statistics we compute for each segment.
These are in order: <em>N</em> (number of points), <em>x0</em> (weighted mean x), <em>y0</em> (weighted mean y),
<em>angle</em> (of line), <em>E</em> (misfit), <em>slope</em>, <em>intercept</em>, <em>sigma_slope</em>, and <em>sigma_intercept</em>.  For the
standard regression (<strong>-Ey</strong>) we also report the Pearsonian correlation (<em>r</em>) and
coefficient of determination (<em>R</em>). We end with the effective number of measurements, <span class="math notranslate nohighlight">\(n_{eff}\)</span>.</p>
<p>For weighted data and the calculation of squared regression misfit to minimize (<strong>-N2</strong>), we use</p>
<div class="math notranslate nohighlight">
\[E_2(\nu) = \frac{\sum_{i=1}^n w_i e_i^2}{\sum_{i=1}^n w_i} \frac{n_{eff}}{n_{eff}-2},\]</div>
<p>where the effective number of measurements is given by</p>
<div class="math notranslate nohighlight">
\[n_{eff} = \frac{\left (\sum_{i=1}^n w_i\right )^2}{\sum_{i=1}^n w_i^2}.\]</div>
<p>and hence <span class="math notranslate nohighlight">\(\nu = n_{eff} - 2\)</span> are the effective degrees of freedom.</p>
</section>
<section id="examples">
<h2>Examples<a class="headerlink" href="#examples" title="Permalink to this heading">¶</a></h2>
<p><strong>Note</strong>: Below are some examples of valid syntax for this module.
The examples that use remote files (file names starting with <code class="docutils literal notranslate"><span class="pre">&#64;</span></code>)
can be cut and pasted into your terminal for testing.
Other commands requiring input files are just dummy examples of the types
of uses that are common but cannot be run verbatim as written.</p>
<p>To return the coordinates on the best-fit orthogonal regression line through the data in the
remote file hertzsprung-russell.txt, try:</p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>gmt regress @hertzsprung-russell.txt -Eo -Fxm
</pre></div>
</div>
<p>To do a standard least-squares regression on the <em>x-y</em> data in points.txt and return
x, y, and model prediction with 99% confidence intervals, try</p>
<blockquote>
<div><div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>gmt regress points.txt -Fxymc -C99 &gt; points_regressed.txt
</pre></div>
</div>
</div></blockquote>
<p>To just get the slope for the above regression, try</p>
<blockquote>
<div><div class="highlight-bash notranslate"><div class="highlight"><pre><span></span><span class="nv">slope</span><span class="o">=</span><span class="sb">`</span>gmt regress points.txt -Fp -o5<span class="sb">`</span>
</pre></div>
</div>
</div></blockquote>
<p>To do a reweighted least-squares regression on the data rough.txt and return
x, y, model prediction and the RLS weights, try</p>
<blockquote>
<div><div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>gmt regress rough.txt -Fxymw &gt; points_regressed.txt
</pre></div>
</div>
</div></blockquote>
<p>To do an orthogonal least-squares regression on the data crazy.txt but first take
the logarithm of both x and y, then return x, y, model prediction and the normalized
residuals (z-scores), try</p>
<blockquote>
<div><div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>gmt regress crazy.txt -Eo -Fxymz -i0-1l &gt; points_regressed.txt
</pre></div>
</div>
</div></blockquote>
<p>To examine how the orthogonal LMS misfits vary with angle between 0 and 90
in steps of 0.2 degrees for the same file, try</p>
<blockquote>
<div><div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>gmt regress points.txt -A0/90/0.2 -Eo -Nr &gt; points_analysis.txt
</pre></div>
</div>
</div></blockquote>
<p>To force an orthogonal LMS to pick the best solution with a positive slope, try</p>
<blockquote>
<div><div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>gmt regress points.txt -A+fp -Eo -Nr &gt; best_pos_slope.txt
</pre></div>
</div>
</div></blockquote>
</section>
<section id="references">
<h2>References<a class="headerlink" href="#references" title="Permalink to this heading">¶</a></h2>
<p>Bevington, P. R., 1969, <em>Data reduction and error analysis for the physical sciences</em>,
336 pp., McGraw-Hill, New York.</p>
<p>Draper, N. R., and H. Smith, 1998, <em>Applied regression analysis</em>, 3rd ed., 736 pp.,
John Wiley and Sons, New York.</p>
<p>Rousseeuw, P. J., and A. M. Leroy, 1987, <em>Robust regression and outlier detection</em>,
329 pp., John Wiley and Sons, New York.</p>
<p>York, D., N. M. Evensen, M. L. Martinez, and J. De Basebe Delgado, 2004, Unified
equations for the slope, intercept, and standard errors of the best straight line,
<em>Am. J. Phys.</em>, 72(3), 367-375.</p>
</section>
<section id="see-also">
<h2>See Also<a class="headerlink" href="#see-also" title="Permalink to this heading">¶</a></h2>
<p><a class="reference internal" href="gmt.html"><span class="doc">gmt</span></a>,
<a class="reference internal" href="trend1d.html"><span class="doc">trend1d</span></a>,
<a class="reference internal" href="trend2d.html"><span class="doc">trend2d</span></a></p>
</section>
</section>


           </div>
          </div>
          <footer><div class="rst-footer-buttons" role="navigation" aria-label="Footer">
        <a href="gmtmath.html" class="btn btn-neutral float-left" title="gmtmath" accesskey="p" rel="prev"><span class="fa fa-arrow-circle-left" aria-hidden="true"></span> Previous</a>
        <a href="gmtselect.html" class="btn btn-neutral float-right" title="gmtselect" accesskey="n" rel="next">Next <span class="fa fa-arrow-circle-right" aria-hidden="true"></span></a>
    </div>

  <hr/>

  <div role="contentinfo">
    <p>&#169; Copyright 2022, The GMT Team.
      <span class="lastupdated">Last updated on Jun 14, 2022.
      </span></p>
  </div>

  Built with <a href="https://www.sphinx-doc.org/">Sphinx</a> using a
    <a href="https://github.com/readthedocs/sphinx_rtd_theme">theme</a>
    provided by <a href="https://readthedocs.org">Read the Docs</a>.
   

</footer>
        </div>
      </div>
    </section>
  </div>
  <script>
      jQuery(function () {
          SphinxRtdTheme.Navigation.enable(false);
      });
  </script> 

</body>
</html>