
<!DOCTYPE html>
<html class="writer-html5" lang="en" data-content_root="./">
<head>
  <meta charset="utf-8" /><meta name="viewport" content="width=device-width, initial-scale=1" />

  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>greenspline &mdash; GMT 6.7.0 documentation</title>
      <link rel="stylesheet" type="text/css" href="_static/pygments.css?v=03e43079" />
      <link rel="stylesheet" type="text/css" href="_static/css/theme.css?v=19f00094" />
      <link rel="stylesheet" type="text/css" href="_static/copybutton.css?v=76b2166b" />
      <link rel="stylesheet" type="text/css" href="_static/togglebutton.css?v=13237357" />
      <link rel="stylesheet" type="text/css" href="_static/sphinx-design.min.css?v=95c83b7e" />
      <link rel="stylesheet" type="text/css" href="_static/style.css?v=32d919f4" />

  
    <link rel="shortcut icon" href="_static/favicon.png"/>
    <script src="_static/jquery.js"></script>
    <script src="_static/underscore.js"></script>
    
  <!--[if lt IE 9]>
    <script src="_static/js/html5shiv.min.js"></script>
  <![endif]-->
  
        <script src="_static/jquery.js?v=5d32c60e"></script>
        <script src="_static/_sphinx_javascript_frameworks_compat.js?v=2cd50e6c"></script>
        <script src="_static/documentation_options.js?v=9cce70e7"></script>
        <script src="_static/doctools.js?v=9a2dae69"></script>
        <script src="_static/sphinx_highlight.js?v=dc90522c"></script>
        <script src="_static/clipboard.min.js?v=a7894cd8"></script>
        <script src="_static/copybutton.js?v=f281be69"></script>
        <script>let toggleHintShow = 'Click to show example script';</script>
        <script>let toggleHintHide = 'Click to hide';</script>
        <script>let toggleOpenOnPrint = 'true';</script>
        <script src="_static/togglebutton.js?v=4a39c7ea"></script>
        <script src="_static/design-tabs.js?v=f930bc37"></script>
        <script>var togglebuttonSelector = '.toggle, .admonition.dropdown';</script>
        <script>var togglebuttonSelector = '.toggle, .admonition.dropdown';</script>
        <script async="async" src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-mml-chtml.js"></script>
    <script src="_static/js/theme.js"></script>
    <link rel="index" title="Index" href="genindex.html" />
    <link rel="search" title="Search" href="search.html" />
    <link rel="next" title="histogram" href="histogram.html" />
    <link rel="prev" title="grdvolume" href="grdvolume.html" />


  <!-- Point to the *latest* version switcher. This will allow the latest versions to appear on older documentation. -->
  <script type="text/javascript" src="/latest/_static/version_switch.js"></script>


</head>

<body class="wy-body-for-nav"> 
  <div class="wy-grid-for-nav">
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search" >

          
          
          <a href="index.html" class="icon icon-home">
            GMT
          </a>
              <div class="version">
                6.7
              </div>
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" aria-label="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>
        </div><div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="Navigation menu">
    
              <p class="caption" role="heading"><span class="caption-text">Getting started</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="intro.html">Introduction</a></li>
<li class="toctree-l1"><a class="reference internal" href="install.html">Installing GMT</a></li>
<li class="toctree-l1"><a class="reference internal" href="gallery.html">Illustration Gallery</a></li>
<li class="toctree-l1"><a class="reference internal" href="animations.html">Animation Gallery</a></li>
<li class="toctree-l1"><a class="reference internal" href="tutorial.html">Tutorials</a></li>
</ul>
<p class="caption" role="heading"><span class="caption-text">Reference documentation</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="modules.html">Modules</a></li>
<li class="toctree-l1"><a class="reference internal" href="reference.html">Technical Reference</a></li>
<li class="toctree-l1"><a class="reference internal" href="datasets.html">Datasets</a></li>
<li class="toctree-l1"><a class="reference internal" href="modules-classic.html">Modules (Classic Mode)</a></li>
</ul>
<p class="caption" role="heading"><span class="caption-text">Resources</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="changes.html">Changelog</a></li>
<li class="toctree-l1"><a class="reference internal" href="users-contrib-symbols.html">Users Symbol Contributions</a></li>
<li class="toctree-l1"><a class="reference internal" href="deprecated-defaults.html">Deprecated GMT Defaults Names</a></li>
<li class="toctree-l1"><a class="reference internal" href="switching.html">Switching between Different Versions</a></li>
<li class="toctree-l1"><a class="reference internal" href="migrating.html">Migrating from an Earlier Version</a></li>
</ul>
<p class="caption" role="heading"><span class="caption-text">Development</span></p>
<ul>
<li class="toctree-l1"><a class="reference external" href="https://github.com/GenericMappingTools/.github/blob/main/CODE_OF_CONDUCT.md">Code of Conduct</a></li>
<li class="toctree-l1"><a class="reference internal" href="devdocs/contributing.html">Contributors Guide</a></li>
<li class="toctree-l1"><a class="reference internal" href="devdocs/maintenance.html">Maintainers Guide</a></li>
<li class="toctree-l1"><a class="reference internal" href="devdocs/team.html">Team Gallery</a></li>
<li class="toctree-l1"><a class="reference internal" href="devdocs/rst-cheatsheet.html">reStructuredText Cheatsheet</a></li>
<li class="toctree-l1"><a class="reference internal" href="devdocs/debug.html">Debugging GMT</a></li>
<li class="toctree-l1"><a class="reference internal" href="devdocs/api.html">GMT C API</a></li>
<li class="toctree-l1"><a class="reference internal" href="devdocs/postscriptlight.html">PostScriptLight C API</a></li>
<li class="toctree-l1"><a class="reference internal" href="devdocs/devdocs.html">GMT Enhancement Proposals</a></li>
</ul>


    
        <p class="caption">
            <span class="caption-text">Getting help</span>
        </p>
        <ul>
            
                <li class="toctree-l1"><a href="https://www.generic-mapping-tools.org/"><i class="fa fa-home fa-fw"></i> GMT Homepage</a></li>
            
                <li class="toctree-l1"><a href="https://forum.generic-mapping-tools.org/"><i class="fa fa-comment fa-fw"></i> GMT Community Forum</a></li>
            
                <li class="toctree-l1"><a href="https://github.com/GenericMappingTools/gmt/blob/master/LICENSE.TXT"><i class="fa fa-book fa-fw"></i> License</a></li>
            
                <li class="toctree-l1"><a href="https://github.com/GenericMappingTools/gmt"><i class="fa fa-github fa-fw"></i> Source Code</a></li>
            
                <li class="toctree-l1"><a href="/dev/gmt-docs-dev.zip"><i class="fa fa-download fa-fw"></i> Documentation HTML zip</a></li>
            
        </ul>
    

        </div>
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap"><nav class="wy-nav-top" aria-label="Mobile navigation menu" >
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="index.html">GMT</a>
      </nav>

      <div class="wy-nav-content">
        <div class="rst-content">
          <div role="navigation" aria-label="Page navigation">
  <ul class="wy-breadcrumbs">
      <li><a href="index.html" class="icon icon-home" aria-label="Home"></a></li>
          <li class="breadcrumb-item"><a href="modules.html">Modules</a></li>
      <li class="breadcrumb-item active">greenspline</li>
      <li class="wy-breadcrumbs-aside">
              <a href="https://github.com/GenericMappingTools/gmt/edit/master/doc/rst/source/greenspline.rst" class="fa fa-github"> Edit on GitHub</a>
      </li>
  </ul>
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
             
  <span class="target" id="index-0"></span><section id="greenspline">
<h1>greenspline<a class="headerlink" href="#greenspline" title="Link to this heading"></a></h1>
<p>Interpolate using Green’s functions for splines in 1-3 dimensions</p>
<section id="synopsis">
<h2>Synopsis<a class="headerlink" href="#synopsis" title="Link to this heading"></a></h2>
<p><strong>gmt greenspline</strong> [ <em>table</em> ]
<a class="reference internal" href="#g"><span><strong>-G</strong></span></a></strong><em>grdfile</em>
[ <a class="reference internal" href="#a"><span><strong>-A</strong></span></a></strong><em>gradfile</em><strong>+f</strong><strong>0</strong>|<strong>1</strong>|<strong>2</strong>|<strong>3</strong>|<strong>4</strong>|<strong>5</strong> ]
[ <a class="reference internal" href="#c"><span><strong>-C</strong></span></a></strong>[[<strong>n</strong>|<strong>r</strong>|<strong>v</strong>]<em>value</em>[%]][<strong>+c</strong>][<strong>+f</strong><em>file</em>][<strong>+i</strong>][<strong>+n</strong>] ]
[ <a class="reference internal" href="#d"><span><strong>-D</strong></span></a></strong>[<strong>+x</strong><em>xname</em>][<strong>+y</strong><em>yname</em>][<strong>+z</strong><em>zname</em>][<strong>+v</strong><em>vname</em>][<strong>+s</strong><em>scale</em>][<strong>+o</strong><em>offset</em>][<strong>+n</strong><em>invalid</em>][<strong>+t</strong><em>title</em>][<strong>+r</strong><em>remark</em>] ]
[ <a class="reference internal" href="#e"><span><strong>-E</strong></span></a></strong>[<em>misfitfile</em>][<strong>+r</strong><em>reportfile</em>] ]
[ <a class="reference internal" href="#i"><span><strong>-I</strong></span></a></strong><em>xinc</em>[/<em>yinc</em>[/<em>zinc</em>]] ]
[ <a class="reference internal" href="#l"><span><strong>-L</strong></span></a></strong>[<strong>t</strong>][<strong>r</strong>] ]
[ <a class="reference internal" href="#n"><span><strong>-N</strong></span></a></strong><em>nodefile</em> ]
[ <a class="reference internal" href="#q"><span><strong>-Q</strong></span></a></strong>[<em>az</em>|<em>x/y/z</em>] ]
[ <a class="reference internal" href="#r"><span><strong>-R</strong></span></a></strong><em>xmin</em>/<em>xmax</em>[/<em>ymin</em>/<em>ymax</em>[/<em>zmin</em>/<em>zmax</em>]] ]
[ <a class="reference internal" href="#s"><span><strong>-S</strong></span></a></strong><strong>c</strong>|<strong>l</strong>|<strong>p</strong>|<strong>q</strong>|<strong>r</strong>|<strong>t</strong>[<em>tension</em>[/<em>scale</em>]][<strong>+e</strong><em>limit</em>][<strong>+n</strong><em>odd</em>] ]
[ <a class="reference internal" href="#t"><span><strong>-T</strong></span></a></strong><em>maskgrid</em> ]
[ <a class="reference internal" href="#v"><span><strong>-V</strong></span></a></strong>[<em>level</em>] ]
[ <a class="reference internal" href="#w"><span><strong>-W</strong></span></a></strong>[<strong>w</strong>]]
[ <a class="reference internal" href="#z"><span><strong>-Z</strong></span></a></strong><em>mode</em> ]
[ <strong>-b</strong><a class="reference internal" href="gmt.html#bi-full"><span class="std std-ref">binary</span></a> ]
[ <strong>-d</strong><a class="reference internal" href="gmt.html#d-full"><span class="std std-ref">nodata</span></a>[<strong>+c</strong><em>col</em>] ]
[ <strong>-e</strong><a class="reference internal" href="gmt.html#e-full"><span class="std std-ref">regexp</span></a> ]
[ <strong>-f</strong><a class="reference internal" href="gmt.html#f-full"><span class="std std-ref">flags</span></a> ]
[ <strong>-g</strong><a class="reference internal" href="gmt.html#g-full"><span class="std std-ref">gaps</span></a> ]
[ <strong>-h</strong><a class="reference internal" href="gmt.html#h-full"><span class="std std-ref">headers</span></a> ]
[ <strong>-i</strong><a class="reference internal" href="gmt.html#icols-full"><span class="std std-ref">flags</span></a> ]
[ <strong>-o</strong><a class="reference internal" href="gmt.html#ocols-full"><span class="std std-ref">flags</span></a> ]
[ <strong>-q</strong><a class="reference internal" href="gmt.html#q-full"><span class="std std-ref">flags</span></a> ]
[ <strong>-r</strong><a class="reference internal" href="gmt.html#nodereg-full"><span class="std std-ref">reg</span></a> ]
[ <strong>-s</strong><a class="reference internal" href="gmt.html#s-full"><span class="std std-ref">flags</span></a> ]
[ <strong>-w</strong><a class="reference internal" href="gmt.html#w-full"><span class="std std-ref">flags</span></a> ]
[ <strong>-x</strong>[[-]<a class="reference internal" href="gmt.html#core-full"><span class="std std-ref">n</span></a>] ]
[ <strong>-:</strong>[<strong>i</strong>|<strong>o</strong>] ]
[ <strong>--PAR</strong>=<em>value</em> ]</p>
<p><strong>Note</strong>: No space is allowed between the option flag and the associated arguments.</p>
</section>
<section id="description">
<h2>Description<a class="headerlink" href="#description" title="Link to this heading"></a></h2>
<p><strong>greenspline</strong> uses the Green’s function <span class="math notranslate nohighlight">\(g(\mathbf{x}; \mathbf{x}')\)</span> for the
chosen spline and geometry to interpolate data at regular [or arbitrary]
output locations. Choose between minimum curvature, regularized, or
continuous curvature splines in tension for either 1-D, 2-D, or 3-D
Cartesian coordinates or spherical surface coordinates. Mathematically, the solution is composed as</p>
<div class="math notranslate nohighlight">
\[w(\mathbf{x}) = T(\mathbf{x}) + \sum_{j=1}^{n} \alpha_j g(\mathbf{x}; \mathbf{x}_j),\]</div>
<p>where <span class="math notranslate nohighlight">\(\mathbf{x}\)</span> is the output location, <span class="math notranslate nohighlight">\(n\)</span> is the number of points,
<span class="math notranslate nohighlight">\(T(\mathbf{x})\)</span> is a trend function, and <span class="math notranslate nohighlight">\(\alpha_j\)</span> are the <em>n</em>
unknown weights we must solve for. Typically, <span class="math notranslate nohighlight">\(T(\mathbf{x})\)</span> is a linear
or planar trend (Cartesian geometries) or mean value (spherical surface) and a
least-squares solution is determined and removed from the data, yielding data
residuals (<span class="math notranslate nohighlight">\(\Delta w_i = w_i - T(\mathbf{x}_i)\)</span>); these are then
normalized for numerical stability. The unknown coefficients <span class="math notranslate nohighlight">\(\alpha_j\)</span>
are determined by requiring the solution to fit the observed residual data exactly:</p>
<div class="math notranslate nohighlight">
\[\Delta w(\mathbf{x}_i) = \sum_{j=1}^{n} \alpha_j g(\mathbf{x}_i; \mathbf{x}_j), \quad i = 1,n\]</div>
<p>yielding a <span class="math notranslate nohighlight">\(n \times n\)</span> linear system to be solved for the coefficients.</p>
<p>If there are also <em>m</em> observed constraints on the gradient <em>s</em> of the curve or surface (<a class="reference internal" href="#a"><span><strong>-A</strong></span></a></strong>) then we must
add additional <em>m</em> unknown coefficients and use the gradient of the Green’s functions to satisfy
the <em>m</em> extra constraints:</p>
<div class="math notranslate nohighlight">
\[s(\mathbf{x}_k) = \nabla w(\mathbf{x}_k) \mathbf{n}_k = \sum_{j=1}^{m} \alpha_{j+n} \nabla g(\mathbf{x}_k; \mathbf{x}_j) \mathbf{n}_k, \quad k = 1,m\]</div>
<p>where the gradient of the Green’s functions is dotted with the unit vector of the observed gradient.</p>
<p>Finally, away from the data constraints the Green’s function must satisfy</p>
<div class="math notranslate nohighlight">
\[\nabla^2  \left [ \nabla^2 - p^2 \right ] g(\mathbf{x}; \mathbf{x}') = \delta (\mathbf{x} - \mathbf{x}'),\]</div>
<p>where <span class="math notranslate nohighlight">\(\nabla^2\)</span> is the Laplacian operator, <span class="math notranslate nohighlight">\(\delta\)</span> is the
Dirac Delta function, and <span class="math notranslate nohighlight">\(p\)</span> is the tension (if desired). This
solution yields an exact interpolation of the supplied data points.
Alternatively, you may choose to perform a singular value decomposition
(SVD) and eliminate the contribution from the smallest eigenvalues; this
approach yields an approximate solution. Trends and normalization scales are restored
when evaluating the output.</p>
</section>
<section id="required-arguments">
<h2>Required Arguments<a class="headerlink" href="#required-arguments" title="Link to this heading"></a></h2>
<dl class="simple">
<dt><em>table</em></dt><dd><p>The name of one or more ASCII [or binary, see
<strong>-bi</strong>] files holding the <strong>x</strong>, <em>w</em> data
points. If no file is given then we read standard input instead.</p>
</dd>
</dl>
<dl class="simple" id="g">
<dt><strong>-G</strong><em>grdfile</em></dt><dd><p>Name of resulting output file. (1) If options <a class="reference internal" href="#r"><span><strong>-R</strong></span></a></strong>, <a class="reference internal" href="#i"><span><strong>-I</strong></span></a></strong>, and
possibly <strong>-r</strong> are set we produce an equidistant output table. This
will be written to standard output unless <a class="reference internal" href="#g"><span><strong>-G</strong></span></a></strong> is specified. <strong>Note</strong>: For 2-D
grids the <a class="reference internal" href="#g"><span><strong>-G</strong></span></a></strong> option is required. (2) If option <a class="reference internal" href="#t"><span><strong>-T</strong></span></a></strong> is
selected then <a class="reference internal" href="#g"><span><strong>-G</strong></span></a></strong> is required and the output file is a 2-D binary
grid file. Applies to 2-D interpolation only. (3) For 3-D cubes
the <a class="reference internal" href="#g"><span><strong>-G</strong></span></a></strong> option is optional.  If set, it can be the name of a 3-D
cube file or a filename template with a floating-point C-format identifier
in it so that each layer is written to a 2-D grid file; otherwise
we write (<em>x, y, z, w</em>) records to standard output. (4) If <a class="reference internal" href="#n"><span><strong>-N</strong></span></a></strong> is
selected then the output is an ASCII (or binary; see
<strong>-bo</strong>) table; if <a class="reference internal" href="#g"><span><strong>-G</strong></span></a></strong> is not given then
this table is written to standard output. Ignored if <a class="reference internal" href="#c"><span><strong>-C</strong></span></a></strong> or
<strong>-C</strong>0 is given.</p>
</dd>
</dl>
</section>
<section id="optional-arguments">
<h2>Optional Arguments<a class="headerlink" href="#optional-arguments" title="Link to this heading"></a></h2>
<dl id="a">
<dt><strong>-A</strong><em>gradfile</em><strong>+f</strong><strong>0</strong>|<strong>1</strong>|<strong>2</strong>|<strong>3</strong>|<strong>4</strong>|<strong>5</strong></dt><dd><p>The solution will partly be constrained by surface gradients
<span class="math notranslate nohighlight">\(\mathbf{v} = v \hat{\mathbf{n}}\)</span>, where <span class="math notranslate nohighlight">\(v\)</span> is the gradient
magnitude and <span class="math notranslate nohighlight">\(\hat{\mathbf{n}}\)</span> its unit vector direction.
The gradient direction may be specified either by Cartesian components
(either unit vector <span class="math notranslate nohighlight">\(\hat{\mathbf{n}}\)</span> and magnitude <span class="math notranslate nohighlight">\(v\)</span> separately
or gradient components <span class="math notranslate nohighlight">\(\mathbf{v}\)</span> directly) or
angles w.r.t. the coordinate axes. Append name of ASCII file with
the surface gradients.  Use modifier <strong>+f</strong> to select one of five input
formats:</p>
<ul class="simple">
<li><p><strong>0</strong> - For 1-D data there is no direction, just gradient magnitude (slope) so
the input format is <em>x</em>, <span class="math notranslate nohighlight">\(v\)</span> (1-D data set).</p></li>
<li><p><strong>1</strong> - Records contain <em>x</em>, <em>y</em>, <em>azimuth</em>, <span class="math notranslate nohighlight">\(v\)</span> (<em>azimuth</em> in degrees is
measured clockwise from the vertical (north) [Default] (2-D data set).</p></li>
<li><p><strong>2</strong> - Records contain <em>x</em>, <em>y</em>, <span class="math notranslate nohighlight">\(v\)</span>, <em>azimuth</em> (<em>azimuth</em> in degrees is
measured clockwise from the vertical (north);  2-D data set).</p></li>
<li><p><strong>3</strong> - Records contain <strong>x</strong>, <em>direction(s)</em>, <span class="math notranslate nohighlight">\(v\)</span> (<em>direction(s)</em> in degrees
are measured counter-clockwise from the horizontal, and for 3-D the vertical axis
(2-D or 3-D data set).</p></li>
<li><p><strong>4</strong> - Records contain <strong>x</strong>, <span class="math notranslate nohighlight">\(\mathbf{v}\)</span> (2-D or 3-D data set).</p></li>
<li><p><strong>5</strong> - Records contain <strong>x</strong>, <span class="math notranslate nohighlight">\(\hat{\mathbf{n}}\)</span>, <span class="math notranslate nohighlight">\(v\)</span> (2-D or 3-D data set).</p></li>
</ul>
<p><strong>Note</strong>: The slope constraints must not be at the same locations as the
data constraints. That scenario has not yet been implemented.</p>
</dd>
</dl>
<dl id="c">
<dt><strong>-C</strong>[[<strong>n</strong>|<strong>r</strong>|<strong>v</strong>]<em>value</em>[%]][<strong>+c</strong>][<strong>+f</strong><em>file</em>][<strong>+i</strong>][<strong>+n</strong>]</dt><dd><p>Find an approximate surface fit: Solve the linear system for the
spline coefficients by SVD and eliminate the contribution from smaller
eigenvalues [Default uses Gauss-Jordan elimination to solve the linear system
and fit the data exactly (unless <a class="reference internal" href="#w"><span><strong>-W</strong></span></a></strong> is used)]. Append a directive and <em>value</em>
to determine which eigenvalues to keep:</p>
<ul class="simple">
<li><p><strong>n</strong> - Retain only the <em>value</em> numbers largest eigenvalues [all]. Optionally,
append % to indicate <em>value</em> is given in percentage.</p></li>
<li><p><strong>r</strong> - Retain those eigenvalues whose ratio to the largest eigenvalue is less than
<em>value</em> [Default, with <em>value</em> = 0].</p></li>
<li><p><strong>v</strong> - Retain the eigenvalues needed to ensure the model prediction variance fraction
is at least <em>value</em>. Optionally, append % to indicate <em>value</em> is given in percentage.</p></li>
</ul>
<p>Several optional modifiers are available:</p>
<ul class="simple">
<li><p><strong>+c</strong> - Produce the cumulative sum of these contributions, one grid per eigenvalue (2-D only).</p></li>
<li><p><strong>+f</strong> - Append <em>file</em> to save the eigenvalues to the specified file for further analysis.</p></li>
<li><p><strong>+n</strong> - If given then <strong>+f</strong><em>file</em> is required and execution will
stop after saving the eigenvalues, i.e., no surface output is produced.</p></li>
<li><p><strong>+i</strong> - Produce the incremental sum of these contributions, one grid per eigenvalue (2-D only).</p></li>
</ul>
<p><strong>Notes</strong>: (1) Modifiers <strong>++c</strong> and <strong>+i</strong> require a file name with a suitable extension
to be given via <a class="reference internal" href="#g"><span><strong>-G</strong></span></a></strong> (we automatically insert “_cum_###” or “_inc_###” before the
extension, using a fixed integer format for the eigenvalue number, starting at 0).
(2) Use both modifiers to write both types of intermediate grids.</p>
</dd>
</dl>
<dl id="d">
<dt><strong>-D</strong>[<strong>+x</strong><em>xname</em>][<strong>+y</strong><em>yname</em>][<strong>+z</strong><em>zname</em>][<strong>+c</strong>[-|<em>cpt</em>]][<strong>+d</strong><em>dname</em>][<strong>+s</strong><em>scale</em>][<strong>+o</strong><em>offset</em>][<strong>+n</strong><em>invalid</em>][<strong>+t</strong><em>title</em>][<strong>+r</strong><em>remark</em>][<strong>+v</strong><em>varname</em>]</dt><dd><p>Control names and units of netCDF grid and cube meta-data.  For dimensions with units,
add the unit in square bracket (e.g., “distance [km]”). Select one or more of these modifiers:</p>
<ul class="simple">
<li><p><strong>+c</strong> - Append <em>cpt</em> to set a default CPT for this grid [turbo] or give - to remove any default CPT already set.</p></li>
<li><p><strong>+d</strong> - Set <em>dname</em>, the data value name.</p></li>
<li><p><strong>+n</strong> - Set the <em>invalid</em> number used to indicate a NaN or missing value.</p></li>
<li><p><strong>+o</strong> - Set the <em>offset</em> to add to data after first scaling the data [0].</p></li>
<li><p><strong>+r</strong> - Set a <em>remark</em> used for this grid (any sentence you prefer).</p></li>
<li><p><strong>+s</strong> - Set the <em>scale</em> used fto multiply data values after they are read [1].</p></li>
<li><p><strong>+t</strong> - Set a <em>title</em> used for this grid (any sentence you prefer).</p></li>
<li><p><strong>+v</strong> - Append <em>varname</em>, the variable name of the data set.</p></li>
<li><p><strong>+x</strong> - Append <em>xname</em>, the name of the x-coordinate (and optional unit in brackets).</p></li>
<li><p><strong>+y</strong> - Append <em>yname</em>, the name of the y-coordinate (and optional unit in brackets).</p></li>
<li><p><strong>+z</strong> - For 3-D cubes; append <em>zname</em>, the name of the z-coordinate (and optional unit in brackets).</p></li>
</ul>
<p>Give a blank name to completely reset a particular string.
Use quotes to group texts with more than one word.  If any
of your text contains plus symbols you need to escape them
(place a backslash before each plus-sign) so they are not
confused with the option modifiers.  Alternatively, you can
place the entire double-quoted string inside single quotes.
If you have shell variables that contain plus symbols you
cannot use single quotes but you can escape the plus symbols
in a variable using constructs like ${variable/+/\+}. Note
that for geographic grids and cubes (<strong>-fg</strong>), <em>xname</em> and
<em>yname</em> are set automatically. Normally, the data netCDF
variable is called “z” (grid) or “cube” (data cube). You can
rename this netCDF variable via <strong>+v</strong>.</p>
</dd>
</dl>
<dl class="simple" id="e">
<dt><strong>-E</strong>[<em>misfitfile</em>][<strong>+r</strong><em>reportfile</em>]</dt><dd><p>Evaluate the spline exactly at the input data locations and report
statistics of the misfit (mean, standard deviation, and rms).  Optionally,
append a filename and we will write the data table, augmented by
two extra columns holding the spline estimate and the misfit. Alternatively,
if <a class="reference internal" href="#c"><span><strong>-C</strong></span></a></strong> is used and history is computed (via one or more of modifiers <strong>+c</strong>
and <strong>+i</strong>), then we will instead write a table with eigenvalue number,
eigenvalue, percent of model variance explained, and rms misfit.  If <a class="reference internal" href="#w"><span><strong>-W</strong></span></a></strong>
is used we also append <span class="math notranslate nohighlight">\(\chi^2\)</span>. Optionally append this modifier:</p>
<ul class="simple">
<li><p><strong>+r</strong> - Write misfit and variance evaluation statistics to <em>reportfile</em>.
Output order is <em>Data Model Explained(%) N Mean Std.dev RMS</em>. If <a class="reference internal" href="#w"><span><strong>-W</strong></span></a></strong> is
used we add <span class="math notranslate nohighlight">\(\chi^2\)</span> as a final 8th column. <strong>Note</strong>: If <strong>+r</strong> is
not used then <a class="reference internal" href="#v"><span><strong>-V</strong></span></a></strong><strong>i</strong> will report the information via verbose messages.</p></li>
</ul>
</dd>
</dl>
<dl class="simple" id="i">
<dt><strong>-I</strong><em>xinc</em>[/<em>yinc</em>[/<em>zinc</em>]]</dt><dd><p>Specify equidistant sampling intervals, on for each dimension, separated by slashes.</p>
</dd>
</dl>
<dl id="l">
<dt><strong>-L</strong>[<strong>t</strong>][<strong>r</strong>]</dt><dd><p>Specifically control how we detrend (i.e., adjust <span class="math notranslate nohighlight">\(T(\mathbf{x})\)</span>)
and normalize the data (and possibly gradients) prior to determining the
solution coefficients.  The order of adjustments is always the same even if
some steps may be deselected:</p>
<ul class="simple">
<li><p>We always determine and then remove and restore the mean data value <span class="math notranslate nohighlight">\(\bar{w}\)</span>.</p></li>
<li><p>We determine a linear least-squares trend (directive <strong>t</strong>) and remove this trend
from residual data and slopes. <strong>Note</strong>: For spherical and 3-D interpolation the
<strong>t</strong> directive is not available.</p></li>
<li><p>We determine the maximum absolute value of the minimum and maximum data residuals
(directive <strong>r</strong>) and normalize the residual data and slopes by that range value.</p></li>
</ul>
<p>After evaluating the solution based on the residuals, we undo any normalization and
detrending in reverse order.
Use <strong>-L</strong> and specifically append one or both of these directives to override
the default. If no directives are given then no detrending nor normalization will
take place.</p>
</dd>
</dl>
<dl class="simple" id="n">
<dt><strong>-N</strong><em>nodefile</em></dt><dd><p>ASCII file with coordinates of desired output locations <strong>x</strong> in the
first column(s). The resulting <em>w</em> values are appended to each
record and written to the file given in <a class="reference internal" href="#g"><span><strong>-G</strong></span></a></strong> [or standard output if not
specified]; see <strong>-bo</strong> for binary output
instead. This option eliminates the need to specify options <a class="reference internal" href="#r"><span><strong>-R</strong></span></a></strong>,
<a class="reference internal" href="#i"><span><strong>-I</strong></span></a></strong>, and <strong>-r</strong>.</p>
</dd>
</dl>
<dl class="simple" id="q">
<dt><strong>-Q</strong>[<em>az</em>|<em>x/y/z</em>]</dt><dd><p>Rather than evaluate the solution <em>w</em>(<strong>x</strong>), take the first derivative of
a 1-D solution.  For 2-D, select directional derivative in
the <em>az</em> azimuth and return the magnitude of this derivative
instead. For a 3-D interpolation, specify the three components of the
desired vector direction (the vector will be normalized before use).</p>
</dd>
</dl>
<dl id="r">
<dt><strong>-R</strong><em>xmin</em>/<em>xmax</em>[/<em>ymin</em>/<em>ymax</em>[/<em>zmin</em>/<em>zmax</em>]]</dt><dd><p>Specify the domain for an equidistant lattice where output
predictions are required. Requires <a class="reference internal" href="#i"><span><strong>-I</strong></span></a></strong> and optionally <strong>-r</strong>.</p>
<p><em>1-D:</em> Give <em>xmin/xmax</em>, the minimum and maximum <em>x</em> coordinates.</p>
<p><em>2-D:</em> Give <em>xmin/xmax/ymin/ymax</em>, the minimum and maximum <em>x</em> and
<em>y</em> coordinates. These may be Cartesian or geographical. If
geographical, then <em>west</em>, <em>east</em>, <em>south</em>, and <em>north</em> specify the
Region of interest, and you may specify them in decimal degrees or
in [±]dd:mm[:ss.xxx][<strong>W</strong>|<strong>E</strong>|<strong>S</strong>|<strong>N</strong>]
format. The two shorthands <strong>-Rg</strong>
and <strong>-Rd</strong> stand for global domain (0/360 and -180/+180 in
longitude respectively, with -90/+90 in latitude).</p>
<p><em>3-D:</em> Give <em>xmin/xmax/ymin/ymax/zmin/zmax</em>, the minimum and maximum
<em>x</em>, <em>y</em> and <em>z</em> coordinates. See the 2-D section if your horizontal
coordinates are geographical; note the shorthands <strong>-Rg</strong> and
<strong>-Rd</strong> cannot be used if a 3-D domain is specified.</p>
</dd>
</dl>
<dl id="s">
<dt><strong>-S</strong><strong>c</strong>|<strong>l</strong>|<strong>p</strong>|<strong>q</strong>|<strong>r</strong>|<strong>t</strong>[<em>tension</em>[/<em>scale</em>]][<strong>+e</strong><em>limit</em>][<strong>+n</strong><em>odd</em>]</dt><dd><p>Select one of six different splines. Some are 1-D, 2-D, or 3-D Cartesian splines
(see <a class="reference internal" href="#z"><span><strong>-Z</strong></span></a></strong> for discussion). Note that all <em>tension</em> values are expected to be
normalized tension in the range 0 &lt; <em>tension</em> &lt; 1. Choose among these directives:</p>
<ul class="simple">
<li><p><strong>c</strong> - Minimum curvature spline [<em>Sandwell</em>, 1987] (1-D, 2-D, or 3-D Cartesian spline).</p></li>
<li><p><strong>l</strong> - Linear or bilinear spline; these produce output that do
not exceed the range of the given data (1-D or 2-D Cartesian spline).</p></li>
<li><p><strong>p</strong> - Minimum curvature spline [<em>Parker</em>, 1994] (spherical surface splines and implies <strong>-Z</strong>).</p></li>
<li><p><strong>q</strong> - Continuous curvature spline in tension [<em>Wessel and Becker</em>, 2008]; append <em>tension</em>. The
<span class="math notranslate nohighlight">\(g(\mathbf{x}; \mathbf{x}')\)</span> for the last method is slower to compute (a series solution),
so we pre-calculate values and use cubic spline interpolation lookup instead (spherical surface
spline and implies <strong>-Z</strong>).</p></li>
<li><p><strong>r</strong> - Regularized spline in tension [<em>Mitasova and Mitas</em>, 1993]; again,
append <em>tension</em> and optional <em>scale</em> (2-D or 3-D spline).</p></li>
<li><p><strong>t</strong> - Continuous curvature spline in tension [<em>Wessel and Bercovici</em>, 1998];
append <em>tension</em>[/<em>scale</em>] with <em>tension</em> in the 0-1 range and optionally
supply a length <em>scale</em> [Default is the average grid spacing] (1-D, 2-D, or 3-D Cartesian spline).</p></li>
</ul>
<p><strong>Note</strong>: Directive <strong>q</strong> may take two optional modifiers:</p>
<ul class="simple">
<li><p><strong>+e</strong> - The finite Legendre sum has a truncation error [1e-6]; you can lower that by
appending <em>limit</em> at the expense of longer run-time.</p></li>
<li><p><strong>+n</strong> - Change how many  points to use in the spline setup by appending <em>odd</em> [10001]
(must be an odd integer).</p></li>
</ul>
</dd>
</dl>
<dl class="simple" id="t">
<dt><strong>-T</strong><em>maskgrid</em></dt><dd><p>For 2-D interpolation only. Only evaluate the solution at the nodes
in the <em>maskgrid</em> that are not equal to NaN. This option eliminates
the need to specify options <a class="reference internal" href="#r"><span><strong>-R</strong></span></a></strong>, <a class="reference internal" href="#i"><span><strong>-I</strong></span></a></strong>, and <strong>-r</strong>.</p>
</dd>
</dl>
<dl class="simple" id="v">
<dt><strong>-V</strong>[<em>level</em>]</dt><dd><p>Select verbosity level [<strong>w</strong>]. <a class="reference internal" href="gmt.html#v-full"><span class="std std-ref">(See full description)</span></a> <a class="reference internal" href="reference/options.html#verbose-feedback-the-v-option"><span class="std std-ref">(See technical reference)</span></a>.</p>
</dd>
</dl>
<dl class="simple" id="w">
<dt><strong>-W</strong>[<strong>w</strong>]</dt><dd><p>Data one-sigma uncertainties are provided in the last column.
We then compute weights that are inversely proportional to the uncertainties squared.
Append <strong>w</strong> if weights are given instead of uncertainties and then they will be used
as is (no squaring).  This results in a weighted least squares fit.  Note that this
only has an effect if <a class="reference internal" href="#c"><span><strong>-C</strong></span></a></strong> is used.  [Default uses no weights or uncertainties].</p>
</dd>
</dl>
<dl class="simple" id="z">
<dt><strong>-Z</strong><em>mode</em></dt><dd><p>Sets the distance mode that determines how we calculate distances
between data points. Select <em>mode</em> 0 for Cartesian 1-D spline
interpolation: <strong>-Z</strong>0 means (<em>x</em>) in user units, Cartesian
distances. Select <em>mode</em> 1-3 for Cartesian 2-D surface spline
interpolation: <strong>-Z</strong>1 means (<em>x</em>,<em>y</em>) in user units, Cartesian
distances, <strong>-Z</strong>2 for (<em>x</em>,<em>y</em>) in degrees, Flat Earth
distances, and <strong>-Z</strong>3 for (<em>x</em>,<em>y</em>) in degrees, Spherical
distances in km. Then, if <a class="reference internal" href="gmt.conf.html#term-PROJ_ELLIPSOID"><span class="xref std std-term">PROJ_ELLIPSOID</span></a> is spherical, we
compute great circle arcs, otherwise geodesics. Option <em>mode</em> = 4
applies to spherical surface spline interpolation only: <strong>-Z</strong>4
for (<em>x</em>,<em>y</em>) in degrees, use cosine of great circle (or geodesic)
arcs. Select <em>mode</em> 5 for Cartesian 3-D surface spline
interpolation: <strong>-Z</strong>5 means (<em>x</em>,<em>y</em>,<em>z</em>) in user units,
Cartesian distances.</p>
</dd>
</dl>
<dl class="simple">
<dt><strong>-bi</strong><em>record</em>[<strong>+b</strong>|<strong>l</strong>] <a class="reference internal" href="gmt.html#bi-full"><span class="std std-ref">(more …)</span></a></dt><dd><p>Select native binary format for primary table input. [Default is 2-4 input
columns (<strong>x</strong>,<em>w</em>); the number depends on the chosen dimension].</p>
</dd>
</dl>
<dl class="simple">
<dt><strong>-bo</strong><em>record</em>[<strong>+b</strong>|<strong>l</strong>] <a class="reference internal" href="gmt.html#bo-full"><span class="std std-ref">(more …)</span></a></dt><dd><p>Select native binary format for table output.  </p>
</dd>
</dl>
<dl class="simple">
<dt><strong>-d</strong>[<strong>i</strong>|<strong>o</strong>][<strong>+c</strong><em>col</em>]<em>nodata</em> <a class="reference internal" href="gmt.html#d-full"><span class="std std-ref">(more …)</span></a></dt><dd><p>Replace input columns that equal <em>nodata</em> with NaN and do the reverse on output.  </p>
</dd>
</dl>
<dl class="simple">
<dt><strong>-e</strong>[<strong>~</strong>]<em>“pattern”</em> | <strong>-e</strong>[<strong>~</strong>]/<em>regexp</em>/[<strong>i</strong>] <a class="reference internal" href="gmt.html#e-full"><span class="std std-ref">(more …)</span></a></dt><dd><p>Only accept data records that match the given pattern.  </p>
</dd>
</dl>
<dl class="simple">
<dt><strong>-f</strong>[<strong>i</strong>|<strong>o</strong>]<em>colinfo</em> <a class="reference internal" href="gmt.html#f-full"><span class="std std-ref">(more …)</span></a></dt><dd><p>Specify data types of input and/or output columns.  </p>
</dd>
</dl>
<dl class="simple">
<dt><strong>-h</strong>[<strong>i</strong>|<strong>o</strong>][<em>n</em>][<strong>+c</strong>][<strong>+d</strong>][<strong>+m</strong><em>segheader</em>][<strong>+r</strong><em>remark</em>][<strong>+t</strong><em>title</em>] <a class="reference internal" href="gmt.html#h-full"><span class="std std-ref">(more …)</span></a></dt><dd><p>Skip or produce header record(s).  </p>
</dd>
</dl>
<dl class="simple">
<dt><strong>-i</strong><em>cols</em>[<strong>+l</strong>][<strong>+d</strong><em>divisor</em>][<strong>+s</strong><em>scale</em>|<strong>d</strong>|<strong>k</strong>][<strong>+o</strong><em>offset</em>][,<em>…</em>][,<strong>t</strong>[<em>word</em>]] <a class="reference internal" href="gmt.html#icols-full"><span class="std std-ref">(more …)</span></a></dt><dd><p>Select input columns and transformations (0 is first column, <strong>t</strong> is trailing text, append <em>word</em> to read one word only).</p>
</dd>
</dl>
<dl class="simple">
<dt><strong>-o</strong><em>cols</em>[<strong>+l</strong>][<strong>+d</strong><em>divisor</em>][<strong>+s</strong><em>scale</em>|<strong>d</strong>|<strong>k</strong>][<strong>+o</strong><em>offset</em>][,<em>…</em>][,<strong>t</strong>[<em>word</em>]] <a class="reference internal" href="gmt.html#ocols-full"><span class="std std-ref">(more …)</span></a></dt><dd><p>Select output columns and transformations (0 is first column, <strong>t</strong> is trailing text, append <em>word</em> to write one word only).</p>
</dd>
</dl>
<dl class="simple">
<dt><strong>-q</strong>[<strong>i</strong>|<strong>o</strong>][~]<em>rows</em>|<em>limits</em>[<strong>+c</strong><em>col</em>][<strong>+a</strong>|<strong>t</strong>|<strong>s</strong>] <a class="reference internal" href="gmt.html#q-full"><span class="std std-ref">(more …)</span></a></dt><dd><p>Select input or output rows or data limit(s) [all].</p>
</dd>
</dl>
<dl class="simple">
<dt><strong>-r</strong>[<strong>g</strong>|<strong>p</strong>] <a class="reference internal" href="gmt.html#nodereg-full"><span class="std std-ref">(more …)</span></a></dt><dd><p>Set node registration [gridline].  </p>
</dd>
</dl>
<dl class="simple">
<dt><strong>-wy</strong>|<strong>a</strong>|<strong>w</strong>|<strong>d</strong>|<strong>h</strong>|<strong>m</strong>|<strong>s</strong>|<strong>c</strong><em>period</em>[/<em>phase</em>][<strong>+c</strong><em>col</em>] <a class="reference internal" href="gmt.html#w-full"><span class="std std-ref">(more …)</span></a></dt><dd><p>Convert an input coordinate to a cyclical coordinate.</p>
</dd>
</dl>
<dl class="simple">
<dt><strong>-x</strong>[[-]<em>n</em>] <a class="reference internal" href="gmt.html#core-full"><span class="std std-ref">(more …)</span></a></dt><dd><p>Limit number of cores used in multi-threaded algorithms. Multi-threaded behavior is enabled by default.
That covers the modules that implement the OpenMP API (required at compiling stage) and GThreads (Glib)
for the grdfilter module.</p>
</dd>
</dl>
<dl class="simple">
<dt><strong>-^</strong> or just <strong>-</strong></dt><dd><p>Print a short message about the syntax of the command, then exit (<strong>Note</strong>: on Windows just use <strong>-</strong>).</p>
</dd>
<dt><strong>-+</strong> or just <strong>+</strong></dt><dd><p>Print an extensive usage (help) message, including the explanation of
any module-specific option (but not the GMT common options), then exit.</p>
</dd>
<dt><strong>-?</strong> or no arguments</dt><dd><p>Print a complete usage (help) message, including the explanation of all options, then exit.</p>
</dd>
<dt><strong>--PAR</strong>=<em>value</em></dt><dd><p>Temporarily override a GMT default setting; repeatable. See <a class="reference internal" href="gmt.conf.html"><span class="doc">gmt.conf</span></a> for parameters.</p>
</dd>
</dl>
</section>
<section id="d-examples">
<h2>1-D Examples<a class="headerlink" href="#d-examples" title="Link to this heading"></a></h2>
<p>To resample the <em>x</em>,<em>y</em> Gaussian random data created by <a class="reference internal" href="gmtmath.html"><span class="doc">math</span></a>
and stored in 1D.txt, requesting output every 0.1 step from 0 to 10, and
using a minimum cubic spline, try:</p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>gmt<span class="w"> </span>begin<span class="w"> </span>1D
<span class="w">  </span>gmt<span class="w"> </span>math<span class="w"> </span>-T0/10/1<span class="w"> </span><span class="m">0</span><span class="w"> </span><span class="m">1</span><span class="w"> </span><span class="nv">NRAND</span><span class="w"> </span><span class="o">=</span><span class="w"> </span>1D.txt
<span class="w">  </span>gmt<span class="w"> </span>plot<span class="w"> </span>-R0/10/-5/5<span class="w"> </span>-JX6i/3i<span class="w"> </span>-B<span class="w"> </span>-Sc0.1<span class="w"> </span>-Gblack<span class="w"> </span>1D.txt
<span class="w">  </span>gmt<span class="w"> </span>greenspline<span class="w"> </span>1D.txt<span class="w"> </span>-R0/10<span class="w"> </span>-I0.1<span class="w"> </span>-Sc<span class="w"> </span><span class="p">|</span><span class="w"> </span>gmt<span class="w"> </span>plot<span class="w"> </span>-Wthin
gmt<span class="w"> </span>end<span class="w"> </span>show
</pre></div>
</div>
<p>To apply a spline in tension instead, using a tension of 0.7, try:</p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>gmt<span class="w"> </span>begin<span class="w"> </span>1Dt
<span class="w">  </span>gmt<span class="w"> </span>plot<span class="w"> </span>-R0/10/-5/5<span class="w"> </span>-JX6i/3i<span class="w"> </span>-B<span class="w"> </span>-Sc0.1<span class="w"> </span>-Gblack<span class="w"> </span>1D.txt
<span class="w">  </span>gmt<span class="w"> </span>greenspline<span class="w"> </span>1D.txt<span class="w"> </span>-R0/10<span class="w"> </span>-I0.1<span class="w"> </span>-St0.7<span class="w"> </span><span class="p">|</span><span class="w"> </span>gmt<span class="w"> </span>plot<span class="w"> </span>-Wthin
gmt<span class="w"> </span>end<span class="w"> </span>show
</pre></div>
</div>
</section>
<section id="id1">
<h2>2-D Examples<a class="headerlink" href="#id1" title="Link to this heading"></a></h2>
<p>To make a uniform grid using the minimum curvature spline for the same
Cartesian data set from Table 5.11 in Davis (1986) that is used in the
GMT Technical Reference example 16, try:</p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>gmt<span class="w"> </span>begin<span class="w"> </span>2D
<span class="w">  </span>gmt<span class="w"> </span>greenspline<span class="w"> </span>@Table_5_11.txt<span class="w"> </span>-R0/6.5/-0.2/6.5<span class="w"> </span>-I0.1<span class="w"> </span>-Sc<span class="w"> </span>-V<span class="w"> </span>-Z1<span class="w"> </span>-GS1987.nc
<span class="w">  </span>gmt<span class="w"> </span>plot<span class="w"> </span>-R0/6.5/-0.2/6.5<span class="w"> </span>-JX6i<span class="w"> </span>-B<span class="w"> </span>-Sc0.1<span class="w"> </span>-Gblack<span class="w"> </span>@Table_5_11.txt
<span class="w">  </span>gmt<span class="w"> </span>grdcontour<span class="w"> </span>-C25<span class="w"> </span>-A50<span class="w"> </span>S1987.nc
gmt<span class="w"> </span>end<span class="w"> </span>show
</pre></div>
</div>
<p>To use Cartesian splines in tension but only evaluate the solution where
the input mask grid is not NaN, try:</p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>gmt<span class="w"> </span>greenspline<span class="w"> </span>@Table_5_11.txt<span class="w"> </span>-Tmask.nc<span class="w"> </span>-St0.5<span class="w"> </span>-V<span class="w"> </span>-Z1<span class="w"> </span>-GWB1998.nc
</pre></div>
</div>
<p>To use Cartesian generalized splines in tension and return the magnitude
of the surface slope in the NW direction, try:</p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>gmt<span class="w"> </span>greenspline<span class="w"> </span>@Table_5_11.txt<span class="w"> </span>-R0/6.5/-0.2/6.5<span class="w"> </span>-I0.1<span class="w"> </span>-Sr0.95<span class="w"> </span>-V<span class="w"> </span>-Z1<span class="w"> </span>-Q-45<span class="w"> </span>-Gslopes.nc
</pre></div>
</div>
<p>To use Cartesian cubic splines and evaluate the cumulative solution as a function of eigenvalue,
using output file based on the main grid name (such as contribution_cum_033.nc), try:</p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>gmt<span class="w"> </span>greenspline<span class="w"> </span>@Table_5_11.txt<span class="w"> </span>-R0/6.5/-0.2/6.5<span class="w"> </span>-I0.1<span class="w"> </span>-Gcontribution.nc<span class="w"> </span>-Sc<span class="w"> </span>-Z1<span class="w"> </span>-C+c
</pre></div>
</div>
<p>Finally, to use Cartesian minimum curvature splines in recovering a
surface where the input data represent a single surface value (pt.txt) and the
remaining constraints specify only the surface slope and direction
(slopes.txt), use:</p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>gmt<span class="w"> </span>greenspline<span class="w"> </span>pt.txt<span class="w"> </span>-R-3.2/3.2/-3.2/3.2<span class="w"> </span>-I0.1<span class="w"> </span>-Sc<span class="w"> </span>-V<span class="w"> </span>-Z1<span class="w"> </span>-Aslopes.txt+f1<span class="w"> </span>-Gslopes.nc
</pre></div>
</div>
</section>
<section id="id2">
<h2>3-D Examples<a class="headerlink" href="#id2" title="Link to this heading"></a></h2>
<p>To create a uniform 3-D Cartesian grid table based on the data in
Table 5.23 in Davis (1986) that contains <em>x</em>,<em>y</em>,<em>z</em> locations and
a measure of uranium oxide concentrations (in percent), try:</p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>gmt<span class="w"> </span>greenspline<span class="w"> </span>@Table_5_23.txt<span class="w"> </span>-R5/40/-5/10/5/16<span class="w"> </span>-I0.25<span class="w"> </span>-Sr0.85<span class="w"> </span>-V<span class="w"> </span>-Z5<span class="w"> </span>&gt;<span class="w"> </span>3D_UO2.txt
</pre></div>
</div>
<p>To instead write the results as a series of 2-D layer grids called layer_*z*.grd, try:</p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>gmt<span class="w"> </span>greenspline<span class="w"> </span>@Table_5_23.txt<span class="w"> </span>-R5/40/-5/10/5/16<span class="w"> </span>-I0.25<span class="w"> </span>-Sr0.85<span class="w"> </span>-V<span class="w"> </span>-Z5<span class="w"> </span>-G3D_UO2_%g.grd
</pre></div>
</div>
<p>Finally, to write the result to a 3-D netCDF grid, try:</p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>gmt<span class="w"> </span>greenspline<span class="w"> </span>@Table_5_23.txt<span class="w"> </span>-R5/40/-5/10/5/16<span class="w"> </span>-I0.25<span class="w"> </span>-Sr0.85<span class="w"> </span>-V<span class="w"> </span>-Z5<span class="w"> </span>-G3D_UO2.nc
</pre></div>
</div>
</section>
<section id="d-spherical-surface-examples">
<h2>2-D Spherical Surface Examples<a class="headerlink" href="#d-spherical-surface-examples" title="Link to this heading"></a></h2>
<p>To recreate Parker’s [1994] example on a global 1x1 degree grid,
assuming the data are in the remote file mag_obs_1990.txt, try:</p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>gmt<span class="w"> </span>greenspline<span class="w"> </span>-V<span class="w"> </span>-Rg<span class="w"> </span>-Sp<span class="w"> </span>-Z3<span class="w"> </span>-I1<span class="w"> </span>-GP1994.nc<span class="w"> </span>@mag_obs_1990.txt
</pre></div>
</div>
<p>To do the same problem but applying tension of 0.85, use:</p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>gmt<span class="w"> </span>greenspline<span class="w"> </span>-V<span class="w"> </span>-Rg<span class="w"> </span>-Sq0.85<span class="w"> </span>-Z3<span class="w"> </span>-I1<span class="w"> </span>-GWB2008.nc<span class="w"> </span>@mag_obs_1990.txt
</pre></div>
</div>
</section>
<section id="considerations">
<h2>Considerations<a class="headerlink" href="#considerations" title="Link to this heading"></a></h2>
<ol class="arabic simple">
<li><p>For the Cartesian cases we use the free-space Green functions, hence
no boundary conditions are applied at the edges of the specified domain.
For most applications this is fine as the region typically is
arbitrarily set to reflect the extent of your data. However, if your
application requires particular boundary conditions then you may
consider using <a class="reference internal" href="surface.html"><span class="doc">surface</span></a> instead.</p></li>
<li><p>In all cases, the solution is obtained by inverting a <em>n</em> x <em>n</em>
double precision matrix for the Green function coefficients, where <em>n</em>
is the number of data constraints. Hence, your computer’s memory may
place restrictions on how large data sets you can process with
<strong>greenspline</strong>. Pre-processing your data with <a class="reference internal" href="blockmean.html"><span class="doc">blockmean</span></a>,
<a class="reference internal" href="blockmedian.html"><span class="doc">blockmedian</span></a>, or <a class="reference internal" href="blockmode.html"><span class="doc">blockmode</span></a> is recommended to avoid aliasing and
may also control the size of <em>n</em>. For information, if <em>n</em> = 1024 then
only 8 Mb memory is needed, but for <em>n</em> = 10240 we need 800 Mb. Note
that <strong>greenspline</strong> is fully 64-bit compliant if compiled as such.
For spherical data you may consider decimating using <a class="reference internal" href="gmtspatial.html"><span class="doc">spatial</span></a>
nearest neighbor reduction.</p></li>
<li><p>The inversion for coefficients can become numerically unstable when
data neighbors are very close compared to the overall span of the data.
You can remedy this by preprocessing the data, e.g., by averaging
closely spaced neighbors. Alternatively, you can improve stability by
using the SVD solution and discard information associated with the
smallest eigenvalues (see <a class="reference internal" href="#c"><span><strong>-C</strong></span></a></strong>).</p></li>
<li><p>The series solution implemented for <strong>-Sq</strong> was developed by
Robert L. Parker, Scripps Institution of Oceanography, which we
gratefully acknowledge.</p></li>
<li><p>If you need to fit a certain 1-D spline through your data
points you may wish to consider <a class="reference internal" href="sample1d.html"><span class="doc">sample1d</span></a> instead.
It will offer traditional splines with standard boundary conditions
(such as the natural cubic spline, which sets the curvatures at the ends
to zero).  In contrast, <strong>greenspline</strong>‘s 1-D spline, as is explained in
note 1, does <em>not</em> specify boundary conditions at the end of the data domain.</p></li>
<li><p>It may be difficult to know how many eigenvalues are needed for a suitable
approximate fit.  The <a class="reference internal" href="#c"><span><strong>-C</strong></span></a></strong> modifiers allow you to explore this further
by creating solutions for all cutoff selections and estimate model variance
and data misfit as a function of how many eigenvalues are used.  The large
set of such solutions can be animated so it is easier to explore the changes
between solutions and to make a good selection for the <a class="reference internal" href="#c"><span><strong>-C</strong></span></a></strong> directive values.
See the animations for one or more examples of this exploration.</p></li>
</ol>
</section>
<section id="tension">
<h2>Tension<a class="headerlink" href="#tension" title="Link to this heading"></a></h2>
<p>Tension is generally used to suppress spurious oscillations caused by
the minimum curvature requirement, in particular when rapid gradient
changes are present in the data. The proper amount of tension can only
be determined by experimentation. Generally, very smooth data (such as
potential fields) do not require much, if any tension, while rougher
data (such as topography) will typically interpolate better with
moderate tension. Make sure you try a range of values before choosing
your final result. <strong>Note</strong>: The regularized spline in tension is only
stable for a finite range of <em>scale</em> values; you must experiment to find
the valid range and a useful setting. For more information on tension
see the references below.</p>
</section>
<section id="deprecations">
<h2>Deprecations<a class="headerlink" href="#deprecations" title="Link to this heading"></a></h2>
<ul class="simple">
<li><p>6.3.0: Replace <strong>+m</strong> and <strong>+M</strong> modifiers for <a class="reference internal" href="#c"><span><strong>-C</strong></span></a></strong>. <a class="reference external" href="https://github.com/GenericMappingTools/gmt/pull/5714">#5714</a></p></li>
<li><p>6.3.0: Use <strong>+n</strong> instead of negative value for <a class="reference internal" href="#c"><span><strong>-C</strong></span></a></strong> to set dry-run. <a class="reference external" href="https://github.com/GenericMappingTools/gmt/pull/5725/">#5725</a></p></li>
</ul>
</section>
<section id="references">
<h2>References<a class="headerlink" href="#references" title="Link to this heading"></a></h2>
<p>Davis, J. C., 1986, <em>Statistics and Data Analysis in Geology</em>, 2nd
Edition, 646 pp., Wiley, New York,</p>
<p>Mitasova, H., and L. Mitas, 1993, Interpolation by regularized spline
with tension: I. Theory and implementation, <em>Math. Geol.</em>, <strong>25</strong>,
641-655.</p>
<p>Parker, R. L., 1994, <em>Geophysical Inverse Theory</em>, 386 pp., Princeton
Univ. Press, Princeton, N.J.</p>
<p>Sandwell, D. T., 1987, Biharmonic spline interpolation of Geos-3 and
Seasat altimeter data, <em>Geophys. Res. Lett.</em>, <strong>14</strong>, 139-142.</p>
<p>Wessel, P., and D. Bercovici, 1998, Interpolation with splines in
tension: a Green’s function approach, <em>Math. Geol.</em>, <strong>30</strong>, 77-93,
<a class="reference external" href="https://doi.org/10.1023/A:1021713421882">https://doi.org/10.1023/A:1021713421882</a>.</p>
<p>Wessel, P., and J. M. Becker, 2008, Interpolation using a generalized
Green’s function for a spherical surface spline in tension, <em>Geophys. J.
Int</em>, <strong>174</strong>, 21-28, <a class="reference external" href="https://doi.org/10.1111/j.1365-246X.2008.03829.x">https://doi.org/10.1111/j.1365-246X.2008.03829.x</a>.</p>
<p>Wessel, P., 2009, A general-purpose Green’s function interpolator,
<em>Computers &amp; Geosciences</em>, <strong>35</strong>, 1247-1254, <a class="reference external" href="https://doi.org/10.1016/j.cageo.2008.08.012">https://doi.org/10.1016/j.cageo.2008.08.012</a>.</p>
</section>
<section id="see-also">
<h2>See Also<a class="headerlink" href="#see-also" title="Link to this heading"></a></h2>
<p><a class="reference internal" href="gmt.html"><span class="doc">gmt</span></a>, <a class="reference internal" href="gmtmath.html"><span class="doc">math</span></a>,
<a class="reference internal" href="nearneighbor.html"><span class="doc">nearneighbor</span></a>, <a class="reference internal" href="plot.html"><span class="doc">plot</span></a>,
<a class="reference internal" href="sample1d.html"><span class="doc">sample1d</span></a>,
<a class="reference internal" href="sphtriangulate.html"><span class="doc">sphtriangulate</span></a>,
<a class="reference internal" href="surface.html"><span class="doc">surface</span></a>,
<a class="reference internal" href="triangulate.html"><span class="doc">triangulate</span></a>, <a class="reference internal" href="xyz2grd.html"><span class="doc">xyz2grd</span></a></p>
</section>
</section>


           </div>
          </div>
          <footer><div class="rst-footer-buttons" role="navigation" aria-label="Footer">
        <a href="grdvolume.html" class="btn btn-neutral float-left" title="grdvolume" accesskey="p" rel="prev"><span class="fa fa-arrow-circle-left" aria-hidden="true"></span> Previous</a>
        <a href="histogram.html" class="btn btn-neutral float-right" title="histogram" accesskey="n" rel="next">Next <span class="fa fa-arrow-circle-right" aria-hidden="true"></span></a>
    </div>

  <hr/>

  <div role="contentinfo">
    <p>&#169; Copyright 2025, The GMT Team.
      <span class="lastupdated">Last updated on Nov 01, 2025.
      </span></p>
  </div>

  Built with <a href="https://www.sphinx-doc.org/">Sphinx</a> using a
    <a href="https://github.com/readthedocs/sphinx_rtd_theme">theme</a>
    provided by <a href="https://readthedocs.org">Read the Docs</a>.
   

</footer>
        </div>
      </div>
    </section>
  </div>
  <script>
      jQuery(function () {
          SphinxRtdTheme.Navigation.enable(false);
      });
  </script> 

</body>
</html>