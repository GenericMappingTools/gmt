
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
  "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">

<html xmlns="http://www.w3.org/1999/xhtml" lang="en">
  <head>
    <meta http-equiv="X-UA-Compatible" content="IE=Edge" />
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />

    <title>1. The Generic Mapping Tools &#8212; GMT 5.4.6_c5d65a4_2019.11.05 documentation</title>

<meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=0"/>


    <link rel="stylesheet" href="_static/rtd.css" type="text/css" />
    <link rel="stylesheet" href="_static/pygments.css" type="text/css" />
    <script type="text/javascript" id="documentation_options" data-url_root="./" src="_static/documentation_options.js"></script>
    <script type="text/javascript" src="_static/jquery.js"></script>
    <script type="text/javascript" src="_static/underscore.js"></script>
    <script type="text/javascript" src="_static/doctools.js"></script>
    <script type="text/javascript" src="_static/language_data.js"></script>
    <script async="async" type="text/javascript" src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/latest.js?config=TeX-AMS-MML_HTMLorMML"></script>
    <script type="text/javascript" src="_static/searchtools.js"></script>
    <script type="text/javascript" src="_static/rtd-sidebar.js"></script>
    <link rel="index" title="Index" href="genindex.html" />
    <link rel="search" title="Search" href="search.html" />
    <link rel="next" title="GMT_Tutorial" href="tutorial.html" />
    <link rel="prev" title="CookBook" href="cookbook.html" /> 
  </head><body>
    <div class="related" role="navigation" aria-label="related navigation">
      <h3>Navigation</h3>
      <ul>
        <li class="right" style="margin-right: 10px">
          <a href="genindex.html" title="General Index"
             accesskey="I">index</a></li>
        <li class="right" >
          <a href="tutorial.html" title="GMT_Tutorial"
             accesskey="N">next</a> </li>
        <li class="right" >
          <a href="cookbook.html" title="CookBook"
             accesskey="P">previous</a> </li>
  <li><a href="/projects/gmt/wiki/Documentation">Project Home</a>  &#187;</li>
  
        <li class="nav-item nav-item-0"><a href="index.html">GMT 5.4.6_c5d65a4_2019.11.05 documentation</a> &#187;</li>

          <li class="nav-item nav-item-1"><a href="cookbook.html" accesskey="U">CookBook</a> &#187;</li>
<li class="right">
<form class="search" accept-charset="UTF-8" action="search.html" method="get">
  <div style="margin:0;padding:0;display:inline"><input name="utf8" type="hidden" value="✓"></div>
  <label for="q">
    <a class="search" href="search.html" accesskey="s" original-title="">Search:</a>
  </label>
  <input accesskey="f" class="small" id="q" name="q" size="20" type="text">
  <input type="hidden" name="check_keywords" value="yes">
  <input type="hidden" name="area" value="default">
</form></li>
   

      </ul>
    </div>  

    <div class="document">
      <div class="documentwrapper">
        <div class="bodywrapper">
          <div class="body" role="main">
            
  <div class="section" id="the-generic-mapping-tools">
<h1>1. The Generic Mapping Tools<a class="headerlink" href="#the-generic-mapping-tools" title="Permalink to this headline">¶</a></h1>
<p><strong>Technical Reference and Cookbook</strong></p>
<p><strong>Pål (Paul) Wessel</strong></p>
<p><strong>SOEST, University of Hawai’i at Manoa</strong></p>
<p><strong>Walter H. F. Smith</strong></p>
<p><strong>Laboratory for Satellite Altimetry, NOAA/NESDIS/STAR</strong></p>
<p><strong>Remko Scharroo</strong></p>
<p><strong>EUMETSAT, Darmstadt, Germany</strong></p>
<p><strong>Joaquim F. Luis</strong></p>
<p><strong>Universidade do Algarve, Faro, Portugal</strong></p>
<p><strong>Florian Wobbe</strong></p>
<p><strong>Alfred Wegener Institute, Germany</strong></p>
<div class="figure align-center" id="id103">
<a class="reference internal image-reference" href="_images/GMT5_Summit_2016.jpg"><img alt="_images/GMT5_Summit_2016.jpg" src="_images/GMT5_Summit_2016.jpg" style="width: 1200px;" /></a>
<p class="caption"><span class="caption-text">The five horsemen of the GMT apocalypse:
Joaquim Luis, Walter H.F. Smith, Remko Scharroo, Florian Wobbe, and Paul Wessel
at the GMT Developer Summit in La Jolla, Cailifornia, during August 15--19, 2016.</span></p>
</div>
<div class="section" id="acknowledgments">
<h2>1.1. Acknowledgments<a class="headerlink" href="#acknowledgments" title="Permalink to this headline">¶</a></h2>
<p>The Generic Mapping Tools (GMT) could not have been designed without
the generous support of several people. The Founders (Wessel and Smith)
gratefully acknowledge A. B.
Watts and the late W. F. Haxby for supporting their efforts on the
original version 1.0 while they were their graduate students at
Lamont-Doherty Earth Observatory. Doug Shearer and Roger Davis patiently
answered many questions over e-mail. The subroutine <code class="docutils literal notranslate"><span class="pre">gauss</span></code> was
written and supplied by Bill Menke. Further development of versions
2.0--2.1 at SOEST would not have been possible without the support from
the HIGP/SOEST Post-Doctoral Fellowship program to Paul Wessel. Walter
H. F. Smith gratefully acknowledges the generous support of the C. H.
and I. M. Green Foundation for Earth Sciences at the Institute of
Geophysics and Planetary Physics, Scripps Institution of Oceanography,
University of California at San Diego. GMT series 3.x, 4.x, and 5.x
owe their existence to grants EAR-93-02272, OCE-95-29431, OCE-00-82552,
OCE-04-52126, and OCE-1029874 from the National Science Foundation,
which we gratefully acknowledge.</p>
<p>We would also like to acknowledge feedback, suggestions and bug reports
from Michael Barck, Manfred Brands, Allen Cogbill, Stephan Eickschen,
Ben Horner-Johnson, John Kuhn, Angel Li, Andrew Macrae, Alex Madon, Ken
McLean, Greg Neumann, Ameet Raval, Georg Schwarz, Richard Signell, Peter
Schmidt, Dirk Stoecker, Eduardo Suárez, Mikhail Tchernychev, Malte
Thoma, David Townsend, Garry Vaughan, William Weibel, and many others,
including their advice on how to make GMT portable to a wide range of
platforms. John Lillibridge and Stephan Eickschen provided the original
Examples <a class="reference internal" href="gallery/ex11.html#example-11"><span class="std std-ref">(11)</span></a> and <a class="reference internal" href="gallery/ex32.html#example-32"><span class="std std-ref">(32)</span></a>,
respectively; Hanno von Lom helped resolve early
problems with DLL libraries for Win32; Lloyd Parkes enabled indexed
color images in <em>PostScript</em>; Kurt Schwehr maintains the packages; Wayne
Wilson implemented the full general perspective projection; and William
Yip helped translate GMT to POSIX ANSI C and incorporate netCDF 3. The
SOEST RCF staff (Ross Ishida, Pat Townsend, and Sharon Stahl) provided
valuable help on Linux and web server support.</p>
<p>Honolulu, HI; College Park, MD; Faro, Portugal; Darmstadt and
Bremerhaven, Germany; September 2016</p>
</div>
</div>
<div class="section" id="a-reminder">
<h1>2. A Reminder<a class="headerlink" href="#a-reminder" title="Permalink to this headline">¶</a></h1>
<p>If you feel it is appropriate, you may consider paying us back by citing
our EOS articles on GMT and technical papers on algorithms when you
publish papers containing results or illustrations obtained using GMT.
The EOS articles on GMT are</p>
<ul class="simple">
<li>Wessel, P., W. H. F. Smith, R. Scharroo, J. Luis, and F. Wobbe,
Generic Mapping Tools: Improved Version Released, <em>EOS Trans. AGU</em>, 94(45),
p. 409-410, 2013. <a class="reference external" href="http://dx.doi.org/10.1002/2013EO450001">doi:10.1002/2013EO450001</a>.</li>
<li>Wessel, P., and W. H. F. Smith, New, improved version of Generic
Mapping Tools released, <em>EOS Trans. AGU</em>, 79(47),
p. 579, 1998. <a class="reference external" href="http://dx.doi.org/10.1029/98EO00426">doi:10.1029/98EO00426</a>.</li>
<li>Wessel, P., and W. H. F. Smith, New version of the Generic Mapping
Tools released, <em>EOS Trans. AGU</em>, 76(33), 329, 1995. <a class="reference external" href="http://dx.doi.org/10.1029/95EO00198">doi:10.1029/95EO00198</a>.</li>
<li>Wessel, P., and W. H. F. Smith, Free software helps map and display
data, <em>EOS Trans. AGU</em>, 72(41), 445--446, 1991. <a class="reference external" href="http://dx.doi.org/10.1029/90EO00319">doi:10.1029/90EO00319</a>.</li>
</ul>
<p>Some GMT modules are based on algorithms we have developed and
published separately, such as</p>
<ul class="simple">
<li>Kim, S.-S., and P. Wessel, Directional median filtering for
regional-residual separation of bathymetry, <em>Geochem. Geophys.
Geosyst.</em>, 9, Q03005, 2008. <a class="reference external" href="http://dx.doi.org/10.1029/2007GC001850">doi:10.1029/2007GC001850</a>.
[<a class="reference internal" href="supplements/misc/dimfilter.html"><span class="doc">dimfilter</span></a>, <strong>misc</strong> supplement]</li>
<li>Luis, J. F. and J. M. Miranda, Reevaluation of magnetic chrons in the
North Atlantic between 35ºN and 47ºN: Implications for the formation of the
Azores Triple Junction and associated plateau,
<em>J. Geophys. Res.</em>, 113, B10105, 2008. <a class="reference external" href="http://dx.doi.org/10.1029/2007JB005573">doi:10.1029/2007JB005573</a>.
[<a class="reference internal" href="supplements/potential/grdredpol.html"><span class="doc">grdredpol</span></a>, <strong>potential</strong> supplement]</li>
<li>Smith, W. H. F., and P. Wessel, Gridding with continuous curvature
splines in tension, <em>Geophysics</em>, 55(3), 293--305, 1990. <a class="reference external" href="http://dx.doi.org/10.1190/1.1442837">doi:10.1190/1.1442837</a>.
[<a class="reference internal" href="surface.html"><span class="doc">surface</span></a>]</li>
<li>Wessel, P., Tools for analyzing intersecting tracks: The x2sys
package, <em>Computers &amp; Geosciences</em>, 36, 348--354, 2010. <a class="reference external" href="http://dx.doi.org/10.1016/j.cageo.2009.05.009">doi:10.1016/j.cageo.2009.05.009</a>.
[<a class="reference internal" href="supplements/x2sys/x2sys_init.html"><span class="doc">x2sys</span></a> supplement]</li>
<li>Wessel, P., A General-purpose Green’s function-based interpolator,
<em>Computers &amp; Geosciences</em>, 35, 1247--1254, 2009. <a class="reference external" href="http://dx.doi.org/10.1016/j.cageo.2008.08.012">doi:10.1016/j.cageo.2008.08.012</a>.
[<a class="reference internal" href="greenspline.html"><span class="doc">greenspline</span></a>]</li>
<li>Wessel, P. and J. M. Becker, Interpolation using a generalized
Green’s function for a spherical surface spline in tension, <em>Geophys.
J. Int.</em>, 174, 21--28, 2008. <a class="reference external" href="http://dx.doi.org/10.1111/j.1365-246X.2008.03829.x">doi:10.1111/j.1365-246X.2008.03829.x</a>.
[<a class="reference internal" href="greenspline.html"><span class="doc">greenspline</span></a>]</li>
</ul>
<p>Finally, GMT includes some code supplied by others, in particular the
Triangle code used for Delaunay triangulation. Its author, <a class="reference external" href="http://www.cs.berkeley.edu/~jrs/">Jonathan
Shewchuk</a>, says</p>
<blockquote>
<div>“If you use Triangle, and especially if you use it to accomplish
real work, I would like very much to hear from you. A short letter
or email describing how you use Triangle will
mean a lot to me. The more people I know are using this program, the
more easily I can justify spending time on improvements and on the
three-dimensional successor to Triangle, which in turn will benefit
you.”</div></blockquote>
<p>A few GMT users take the time to write us letters, telling us of the
difference GMT is making in their work. We appreciate receiving these
letters. On days when we wonder why we ever released GMT we pull these
letters out and read them. Seriously, as financial support for
GMT depends on how well we can “sell” the idea to funding agencies and
our superiors, letter-writing is one area where GMT users can affect
such decisions by supporting the GMT project.</p>
</div>
<div class="section" id="copyright-and-caveat-emptor">
<h1>3. Copyright and Caveat Emptor!<a class="headerlink" href="#copyright-and-caveat-emptor" title="Permalink to this headline">¶</a></h1>
<p>Copyright ©1991--2019 by P. Wessel, W. H. F. Smith, R. Scharroo, J.
Luis and F. Wobbe</p>
<p>The Generic Mapping Tools (GMT) is free software; you can
redistribute it and/or modify it under the terms of the GNU Lesser
General Public License as published by the Free Software Foundation.</p>
<p>The GMT package is distributed in the hope that it will be useful,
but WITHOUT ANY WARRANTY; without even the implied warranty of
MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE. See the file
<code class="docutils literal notranslate"><span class="pre">LICENSE.TXT</span></code> in the GMT directory or the for more details.</p>
<p>Permission is granted to make and distribute verbatim copies of this
manual provided that the copyright notice and these paragraphs are
preserved on all copies. The GMT package may be included in a bundled
distribution of software for which a reasonable fee may be charged.</p>
<p>GMT does not come with any warranties, nor
is it guaranteed to work on your computer. The user assumes full
responsibility for the use of this system. In particular, the University
of Hawaii School of Ocean and Earth Science and Technology, the National
Oceanic and Atmospheric Administration, EUMETSAT, the
Universidade do Algarve, Alfred Wegener Institute, the National Science
Foundation, Paul Wessel, Walter H. F. Smith, Remko Scharroo, Joaquim F.
Luis, Florian Wobbe or any other individuals involved in the design and
maintenance of GMT are NOT responsible for any damage that may follow
from correct or incorrect use of these programs.</p>
</div>
<div class="section" id="preface">
<h1>4. Preface<a class="headerlink" href="#preface" title="Permalink to this headline">¶</a></h1>
<p>While GMT has served the map-making and data processing needs of
scientists since 1988 <a class="footnote-reference" href="#id61" id="id1">[1]</a>, the current global use was heralded by the
first official release in <em>EOS Trans. AGU</em> in the fall of 1991. Since
then, GMT has grown to become a standard tool for many users,
particularly in the Earth and Ocean Sciences but the global collective
of GMT users is incredibly diverse. Development has at times been
rapid, and numerous releases have seen the light of day since the early
versions. For a detailed history of the changes from release to release,
see file <code class="docutils literal notranslate"><span class="pre">ChangeLog</span></code> in the main GMT directory. For a nightly snapshot of ongoing
activity, see the online page. For a historical perspective of the
origins and development of GMT see the video podcast “20 Years with
GMT -- The Generic Mapping Tools” produced following a seminar given by
Paul Wessel on the 20th anniversary of GMT; a link is available on the
GMT website.</p>
<p>The success of GMT is to a large degree due to the input of the user
community. In fact, most of the capabilities and options in the
GMT modules originated as user requests. We would like to hear from
you should you have any suggestions for future enhancements and
modification. Please send your comments to the GMT help list or create
an issue in the bug tracker
(see <a class="reference external" href="http://gmt.soest.hawaii.edu/projects/gmt/issues/">http://gmt.soest.hawaii.edu/projects/gmt/issues/</a>).</p>
</div>
<div class="section" id="new-features-in-gmt-5-4">
<h1>5. New Features in GMT 5.4<a class="headerlink" href="#new-features-in-gmt-5-4" title="Permalink to this headline">¶</a></h1>
<p>Between 5.3 and 5.4 we continued to work on the underlying API
needed to support the modules and especially the external interfaces
we are building toward MATLAB, Julia and Python.  We have introduced the use of
static analyzers to fix any code irregularities and we continue to submit
our builds to Coverity for similar reasons.  We have also made an effort
to standardize GMT non-common option usage across the suite.
Nevertheless, there have been many user-level enhancements as well.
Here is a summary of these changes in three key areas:</p>
<div class="section" id="new-modules">
<h2>5.1. New modules<a class="headerlink" href="#new-modules" title="Permalink to this headline">¶</a></h2>
<p>We have added a new module to the GMT core called
<a class="reference internal" href="psternary.html"><span class="doc">psternary</span></a>.
This module allows for the construction of ternary diagram, currently
restricted to symbols (i.e., a psxy-like experience but for ternary data).
The <em>mgd77</em> supplement has gained a new tool <a class="reference internal" href="supplements/mgd77/mgd77header.html"><span class="doc">mgd77header</span></a>
for creating a valid MGD77-format header from basic metadata and information
determined from the header-less data file.</p>
</div>
<div class="section" id="general-improvements">
<h2>5.2. General improvements<a class="headerlink" href="#general-improvements" title="Permalink to this headline">¶</a></h2>
<p>A range of new capabilities have been added to all of GMT; here is a
summary of these changes:</p>
<ul class="simple">
<li>We have added a new lower-case GMT common option.  Programs that read
ASCII data can use <strong>-e</strong> to only select data records that match a
specified pattern or regular expression.</li>
<li>All modules can now read data via external URL addresses.  This works
by using libcurl to access an external file and save it to the users’
GMT cache directory.  This directory can be specified via a new GMT
defaults called <a class="reference internal" href="gmt.conf.html#dir-cache"><span class="std std-ref">DIR_CACHE</span></a> (and defaults to
the sub-directory cache under the <strong>$GMT_USERDIR</strong> directory [~/.gmt]).
Subsequent use of the same URL will be read from the cache (except
if explicitly removed by the user).  An exception is CGI Get Commands
which will be executed anew each time. Both the user directory and
the cache directory will be created if they do not exist.</li>
<li>Any reference to Earth topographic/bathymetric relief files called
<strong>earth_relief_</strong><em>res</em><strong>.grd</strong> will automatically obtain the grid
from the GMT data server.  The resolution <em>res</em> allows a choice among
13 command grid spacings: 60m, 30m, 20m, 15m, 10m, 6m, 5m, 4m, 3m, 2m,
1m, 30s, and 15s (with file sizes 111 kb, 376 kb, 782 kb, 1.3 Mb, 2.8 Mb,
7.5 Mb, 11 Mb, 16 Mb, 27 Mb, 58 Mb, 214 Mb, 778 Mb, and 2.6 Gb respectively).
Once one of these have been downloaded any future reference will simply
obtain the file from <strong>$GMT_USERDIR</strong> (except if explicitly
removed by the user).</li>
<li>We are laying the groundwork for more dynamic documentation.  At present,
the examples on the man pages (with the exception of psbasemap and pscoast)
cannot be run by cut and paste since they reference imaginary data sets.
These will soon appear with filenames starting in &#64; (e.g., &#64;hotspots.txt),
and when such files are found on the command line it is interpreted to be
a shorthand notation for the full URL to the GMT cache data server.</li>
<li>We have added four new color tables inspired by matplotlib to the collection.
These CPTs are called plasma, magma, inferno, and viridis.</li>
<li>We have updated the online documentation of user-contributed custom symbols and
restored the beautiful biological symbols for whales and dolphins created by
Pablo Valdés during the GMT4 era.  These are now complemented by new custom
symbols for structural geology designed by José A. Álvarez-Gómez.</li>
<li>The <a class="reference internal" href="postscriptlight.html"><span class="doc">PSL</span></a> library no longer needs run-time files to configure the
list of standard fonts and character encodings, reducing the number of configure
files required.</li>
<li>The <a class="reference internal" href="gmt.conf.html"><span class="doc">gmt.conf</span></a> files produced by gmt set will only write parameters that differ
from the GMT SI Standard settings.  This means most gmt.conf files will just
be a few lines.</li>
<li>We have deprecated the <strong>-c</strong><em>copies</em> option whose purpose was to modify the
number of copies a printer would issue give a <em>PostScript</em> file.  This is better
controlled by your printer driver and most users now work with PDF files.</li>
<li>The <strong>-p</strong> option can now do a simple rotation about the z-axis (i.e., not a
perspective view) for more advanced plotting.</li>
<li>The placement of color scales around a map can now be near-automatic, as
the <strong>-DJ</strong> setting now has many default values (such as for bar length,
width, offsets and orientation) based on which side you specified.  If you
use this option in concert with <strong>-B</strong> to turn off frame annotation on the
side you place the scale bar then justification works exactly.</li>
<li>The <strong>-i</strong> option to select input columns can now handle repeat entries,
e.g., -i0,2,2,4, which is useful when a column is needed as a coordinate
<em>and</em> for symbol color or size.</li>
<li>The vector specifications now take one more modifier: <strong>+h</strong><em>shape</em>
allows vectors to quickly set the head shape normally specified via
<a class="reference internal" href="gmt.conf.html#map-vector-shape"><span class="std std-ref">MAP_VECTOR_SHAPE</span></a>.  This is particularly useful
when the symbol types are given via the input file.</li>
<li>The custom symbol macro language has been strengthened and now allows all
angular quantities to be variables (i.e., provided from your data file as
extra columns), the pen thickness can be specified as relative (and thus
scale with the symbol size at run-time), and a symbol can internally switch
colors between the pen and fill colors given on the command line.</li>
<li>We have reintroduced the old GMT4 polygon-vector for those who fell so hard
in love with that symbol.  By giving old-style vector specifications you
will now get the old-style symbol.  The new and superior vector symbols
will require the use of the new (and standard) syntax.</li>
</ul>
</div>
<div class="section" id="module-enhancements">
<h2>5.3. Module enhancements<a class="headerlink" href="#module-enhancements" title="Permalink to this headline">¶</a></h2>
<p>Several modules have obtained new options to extend their capabilities:</p>
<ul class="simple">
<li><a class="reference internal" href="gmt.html"><span class="doc">gmt</span></a> has new session management option that lets you clear various
files and cache directories via the new commands
<strong>gmt clear</strong> <em>all</em>|<em>history</em>|<em>conf</em>|<em>cache</em>.</li>
<li><a class="reference internal" href="gmt2kml.html"><span class="doc">gmt2kml</span></a> adds option <strong>-Fw</strong> for drawing wiggles along track.</li>
<li><a class="reference internal" href="gmtinfo.html"><span class="doc">gmtinfo</span></a> adds option <strong>-F</strong> for reporting the number of tables,
segments, records, headers, etc.</li>
<li><a class="reference internal" href="gmtmath.html"><span class="doc">gmtmath</span></a> will convert all plot dimensions given on the command line
to the prevailing length unit set via <a class="reference internal" href="gmt.conf.html#proj-length-unit"><span class="std std-ref">PROJ_LENGTH_UNIT</span></a>.
This allows you to combine measurements like 12c, 4i, and 72p. The module
also has a new <strong>SORT</strong> operator for sorting columns and <strong>RMSW</strong> for weighted
root-mean-square.</li>
<li><a class="reference internal" href="gmtwhich.html"><span class="doc">gmtwhich</span></a> <strong>-G</strong> will download a file from the internet (as discussed
above) before reporting the path to the file (which will then be in the
user’s cache directory).</li>
<li><a class="reference internal" href="grd2xyz.html"><span class="doc">grd2xyz</span></a> can now write weights equal to the area each node represents
via the <strong>-Wa</strong> option.</li>
<li><a class="reference internal" href="grdgradient.html"><span class="doc">grdgradient</span></a> can now take a grid of azimuths via the <strong>-A</strong> option.</li>
<li><a class="reference internal" href="grdimage.html"><span class="doc">grdimage</span></a> and <a class="reference internal" href="grdview.html"><span class="doc">grdview</span></a> can now auto-compute the intensities
directly from the required input grid via <strong>-I</strong>, and this option now
supports modifiers <strong>+a</strong> and <strong>+n</strong> for changing the options of the
grdgradient call within the module.</li>
<li><a class="reference internal" href="grdinfo.html"><span class="doc">grdinfo</span></a> adds option <strong>-D</strong> to determine the regions of all the
smaller-size grid tiles required to cover the larger area.  It also take
a new argument <strong>-Ii</strong> for reporting the exact region of an img grid.
Finally, we now report area-weighted statistics for geographic grids,
added <strong>-Lp</strong> for mode (maximum-likelihood) estimate of location and scale,
and <strong>-La</strong> for requesting all of the statistical estimates.</li>
<li><a class="reference internal" href="grdmath.html"><span class="doc">grdmath</span></a> has new operators <strong>TRIM</strong>, which will set all grid values
that fall in the specified tails of the data distribution to NaN, <strong>NODE</strong>,
which will create a grid with node indices 0 to (nx*ny)-1, and <strong>RMSW</strong>,
which will compute the weighted root-mean-square.</li>
<li><a class="reference internal" href="makecpt.html"><span class="doc">makecpt</span></a> and <a class="reference internal" href="grd2cpt.html"><span class="doc">grd2cpt</span></a> add option <strong>-Ws</strong> for producing
wrapped (cyclic) CPT tables that repeat endlessly.  New CPT keyword
<strong>CYCLIC</strong> controls if the CPT is cyclic.</li>
<li><a class="reference internal" href="mapproject.html"><span class="doc">mapproject</span></a> adds a new <strong>-Z</strong> option for temporal calculations based
on distances and speeds, and has been redesigned to allow several outputs
by combining the options <strong>-A</strong>, <strong>-G</strong>, <strong>-L</strong>, and <strong>-Z</strong>.</li>
<li><a class="reference internal" href="psbasemap.html"><span class="doc">psbasemap</span></a> has a new map-insert (<strong>-D</strong>) modifier <strong>+t</strong> that will
translate the plot origin after determining the lower-left corner of the
map insert.</li>
<li><a class="reference internal" href="pshistogram.html"><span class="doc">pshistogram</span></a> has a new <strong>-Z</strong> modifier <strong>+w</strong> that will
accumulate weights provided in the 2nd input column instead of pure counts.</li>
<li><a class="reference internal" href="psrose.html"><span class="doc">psrose</span></a> adds option <strong>-Q</strong> for setting the  confidence level used
for a Rayleigh test for uniformity of direction.  The <strong>-C</strong> option also
takes a new modifier <strong>+w</strong><em>modfile</em> for storing mode direction to file.</li>
<li><a class="reference internal" href="gmt_shell_functions.sh.html"><span class="doc">gmt_shell_functions.sh</span></a> adds numerous new functions to simplify the
building of animation scripts, animated GIF and MP4 videos, launching
groups of jobs across many cores, packaging KMLs into a single KMZ archive,
and more.</li>
</ul>
</div>
<div class="section" id="api-changes">
<h2>5.4. API changes<a class="headerlink" href="#api-changes" title="Permalink to this headline">¶</a></h2>
<p>We have introduced one change that breaks backwards compatibility for users of
the API functions.  We don’t do this lightly but given the API is still considered
beta it was the best solution.  Function GMT_Create_Data now requires the mode to
be <strong>GMT_IS_OUTPUT</strong> (an new constant) if a dummy (empty) container should be
created to hold the output of a module.  We also added two new API functions
GMT_Duplicate_Options and GMT_Free_Option to manage option lists, and added
the new constants <strong>GMT_GRID_IS_CARTESIAN</strong> and <strong>GMT_GRID_IS_GEO</strong> so that
external tools can communicate the nature of grid written in situations where there
are no projections involved (hence GMT does not know a grid is geographic).
Passing this constant will be required in MB-System.</p>
</div>
<div class="section" id="backwards-compatible-syntax-changes">
<h2>5.5. Backwards-compatible syntax changes<a class="headerlink" href="#backwards-compatible-syntax-changes" title="Permalink to this headline">¶</a></h2>
<p>We strive to keep the GMT user interface consistent.  The common options help
with that, but the module-specific options have often used very different
forms to achieve similar goals.  We have revised the syntax of numerous options
across the modules to use the common <em>modifier</em> method.  However, as no GMT
users would be happy that their
scripts no longer run, these changes are backwards compatible.  Only the new
syntax will be documented but old syntax will be accepted.  Some options are
used across GMT and will get a special mention first:</p>
<ul class="simple">
<li>Many modules use <strong>-G</strong> to specify the fill (solid color or pattern).
The pattern specification has now changed to be
<strong>-Gp</strong>|<strong>P</strong><em>pattern</em>[<strong>+b</strong><em>color</em>][<strong>+f</strong><em>color</em>][<strong>+r</strong><em>dpi</em>]</li>
<li>When specifying grids one can always add information such as grid type, scaling,
offset, etc.  This is now done using a cleaner syntax for grids:
gridfile[=<em>ID</em>[<strong>+s</strong><em>scale</em>][<strong>+o</strong><em>offset</em>][<strong>+n</strong><em>invalid</em>]].</li>
</ul>
<p>Here is a list of modules with revised options:</p>
<ul class="simple">
<li><a class="reference internal" href="grdcontour.html"><span class="doc">grdcontour</span></a> now expects <strong>-Z</strong>[<strong>+</strong><em>scale</em>][<strong>+o</strong><em>offset</em>][<strong>+p</strong>].</li>
<li>In <a class="reference internal" href="grdedit.html"><span class="doc">grdedit</span></a> and <a class="reference internal" href="xyz2grd.html"><span class="doc">xyz2grd</span></a>, the mechanism to change a grid’s
metadata is now done via modifiers to the <strong>-D</strong> option, such as
<strong>+x</strong><em>xname</em>, <strong>+t</strong><em>title</em>, etc.</li>
<li><a class="reference internal" href="grdfft.html"><span class="doc">grdfft</span></a> has changed to <strong>-E</strong>[<strong>+w</strong>[<strong>k</strong>]][<strong>+n</strong>].</li>
<li><a class="reference internal" href="grdgradient.html"><span class="doc">grdgradient</span></a> modifies the syntax of <strong>-E</strong> and <strong>-N</strong> by introducing modifiers,
i.e., <strong>-E</strong>[<strong>m</strong>|<strong>s</strong>|<strong>p</strong>]<em>azim/elev</em>[<strong>+a</strong><em>ambient</em>][<strong>+d</strong><em>diffuse</em>][<strong>+p</strong><em>specular</em>][<strong>+s</strong><em>shine</em>] and
<strong>-N</strong>[<strong>e</strong>|<strong>t</strong>][<em>amp</em>][<strong>+s</strong><em>sigma</em>][<strong>+o</strong><em>offset</em>].</li>
<li><a class="reference internal" href="grdtrend.html"><span class="doc">grdtrend</span></a> follows <a class="reference internal" href="trend1d.html"><span class="doc">trend1d</span></a> and now wants <strong>-N</strong><em>model</em>[<strong>+r</strong>].</li>
<li><a class="reference internal" href="mapproject.html"><span class="doc">mapproject</span></a> introduces new and consistent syntax for <strong>-G</strong> and <strong>-L</strong> as
<strong>-G</strong>[<em>lon0</em>/<em>lat0</em>][<strong>+a</strong>][<strong>+i</strong>][<strong>+u</strong>[<strong>+</strong>|<strong>-</strong>]<em>unit</em>][<strong>+v</strong>] and
<strong>-L</strong><em>line.xy</em>[<strong>+u</strong>[<strong>+</strong>|<strong>-</strong>]<em>unit</em>][<strong>+p</strong>].</li>
<li><a class="reference internal" href="project.html"><span class="doc">project</span></a> expects <strong>-G</strong><em>inc</em>[/<em>lat</em>][<strong>+h</strong>].</li>
<li><a class="reference internal" href="psrose.html"><span class="doc">psrose</span></a> now wants <strong>-L</strong>[<em>wlabel</em>,<em>elabel</em>,<em>slabel</em>,<em>nlabel</em>] to
match the other labeling options.</li>
<li><a class="reference internal" href="pstext.html"><span class="doc">pstext</span></a> now expects <strong>-D</strong>[<strong>j</strong>|<strong>J</strong>]<em>dx</em>[/<em>dy</em>][<strong>+v</strong>[<em>pen</em>]].</li>
<li><a class="reference internal" href="psxy.html"><span class="doc">psxy</span></a> expects <strong>-E</strong>[<strong>x</strong>|<strong>y</strong>|<strong>X</strong>|<strong>Y</strong>][<strong>+a</strong>][<strong>+cl</strong>|<strong>f</strong>][<strong>+n</strong>][<strong>+w</strong><em>cap</em>][<strong>+p</strong><em>pen</em>].</li>
<li><a class="reference internal" href="trend2d.html"><span class="doc">trend2d</span></a> follows <a class="reference internal" href="trend1d.html"><span class="doc">trend1d</span></a> and now wants <strong>-N</strong><em>model</em>[<strong>+r</strong>].</li>
</ul>
</div>
</div>
<div class="section" id="new-features-in-gmt-5-3">
<h1>6. New Features in GMT 5.3<a class="headerlink" href="#new-features-in-gmt-5-3" title="Permalink to this headline">¶</a></h1>
<p>Between 5.2 and 5.3 we spent much time working on the underlying API
needed to support the modules and especially the external interfaces
we are building toward MATLAB and Python.  Nevertheless, there have
been many user-level enhancements as well.
Here is a summary of these changes in three key areas:</p>
<div class="section" id="id2">
<h2>6.1. New modules<a class="headerlink" href="#id2" title="Permalink to this headline">¶</a></h2>
<p>We have added a new module to the GMT core called
<a class="reference internal" href="pssolar.html"><span class="doc">pssolar</span></a>.
This module plots various day-light terminators and other sunlight parameters.</p>
<p>Two new modules have been added to the <em>spotter</em> supplement:
The first is <a class="reference internal" href="supplements/spotter/gmtpmodeler.html"><span class="doc">gmtpmodeler</span></a>.
Like <a class="reference internal" href="supplements/spotter/grdpmodeler.html"><span class="doc">grdpmodeler</span></a> it evaluates plate
tectonic model predictions but at given point locations locations instead of
on a grid.  The second is <a class="reference internal" href="supplements/spotter/rotsmoother.html"><span class="doc">rotsmoother</span></a>
which smooths estimated rotations using quaternions.</p>
<p>Also, the <em>meca</em> supplement has gained a new tool <a class="reference internal" href="supplements/meca/pssac.html"><span class="doc">pssac</span></a>
for the plotting of seismograms in SAC format.</p>
<p>Finally, we have added <a class="reference internal" href="supplements/potential/gpsgridder.html"><span class="doc">gpsgridder</span></a>
to the <em>potential</em> supplement.  This tool is a Green’s function gridding module
that grids vector data assumed to be coupled via an elastic model.  The prime
usage is for gridding GPS velocity components.</p>
</div>
<div class="section" id="id3">
<h2>6.2. General improvements<a class="headerlink" href="#id3" title="Permalink to this headline">¶</a></h2>
<p>There are many changes to GMT, mostly under the hood, but also changes that
affect users directly.  We have added four new examples and one new animation
to highlight recently added capabilities.  There have been many bug fixes
as well. For specific enhancements, we have:</p>
<ul class="simple">
<li>All GMT-distributed color palette tables (CPTs, now a total of 44) are
<em>dynamic</em> and many have a <em>hinge</em> and a default <em>range</em>.  What this means
is that the range of all CPTs have been normalized to 0-1, expect that
those with a hinge are normalized to -1/+1, with 0 being the normalized
hinge location.  CPTs with a hinge are interpolated separately on either
side of the hinge, since a hinge typically signifies a dramatic color
change (e.g., at sea-level) and we do not want that color change to be
shifted to some other <em>z</em>-value when an asymmetrical range is being
requested.  In situations where no range is specified then some CPTs
will have a default range and that will be substituted instead.  The
tools <a class="reference internal" href="makecpt.html"><span class="doc">makecpt</span></a> and <a class="reference internal" href="grd2cpt.html"><span class="doc">grd2cpt</span></a> now displays more meta-data
about the various CPTs, including values for hinge, range, and the
color-model used.</li>
<li>We have consolidated how map embellishments are specified.  This group
includes map scales, color bars, legends, map roses, map inserts,
image overlays, the GMT logo, and a background panel.  A new section in the Cookbook is
dedicated to these items and how they are specified.  Common to all is
the concept of a <em>reference point</em> relative to which the item is
<em>justified</em> and <em>offset</em>.</li>
<li>We continue to extend support for OpenMP in GMT.  New modules that are
OpenMP-enabled are <a class="reference internal" href="grdgradient.html"><span class="doc">grdgradient</span></a>, <a class="reference internal" href="grdlandmask.html"><span class="doc">grdlandmask</span></a>, and <a class="reference internal" href="sph2grd.html"><span class="doc">sph2grd</span></a>.</li>
<li><a class="reference internal" href="blockmean.html"><span class="doc">blockmean</span></a>, <a class="reference internal" href="blockmedian.html"><span class="doc">blockmedian</span></a> and <a class="reference internal" href="blockmode.html"><span class="doc">blockmode</span></a> have a new
modifier <strong>+s</strong> to the <strong>-W</strong> option.  When used we expect 1-sigma
uncertainties instead of weights and compute weight = 1/sigma.</li>
<li><a class="reference internal" href="filter1d.html"><span class="doc">filter1d</span></a>: can now compute high-pass filtered output via a new
<strong>+h</strong> modifier to the filter settings, similar to existing capability
in <a class="reference internal" href="grdfilter.html"><span class="doc">grdfilter</span></a>.</li>
<li><a class="reference internal" href="gmtconvert.html"><span class="doc">gmtconvert</span></a> has a new option (<strong>-F</strong>) for line segmentation and
network configuration. Also, the <strong>-D</strong> option has a new modifier <strong>+o</strong>
that sets the origin used for the numbering of tables and segments.</li>
<li><a class="reference internal" href="gmtinfo.html"><span class="doc">gmtinfo</span></a> has a new option <strong>-L</strong> for finding the common bounds
across multiple files or segments.  Also, the <strong>-T</strong> option has been
modified (while still being backwards compatible) to allow <em>dz</em> to be
optional, with modifiers <strong>+s</strong> forcing a symmetric range and <strong>+a</strong>
offering <em>alpha</em>-trimming of the tails before estimating the range.</li>
<li><a class="reference internal" href="gmtmath.html"><span class="doc">gmtmath</span></a> has gained new operators <strong>VAR</strong>,
<strong>RMS</strong>, <strong>DENAN</strong>, as well as the weighted statistical operators
<strong>LMSSCLW</strong>, <strong>MADW</strong>, <strong>MEANW</strong>, <strong>MEDIANW</strong>, <strong>MODEW</strong>, <strong>PQUANTW</strong>,
<strong>STDW</strong>, and <strong>VARW</strong>.  Finally, we added a <strong>SORT</strong> operator that lets
you sort an entire table in ascending or descending order based on the
values in a selected column.</li>
<li><a class="reference internal" href="gmtselect.html"><span class="doc">gmtselect</span></a> has a new option <strong>-G</strong> for selecting based on a mask grid.
Points falling in bins whose grid nodes are non-zero are selected (or not if <strong>-Ig</strong>)</li>
<li><a class="reference internal" href="gmtspatial.html"><span class="doc">gmtspatial</span></a> has two new modifiers for the <strong>-Q</strong> option that allow
output segments to be limited based on the segment length (or area for
polygons) as well as sorting the output in ascending or descending order.</li>
<li><a class="reference internal" href="grd2cpt.html"><span class="doc">grd2cpt</span></a> existing <strong>-F</strong> option now takes a new modifier <strong>+c</strong>
for writing a discrete palette using the categorical format.</li>
<li><a class="reference internal" href="grdedit.html"><span class="doc">grdedit</span></a> can now reset text items in the header via <strong>-D</strong> by
specifying ‘-‘.  Also, new <strong>-C</strong> option can be used to reset the
command history in the header.</li>
<li><a class="reference internal" href="grdfft.html"><span class="doc">grdfft</span></a> has a new modifier to the <strong>-E</strong> option that allows for more
control of the power normalization for radial spectra.</li>
<li><a class="reference internal" href="grdmath.html"><span class="doc">grdmath</span></a> also has the new operators <strong>VAR</strong>,
<strong>RMS</strong>, <strong>DENAN</strong>, as well as the weighted statistical operators
<strong>LMSSCLW</strong>, <strong>MADW</strong>, <strong>MEANW</strong>, <strong>MEDIANW</strong>, <strong>MODEW</strong>, <strong>PQUANTW</strong>,
<strong>STDW</strong>, and <strong>VARW</strong>.  In addition it gains a new
<strong>AREA</strong> operator which computes the gridcell area (in km<sup>2</sup> if the
grid is geographic).  Finally, operators <strong>MEAN</strong>, <strong>MEDIAN</strong>, etc.,
when working on a geographic grid, will weight the result using the
<strong>AREA</strong> function for proper spherical statistics.</li>
<li><a class="reference internal" href="grdvolume.html"><span class="doc">grdvolume</span></a> can now accept <strong>-Cr</strong><em>cval</em> which will evaluate
the volume between <em>cval</em> and the grid’s minimum value.</li>
<li><a class="reference internal" href="greenspline.html"><span class="doc">greenspline</span></a> now offers a new <strong>-E</strong> option that evaluates the
model fit at the input data locations and optionally saves the model
misfits to a secondary output file.</li>
<li><a class="reference internal" href="makecpt.html"><span class="doc">makecpt</span></a> can also let you build either a discrete or continuous custom
color palette table from a comma-separated list of colors and
<em>z</em>-values provided via a file, an equidistant setup, or comma-separated list.
The <strong>-F</strong> option now takes a new modifier <strong>+c</strong> for writing a discrete
palette using the categorical format.</li>
<li><a class="reference internal" href="pstext.html"><span class="doc">pstext</span></a> has new modifiers to its <strong>-F</strong> option that allows users
to generate automatic labels such as record numbers of formatting of a
third data column into a textual representation.  We also allow any
baseline angles to be interpreted as <em>orientations</em>, i.e., they will be
modified to fall in the -90/+90 range when <strong>-F</strong>…<strong>+A</strong> is set.</li>
<li><a class="reference internal" href="psrose.html"><span class="doc">psrose</span></a> can now control the attributes of vectors in a windrose
diagram via <strong>-M</strong>.</li>
<li><a class="reference internal" href="psxy.html"><span class="doc">psxy</span></a> have seen numerous enhancements.  New features include
<em>decorated</em> lines, which are similar to quoted lines except we place
symbols rather than text along the line.  Users also gain new controls
over the plotting of lines, including the ability to add vector heads
to the line endings, to trim back lines by specified amounts, and to
request a Bezier spline interpolation in <em>PostScript</em> (see enhanced
<strong>-W</strong> option).  A new option (<strong>-F</strong>) for line segmentation and networks
have also been added. Various geographic symbols (such as ellipses; <strong>-SE</strong>,
rotatable rectangles <strong>-SJ</strong>; and geo-vectors <strong>-S=</strong>) can now take size in geographic
dimensions, including a new geo-wedge symbol.  We also offer one more
type of fault-slip symbol, using curved arrow heads.  Also the arrow
head selections now include inward-pointing arrows.  Custom symbols
may now simply be a preexisting EPS figure.  Many of these enhancements
are also available in <a class="reference internal" href="psxyz.html"><span class="doc">psxyz</span></a>.</li>
<li>The spotter supplement now comes with the latest rotation files from
EarthByte, U. of Sydney.</li>
</ul>
</div>
<div class="section" id="the-api">
<h2>6.3. The API<a class="headerlink" href="#the-api" title="Permalink to this headline">¶</a></h2>
<p>We have spend most of our time strengthening the API, in particular in support
of the GMT/MATLAB toolbox.  A few new API functions have been added since the
initial release, including GMT_Get_Pixel, GMT_Set_Index, GMT_Open_VirtualFile,
GMT_Close_VirtualFile, GMT_Read_VirtualFile, GMT_Read_Group, and GMT_Convert_Data;
see the API <a class="reference internal" href="GMT_API.html"><span class="doc">Introduction</span></a> for details.</p>
</div>
</div>
<div class="section" id="new-features-in-gmt-5-2">
<h1>7. New Features in GMT 5.2<a class="headerlink" href="#new-features-in-gmt-5-2" title="Permalink to this headline">¶</a></h1>
<p>While the GMT 5.1-series has seen bug-fixes since its release, new features were
only added to the 5.2-series.  All in all, almost 200 new features (a combination
of new programs, new options, and enhancements) have been implemented.
Here is a summary of these changes in six key areas:</p>
<div class="section" id="id4">
<h2>7.1. New modules<a class="headerlink" href="#id4" title="Permalink to this headline">¶</a></h2>
<p>There are two new modules in the core system:</p>
<p><a class="reference internal" href="gmtlogo.html"><span class="doc">gmtlogo</span></a> is modeled after the shell script with the same
name but is now a regular C module that can be used to add the
GMT logo to maps and posters.</p>
<p><a class="reference internal" href="gmtregress.html"><span class="doc">gmtregress</span></a> determines linear regressions for data sets using
a variety of misfit norms and regression modes.</p>
<p>Four new modules have also been added to the <em>potential</em> supplement:</p>
<dl class="docutils">
<dt><a class="reference internal" href="supplements/potential/gmtflexure.html"><span class="doc">gmtflexure</span></a>:</dt>
<dd>Compute the elastic flexural response to a 2-D (line) load.</dd>
<dt><a class="reference internal" href="supplements/potential/grdflexure.html"><span class="doc">grdflexure</span></a>:</dt>
<dd>Compute the flexural response to a 3-D (grid) load, using a variety
or rheological models (elastic, viscoelastic, firmoviscous).</dd>
<dt><a class="reference internal" href="supplements/potential/talwani2d.html"><span class="doc">talwani2d</span></a>:</dt>
<dd>Compute a profile of the free-air gravity, geoid or vertical gravity gradient anomaly
over a 2-D body given as cross-sectional polygons.</dd>
<dt><a class="reference internal" href="supplements/potential/talwani3d.html"><span class="doc">talwani3d</span></a>:</dt>
<dd>Compute a grid or profile of the free-air gravity, geoid or vertical gravity gradient anomaly
over a 3-D body given as horizontal polygonal slices.</dd>
</dl>
<p>In addition, two established modules have been given more suitable names
(however, the old names are still recognized):</p>
<dl class="docutils">
<dt><a class="reference internal" href="grdconvert.html"><span class="doc">grdconvert</span></a></dt>
<dd>Converts between different grid formats.
Previously known as grdreformat (this name is recognized
when GMT is running in compatibility mode).</dd>
<dt><a class="reference internal" href="psconvert.html"><span class="doc">psconvert</span></a></dt>
<dd>Converts from <em>PostScript</em> to PDF, SVG, or various raster image formats.
Previously known as ps2raster (this name is recognized
when GMT is running in compatibility mode).</dd>
</dl>
<p>Finally, we have renamed our <em>PostScript</em> Light (PSL) library from psl
to PostScriptLight to avoid package name conflicts.  This library will eventually
become decoupled from GMT and end up as a required prerequisite.</p>
</div>
<div class="section" id="new-common-options">
<h2>7.2. New common options<a class="headerlink" href="#new-common-options" title="Permalink to this headline">¶</a></h2>
<p>We have added two new lower-case GMT common options:</p>
<ul class="simple">
<li>Programs that need to specify which values should represent “no data”
can now use <strong>-d</strong>[<strong>i</strong>|<strong>o</strong>]<em>nodata</em>. For instance, this
option replaces the old <strong>-N</strong> in <a class="reference internal" href="grd2xyz.html"><span class="doc">grd2xyz</span></a> and <a class="reference internal" href="xyz2grd.html"><span class="doc">xyz2grd</span></a>
(but is backwards compatible).</li>
<li>Some modules are now using OpenMP to spread computations over all
available cores (only available if compiled with OpenMP support).
Those modules will offer the new option <strong>-x</strong>[[-]<em>n</em>] to reduce
how many cores to assign to the task.  The modules that currently
have this option are <a class="reference internal" href="greenspline.html"><span class="doc">greenspline</span></a>, <a class="reference internal" href="grdmask.html"><span class="doc">grdmask</span></a>, <a class="reference internal" href="grdmath.html"><span class="doc">grdmath</span></a>,
<a class="reference internal" href="grdfilter.html"><span class="doc">grdfilter</span></a>, <a class="reference internal" href="grdsample.html"><span class="doc">grdsample</span></a>, <a class="reference internal" href="sph2grd.html"><span class="doc">sph2grd</span></a>, the potential supplement’s
<a class="reference internal" href="supplements/potential/grdgravmag3d.html"><span class="doc">grdgravmag3d</span></a>,
<a class="reference internal" href="supplements/potential/talwani2d.html"><span class="doc">talwani2d</span></a> and
<a class="reference internal" href="supplements/potential/talwani3d.html"><span class="doc">talwani3d</span></a>, and the x2sys
supplement’s <a class="reference internal" href="supplements/x2sys/x2sys_solve.html"><span class="doc">x2sys_solve</span></a>.
This list will grow longer with time.</li>
</ul>
</div>
<div class="section" id="new-default-parameters">
<h2>7.3. New default parameters<a class="headerlink" href="#new-default-parameters" title="Permalink to this headline">¶</a></h2>
<p>There have been a few changes to the GMT Defaults parameters.  All changes
are backwards compatible:</p>
<ul class="simple">
<li><strong>FORMAT_FLOAT_MAP</strong> now allows the use %’g to get comma-separated groupings
when integer values are plotted.</li>
<li><strong>FORMAT_FLOAT_OUT</strong> can now accept a space-separated list of formats
as shorthand for first few columns.  On output it will show the formats
in effect for multiple columns.</li>
<li><strong>GMT_LANGUAGE</strong> has replaced the old parameter <strong>TIME_LANGUAGE</strong>.
Related to this, the files share/time/*.d have been moved and renamed to
share/localization/*.txt and now include a new section
or cardinal points letter codes.</li>
<li><strong>IO_SEGMENT_BINARY</strong> is a new parameter that controls how binary records
with just NaNs should or should not be interpreted as segment headers.</li>
<li><strong>PROJ_GEODESIC</strong> was added to control which geodesic calculation should be
used.  Choose among Vincenty [Default], Andoyer (fast approximate geodesics),
and Rudoe (from GMT4).</li>
<li><strong>TIME_REPORT</strong> now has defaults for absolute or elapsed time stamps.</li>
</ul>
</div>
<div class="section" id="updated-common-options">
<h2>7.4. Updated common options<a class="headerlink" href="#updated-common-options" title="Permalink to this headline">¶</a></h2>
<p>Two of the established GMT common options have seen minor improvements:</p>
<ul class="simple">
<li>Implemented modifier <strong>-B+n</strong> to <em>not</em> draw the frame at all.</li>
<li>Allow oblique Mercator projections to select projection poles in the
southern hemisphere by using upper-case selectors <strong>A</strong>|<strong>B</strong>|<strong>C</strong>.</li>
<li>Added a forth way to specify the region for a new grid via the new
<strong>-R</strong>[<strong>L</strong>|<strong>C</strong>|<strong>R</strong>][<strong>T</strong>|<strong>M</strong>|<strong>B</strong>]<em>x0</em>/<em>y0</em>/<em>nx</em>/<em>ny</em>
syntax where you specify an reference point and number of points in the two
dimensions (requires <strong>-I</strong> to use the increments).  The optional justification
keys specify how the reference point relate to the grid region.</li>
</ul>
</div>
<div class="section" id="id5">
<h2>7.5. General improvements<a class="headerlink" href="#id5" title="Permalink to this headline">¶</a></h2>
<p>Several changes have affects across GMT; these are:</p>
<ul class="simple">
<li>Added optional multi-threading capabilities to several modules, such as
<a class="reference internal" href="greenspline.html"><span class="doc">greenspline</span></a>, <a class="reference internal" href="grdfilter.html"><span class="doc">grdfilter</span></a>, <a class="reference internal" href="grdmask.html"><span class="doc">grdmask</span></a>, <a class="reference internal" href="grdsample.html"><span class="doc">grdsample</span></a>,
the potential supplement’s <a class="reference internal" href="supplements/potential/grdgravmag3d.html"><span class="doc">grdgravmag3d</span></a>,
<a class="reference internal" href="supplements/potential/talwani2d.html"><span class="doc">talwani2d</span></a> and
<a class="reference internal" href="supplements/potential/talwani2d.html"><span class="doc">talwani3d</span></a> and x2sys’s <a class="reference internal" href="supplements/x2sys/x2sys_solve.html"><span class="doc">x2sys_solve</span></a>.</li>
<li>Optional prerequisite LAPACK means SVD decomposition in <a class="reference internal" href="greenspline.html"><span class="doc">greenspline</span></a> is
now very fast, as is true for the regular Gauss-Jordan solution via a
new multi-processor enabled algorithm.</li>
<li>Allow comma-separated colors instead of CPTs in options that are
used to pass a CPT (typically this means the <strong>-C</strong> option).</li>
<li>Faster netCDF reading for COARDS table data (i.e., not grids).</li>
<li>When importing grids via GDAL the projection info is preserved and stored as netCDF metadata.
This will allow third party programs like GDAL and QGIS to recognize the projection info of
GMT created grids. Same thing happens when creating grids with <a class="reference internal" href="grdproject.html"><span class="doc">grdproject</span></a>.</li>
<li>Tools using GSHHG can now access information for both Antarctica data
sets (ice-front and grounding line).</li>
<li>Tools that specify pens may now explicitly choose “solid” as an attribute,
and we added “dashed” and “dotted” as alternatives to the shorthands “-” and “.”.</li>
<li>Added three alternative vector head choices (terminal, square and circle) in addition
to the default “arrow” style. We have also added the option for trimming the
beginning and/or end point location of a vector, and you may now place the
vector head at the mid-point of the vector instead at the ends.</li>
<li>All eight map embellishment features (map scale, color bar, direction rose, magnetic
rose, GMT logo, raster images, map inserts, and map legends) now use a uniform
mechanism for specifying placement, justification, and attributes and is supported
by a new section in the documentation.</li>
<li>Typesetting simultaneous sub- and super-scripts has improved (i.e., when a symbol
should have both a subscript and and a superscript).</li>
<li>The custom symbol macro codes now allow for an unspecified symbol code (<strong>?</strong>), which
means the desired code will be given as last item on each data record.  Such custom
symbols must be specified with uppercase <strong>-SK</strong>.</li>
</ul>
</div>
<div class="section" id="program-specific-improvements">
<h2>7.6. Program-specific improvements<a class="headerlink" href="#program-specific-improvements" title="Permalink to this headline">¶</a></h2>
<p>Finally, here is a list of enhancements to individual modules.  Any
changes to existing syntax will be backwards compatible:</p>
<ul class="simple">
<li><a class="reference internal" href="fitcircle.html"><span class="doc">fitcircle</span></a> now has a new option <strong>-F</strong> that allows output to be in the
form of coordinates only (no text report) and you may choose which items to
return by appending suitable flags.</li>
<li><a class="reference internal" href="gmt.html"><span class="doc">gmt</span></a> now has a --show-cores option that reports the available cores.</li>
<li><a class="reference internal" href="gmtconvert.html"><span class="doc">gmtconvert</span></a> adds a <strong>-C</strong> option that can be used to eliminate
segments on output based on the number of records it contains.  We also
added a <strong>-F</strong> option to create line segments from an input data sets using
a variety of connectivity modes.</li>
<li><a class="reference internal" href="gmtmath.html"><span class="doc">gmtmath</span></a> adds a long list of new operators.  We have the operator <strong>BPDF</strong> for binomial probability distribution and
<strong>BCDF</strong> for the cumulative binomial distribution function.  Due to confusion with
other probability distributions we have introduced a series of new operator names
(but honor backwards compatibility).  Listing the pdf and cdf for each distribution,
these are <strong>TPDF</strong> and <strong>TCDF</strong> for the Student t-distribution,
<strong>FPDF</strong> and <strong>FCDF</strong> for the F-distribution,
<strong>CHI2PDF</strong> and <strong>CHI2CDF</strong> for the Chi-squared distribution,
<strong>EPDF</strong> and <strong>ECDF</strong> for the exponential distribution (as well as <strong>ECRIT</strong>),
<strong>PPDF</strong> and <strong>PCDF</strong> for the Poisson distribution,
<strong>LPDF</strong> and <strong>LCDF</strong> for the Laplace distribution (as well as <strong>LCRIT</strong>),
<strong>RPDF</strong> and <strong>RCDF</strong> for the Rayleigh distribution (as well as <strong>RCRIT</strong>),
<strong>WPDF</strong> and <strong>WCDF</strong> for the Weibull distribution (as well as <strong>WCRIT</strong>), and
<strong>ZPDF</strong> and <strong>ZCDF</strong> for the Normal distribution. We added <strong>ROLL</strong> for cyclic shifts of the stack,
and <strong>DENAN</strong> as a more intuitive operator for removing NaNs, as
well as new constants <strong>TRANGE</strong>, <strong>TROW</strong>, <strong>F_EPS</strong> and <strong>D_EPS</strong>, and we have renamed the
normalized coordinates from <strong>Tn</strong> to <strong>TNORM</strong> (but this is backwards compatible).  We added
operator <strong>POINT</strong> which reads a data table and places the mean x and mean y on the stack.
Finally, we added new hyperbolic and inverse hyperbolic functions <strong>COTH</strong> and <strong>ACOTH</strong>,
<strong>SECH</strong> and <strong>ASECH</strong>, and <strong>CSCH</strong> and <strong>ACSCH</strong>.</li>
<li><a class="reference internal" href="gmtspatial.html"><span class="doc">gmtspatial</span></a> now lets you specify Flat Earth or Geodesic distance calculations
for line lengths via <strong>-Q</strong>.</li>
<li><a class="reference internal" href="grdblend.html"><span class="doc">grdblend</span></a> relaxes the <strong>-W</strong> restriction on only one output grid
and adds the new mode <strong>-Wz</strong> to write the weight*zsum grid.</li>
<li><a class="reference internal" href="grdedit.html"><span class="doc">grdedit</span></a> enhances the <strong>-E</strong> option to allow for 90-degree rotations
or flips of grid, as well as a new <strong>-G</strong> to enable writing of the result
to a new output file [Default updates the existing file]. The <strong>-J</strong> option
saves the georeferencing info as metadata in netCDF grids.</li>
<li><a class="reference internal" href="grdfilter.html"><span class="doc">grdfilter</span></a> now includes histogram mode filtering to complement mode
(LMS) filtering.</li>
<li><a class="reference internal" href="grdgradient.html"><span class="doc">grdgradient</span></a> adds <strong>-Da</strong> to compute the aspect (down-slope) direction [up-slope].</li>
<li><a class="reference internal" href="grdinfo.html"><span class="doc">grdinfo</span></a> reports the projection info of netCDF grids when that is stored in
a grid’s metadata in WKT format.</li>
<li><a class="reference internal" href="grdmath.html"><span class="doc">grdmath</span></a> adds numerous new operators, such as <strong>ARC</strong> and <strong>WRAP</strong> for
angular operators, <strong>BPDF</strong> for binomial probability distribution and
<strong>BCDF</strong> for the cumulative binomial distribution function.  Due to confusion with
other probability distributions we have introduced a series of new operator names
(but accept backwards compatibility).  Listing the pdf and cdf for each distribution,
these are <strong>TPDF</strong> and <strong>TCDF</strong> for the Student t-distribution,
<strong>FPDF</strong> and <strong>FCDF</strong> for the F-distribution,
<strong>CHI2PDF</strong> and <strong>CHI2CDF</strong> for the Chi-squared distribution,
<strong>EPDF</strong> and <strong>ECDF</strong> for the exponential distribution (as well as <strong>ECRIT</strong>),
<strong>PPDF</strong> and <strong>PCDF</strong> for the Poisson distribution,
<strong>LPDF</strong> and <strong>LCDF</strong> for the Laplace distribution (as well as <strong>LCRIT</strong>),
<strong>RPDF</strong> and <strong>RCDF</strong> for the Rayleigh distribution (as well as <strong>RCRIT</strong>),
<strong>WPDF</strong> and <strong>WCDF</strong> for the Weibull distribution (as well as <strong>WCRIT</strong>), and
<strong>ZPDF</strong> and <strong>ZCDF</strong> for the Normal distribution.  We added <strong>LDISTG</strong> (for distances
to GSHHG), <strong>CDIST2</strong> and <strong>SDIST2</strong>
(to complement <strong>LDIST2</strong> and <strong>PDIST2</strong>), and <strong>ROLL</strong> for cyclic shifts of the stack,
and <strong>DENAN</strong> as a more intuitive operator for removing NaNs,
while <strong>LDIST1</strong> has been renamed
to <strong>LDISTC</strong>.  We also add new constants <strong>XRANGE</strong>, <strong>YRANGE</strong>, <strong>XCOL</strong>,
<strong>YROW</strong> and <strong>F_EPS</strong>, and we have renamed the normalized coordinates from <strong>Xn</strong> to <strong>XNORM</strong>
and <strong>Yn</strong> to <strong>YNORM</strong> (but this is backwards compatible).
Finally, we added new hyperbolic and inverse hyperbolic functions <strong>COTH</strong> and <strong>ACOTH</strong>,
<strong>SECH</strong> and <strong>ASECH</strong>, and <strong>CSCH</strong> and <strong>ACSCH</strong>.</li>
<li><a class="reference internal" href="grdtrack.html"><span class="doc">grdtrack</span></a> add the modifier <strong>-G+l</strong><em>list</em> to pass a list of grids.</li>
<li><a class="reference internal" href="grdview.html"><span class="doc">grdview</span></a> implements the Waterfall plot mode via <strong>-Qmx</strong>|<strong>y</strong>.</li>
<li><a class="reference internal" href="kml2gmt.html"><span class="doc">kml2gmt</span></a> acquires a <strong>-F</strong> option to control which geometry to output.</li>
<li><a class="reference internal" href="makecpt.html"><span class="doc">makecpt</span></a> takes <strong>-E</strong> to determine range from an input data table.</li>
<li><a class="reference internal" href="mapproject.html"><span class="doc">mapproject</span></a> can be used in conjunction with the 3-D projection options to
compute 3-D projected coordinates.  We also added <strong>-W</strong> to simply output the
projected dimensions of the plot without reading input data.</li>
<li><a class="reference internal" href="psbasemap.html"><span class="doc">psbasemap</span></a> now takes <strong>-A</strong> to save the plot domain polygon in geographical coordinates.
The <strong>-L</strong> option for map scale and <strong>-T</strong> for map roses have been revised (backwards compatible) and a
new uniform <strong>-F</strong> option to specify background panel and its many settings was added.</li>
<li><a class="reference internal" href="pscoast.html"><span class="doc">pscoast</span></a> can accept multiple <strong>-E</strong> settings to color several features independently.
We also have the modifiers <strong>+AS</strong> to <em>only</em> plot Antarctica, <strong>+ag</strong> to use
shelf ice grounding line for Antarctica coastline, and <strong>+ai</strong> to use ice/water
front for Antarctica coastline [Default].  As above, the <strong>-L</strong> option for map scale
and <strong>-T</strong> option for map roses have been revised (backwards compatible) and a new uniform <strong>-F</strong> option to specify
background panel and its many settings was added.</li>
<li><a class="reference internal" href="psconvert.html"><span class="doc">psconvert</span></a> (apart from the name change) has several new features, such as
reporting dimensions of the plot when <strong>-A</strong> and <strong>-V</strong> are used,
scaling the output plots via <strong>-A+s</strong>[<strong>m</strong>]<em>width</em>[<strong>u</strong>][/<em>height</em>[<strong>u</strong>]],
paint and outline the bounding box via <strong>-A</strong> modifiers <strong>g</strong><em>fill</em> and <strong>+p</strong><em>pen</em>,
and <strong>-Z</strong> for removing the <em>PostScript</em> file on exit.  In addition, we have
added SVG as a new output vector graphics format and now handle transparency even if
non-PDF output formats are requested.</li>
<li><a class="reference internal" href="pscontour.html"><span class="doc">pscontour</span></a> adds a <strong>-Q</strong><em>cut</em> option like <a class="reference internal" href="grdcontour.html"><span class="doc">grdcontour</span></a> and consolidates the
old <strong>-T</strong>, <strong>-Q</strong> options for an index file to a new <strong>-E</strong> option.</li>
<li><a class="reference internal" href="pshistogram.html"><span class="doc">pshistogram</span></a> added modifiers <strong>-W</strong><em>width</em>[<strong>+l</strong>|<strong>h</strong>|<strong>b</strong>]
to allow for more control on what happens to points falling in the tails.</li>
<li><a class="reference internal" href="psimage.html"><span class="doc">psimage</span></a> added a new uniform <strong>-D</strong> option to specify location of the image and new uniform
<strong>-F</strong> option to specify background panel and its many settings.</li>
<li><a class="reference internal" href="pslegend.html"><span class="doc">pslegend</span></a> has many enhancements for specifying varying cell widths and color, as
well as a new uniform <strong>-D</strong> option to specify location of legend and new uniform
<strong>-F</strong> option to specify background panel and its many settings.</li>
<li><a class="reference internal" href="psscale.html"><span class="doc">psscale</span></a> new uniform <strong>-D</strong> option to specify location of the scale. We have
retired the <strong>-T</strong> option in favor of the new uniform
<strong>-F</strong> option to specify background panel and its many settings.</li>
<li><a class="reference internal" href="psxy.html"><span class="doc">psxy</span></a> has seen considerable enhancements. We added two new quoted
line (<strong>-Sq</strong>) modifiers: <strong>S</strong>|<strong>s</strong> for treating input as consecutive
two-point line segments that should be individually quoted,
and <strong>+x</strong>[<em>first</em>,<em>last</em>] for automating cross-section labeling.
We added a new symbol (<strong>-S~</strong>) for <em>decorated lines</em>.  These are very similar
to quoted lines but instead place specified symbols along lines.
We expanded <strong>-N</strong> to handle periodic, repeating symbols near the boundary,
added a new modifier <strong>+</strong> to <strong>-E</strong> for asymmetrical error bars, and provided the
shorthand <strong>-SE-</strong><em>diameter</em> for degenerated ellipses (i.e., circles).
The <strong>-L</strong> option has been enhanced to create envelope polygons around y(x),
say for confidence envelopes (modifiers <strong>+b</strong>|<strong>d</strong>|<strong>D</strong>), and to complete a closed
polygon by adding selected corners (modifiers <strong>+xl</strong>|<strong>r</strong>|<em>x0</em> or <strong>+yb</strong>|<strong>t</strong>|<em>y0</em>).
The <strong>-A</strong>-option now has new modifiers <strong>x</strong>|<strong>y</strong> for creating stair-case curves.
The slip-vector symbol can now optionally accept a vector-head angle [30].
The custom symbols definition tests can now compare two input variables.
We also added a <strong>-F</strong> option to draw line segments from an input data sets using
a variety of connectivity modes.  Finally, for drawing lines there are new line
attribute modifiers available via the pen setting <strong>-W</strong> such as drawing with a
Bezier spline (<strong>+s</strong>), trimming the segments from the ends before plotting (<strong>+o</strong><em>offset</em>),
or adding vector heads at the ends of the lines (<strong>+v</strong>).</li>
<li><a class="reference internal" href="psxyz.html"><span class="doc">psxyz</span></a> also has the new <strong>-SE-</strong><em>diameter</em> shorthand as well as the <strong>-N</strong>
modifiers for handling periodic plot symbols.  Like, psxy it gets the same improvements
to quoted lines and adds decorated lines as a new symbol.  Likewise,
the <strong>-L</strong> option has been enhanced to create envelope polygons around y(x),
say for confidence envelopes (modifiers <strong>+b</strong>|<strong>d</strong>|<strong>D</strong>), and to complete a closed
polygon by adding selected corners (modifiers <strong>+xl</strong>|<strong>r</strong>|<em>x0</em> or <strong>+yb</strong>|<strong>t</strong>|<em>y0</em>).
The slip-vector symbol can now optionally accept a vector-head angle [30].
Finally, to match <a class="reference internal" href="psxy.html"><span class="doc">psxy</span></a> we have added the option <strong>-T</strong> for specifying no data input.</li>
<li><a class="reference internal" href="sample1d.html"><span class="doc">sample1d</span></a> spline selection option <strong>-F</strong> can now accept the optional
modifiers <strong>+1</strong> or <strong>+2</strong> which will compute
the first or second derivatives of the spline, respectively.</li>
<li><a class="reference internal" href="spectrum1d.html"><span class="doc">spectrum1d</span></a> can now turn off single-output data to stdout via <strong>-T</strong>
or turn off multi-file output via <strong>-N</strong>.</li>
<li><a class="reference internal" href="sphdistance.html"><span class="doc">sphdistance</span></a> can now also perform a nearest-neighbor gridding where
all grid nodes inside a Voronoi polygon is set to the same value as the
Voronoi node value, via <strong>-Ez</strong>.</li>
<li><a class="reference internal" href="trend1d.html"><span class="doc">trend1d</span></a> can now fit mixed polynomial and Fourier series models,
as well as allowing models with just some terms in a polynomial or a
Fourier series, including plain cosine or sine series terms.  Modifiers
have been added to specify data origin and fundamental period instead of
defaulting to the data mid-point and data range, respectively.</li>
</ul>
<p>A few supplement modules have new features as well:</p>
<ul class="simple">
<li><a class="reference internal" href="supplements/mgd77/mgd77track.html"><span class="doc">mgd77track</span></a> adds the <strong>-Gn</strong><em>gap</em> option to
decimate the trackline coordinates by only plotting every <em>gap</em> point.</li>
<li><a class="reference internal" href="supplements/potential/gravfft.html"><span class="doc">gravfft</span></a> adds <strong>-W</strong><em>wd</em> to change
observation level.</li>
<li><a class="reference internal" href="supplements/potential/grdgravmag3d.html"><span class="doc">grdgravmag3d</span></a> adds <strong>-H</strong> to compute magnetic anomaly.</li>
<li><a class="reference internal" href="supplements/spotter/grdpmodeler.html"><span class="doc">grdpmodeler</span></a> can now output more than one model
prediction into several grids or as a record written to stdout.  Also gains the <strong>-N</strong> option
used by other spotter tools to extend the model duration.</li>
</ul>
</div>
</div>
<div class="section" id="new-features-in-gmt-5">
<h1>8. New Features in GMT 5<a class="headerlink" href="#new-features-in-gmt-5" title="Permalink to this headline">¶</a></h1>
<p>GMT 5 represents a new branch of GMT development that mostly preserves the
capabilities of the previous versions while adding over 200 new features
to an already extensive bag of tricks.  Our <em>PostScript</em> library
<a class="reference internal" href="postscriptlight.html"><span class="doc">PSL</span></a> has seen a complete rewrite as well
and produce shorter and more compact <em>PostScript</em>. However, the big news
is aimed for developers who wish to leverage GMT in their own applications.
We have completely revamped the code base so that high-level
GMT functionality is now accessible via GMT “modules”. These are
high-level functions named after their corresponding programs (e.g.,
<code class="docutils literal notranslate"><span class="pre">GMT_grdimage</span></code>) that contains all of the functionality of that program
within the function. While currently callable from C/C++ only (with some
support for F77), we are making progress on the Matlab interface as well
and there are plans to start on the Python version. Developers should
consult the <a class="reference internal" href="GMT_API.html"><span class="doc">GMT API</span></a> documentation for more details.</p>
<p>We recommend that users of GMT 4 consider learning the new rules and defaults
since eventually (in some years) GMT 4 will be obsolete.
To ease the transition to GMT 5 you may run it in compatibility mode,
thus allowing the use of many obsolete default names and command
switches (you will receive a warning instead).  This is discussed below.</p>
<p>Below are six key areas of improvements in GMT 5.</p>
<div class="section" id="new-programs">
<h2>8.1. New programs<a class="headerlink" href="#new-programs" title="Permalink to this headline">¶</a></h2>
<p>First, a few new programs have been added and some have been
promoted (and possibly renamed) from earlier supplements:</p>
<dl class="docutils">
<dt><a class="reference internal" href="gmt.html"><span class="doc">gmt</span></a></dt>
<dd>This is the <strong>only</strong> program executable that is distributed with GMT 5. To avoid
problems with namespace conflicts (e.g., there are other, non-GMT programs
with generic names like triangulate, surface, etc.) all GMT 5 modules are
launched from the gmt executable via “gmt module” calls (e.g, gmt pscoast).
For backwards compatibility (see below) we also offer symbolic links with
the old executable names that simply point to the gmt program, which then
can start the correct module.  Any module whose name starts with “gmt” can
be abbreviated, e.g., “gmt gmtconvert” may be called as “gmt convert”.</dd>
<dt><a class="reference internal" href="gmt2kml.html"><span class="doc">gmt2kml</span></a></dt>
<dd>A <a class="reference internal" href="psxy.html"><span class="doc">psxy</span></a> -like tool to produce KML overlays for Google Earth. Previously
found in the misc supplement.</dd>
<dt><a class="reference internal" href="gmtconnect.html"><span class="doc">gmtconnect</span></a></dt>
<dd>Connect individual lines whose end points match within given tolerance.
Previously known as gmtstitch in the misc supplement (this name is recognized
when GMT is running in compatibility mode).</dd>
<dt><a class="reference internal" href="gmtget.html"><span class="doc">gmtget</span></a></dt>
<dd>Return the values of the specified GMT defaults.  Previously only
implemented as a shell script and thus not available on all platforms.</dd>
<dt><a class="reference internal" href="gmtinfo.html"><span class="doc">gmtinfo</span></a></dt>
<dd>Report information about data tables. Previously known by the name minmax
(this name is still recognized when GMT is running in compatibility mode).</dd>
<dt><a class="reference internal" href="gmtsimplify.html"><span class="doc">gmtsimplify</span></a></dt>
<dd>A line-reduction tool for coastlines and similar lines. Previously found
in the misc supplement under the name gmtdp (this name is recognized when
GMT is running in compatibility mode).</dd>
<dt><a class="reference internal" href="gmtspatial.html"><span class="doc">gmtspatial</span></a></dt>
<dd>Perform various geospatial operations on lines and polygons.</dd>
<dt><a class="reference internal" href="gmtvector.html"><span class="doc">gmtvector</span></a></dt>
<dd>Perform basic vector manipulation in 2-D and 3-D.</dd>
<dt><a class="reference internal" href="gmtwhich.html"><span class="doc">gmtwhich</span></a></dt>
<dd>Return the full path to specified data files.</dd>
<dt><a class="reference internal" href="grdraster.html"><span class="doc">grdraster</span></a></dt>
<dd>Extracts subsets from large global grids.  Previously
found in the dbase supplement.</dd>
<dt><a class="reference internal" href="kml2gmt.html"><span class="doc">kml2gmt</span></a></dt>
<dd>Extract GMT data tables from Google Earth KML files.  Previously
found in the misc supplement.</dd>
<dt><a class="reference internal" href="sph2grd.html"><span class="doc">sph2grd</span></a></dt>
<dd>Compute grid from list of spherical harmonic coefficients [We will add its
natural complement grd2sph at a later date].</dd>
<dt><a class="reference internal" href="sphdistance.html"><span class="doc">sphdistance</span></a></dt>
<dd>Make grid of distances to nearest points on a sphere.  Previously
found in the sph supplement.</dd>
<dt><a class="reference internal" href="sphinterpolate.html"><span class="doc">sphinterpolate</span></a></dt>
<dd>Spherical gridding in tension of data on a sphere.  Previously
found in the sph supplement.</dd>
<dt><a class="reference internal" href="sphtriangulate.html"><span class="doc">sphtriangulate</span></a></dt>
<dd>Delaunay or Voronoi construction of spherical lon,lat data.  Previously
found in the sph supplement.</dd>
</dl>
<p>We have also added a new supplement called potential that contains these five modules:</p>
<dl class="docutils">
<dt><a class="reference internal" href="supplements/potential/gmtgravmag3d.html"><span class="doc">gmtgravmag3d</span></a>:</dt>
<dd>Compute the gravity/magnetic anomaly of a body by the method of Okabe.</dd>
<dt><a class="reference internal" href="supplements/potential/gmtflexure.html"><span class="doc">gmtflexure</span></a>:</dt>
<dd>Compute the flexure of a 2-D load using variable plate thickness and restoring force.</dd>
<dt><a class="reference internal" href="supplements/potential/gravfft.html"><span class="doc">gravfft</span></a>:</dt>
<dd>Compute gravitational attraction of 3-D surfaces and a little more by the method of Parker.</dd>
<dt><a class="reference internal" href="supplements/potential/grdgravmag3d.html"><span class="doc">grdgravmag3d</span></a>:</dt>
<dd>Computes the gravity effect of one (or two) grids by the method of Okabe.</dd>
<dt><a class="reference internal" href="supplements/potential/grdredpol.html"><span class="doc">grdredpol</span></a>:</dt>
<dd>Compute the Continuous Reduction To the Pole, also known as differential RTP.</dd>
<dt><a class="reference internal" href="supplements/potential/grdseamount.html"><span class="doc">grdseamount</span></a>:</dt>
<dd>Compute synthetic seamount (Gaussian or cone, circular or elliptical) bathymetry.</dd>
</dl>
<p>Finally, the spotter supplement has added one new module:</p>
<dl class="docutils">
<dt><a class="reference internal" href="supplements/spotter/grdpmodeler.html"><span class="doc">grdpmodeler</span></a>:</dt>
<dd>Evaluate a plate model on a geographic grid.</dd>
</dl>
</div>
<div class="section" id="id6">
<h2>8.2. New common options<a class="headerlink" href="#id6" title="Permalink to this headline">¶</a></h2>
<p>First we discuss changes that have been
implemented by a series of new lower-case GMT common options:</p>
<ul class="simple">
<li>Programs that read data tables can now process the aspatial metadata
in OGR/GMT files with the new <strong>-a</strong> option. These can be produced by
<strong>ogr2ogr</strong> (a GDAL tool) when selecting the -f “GMT” output
format. See Chapter <a class="reference internal" href="#the-gmt-vector-data-format-for-ogr-compatibility">The GMT Vector Data Format for OGR Compatibility</a>
for an explanation of the OGR/GMT file format.
Because all GIS information is encoded via GMT comment lines these
files can also be used in GMT 4 (the GIS metadata is simply
skipped).</li>
<li>Programs that read or write data tables can specify a custom binary format
using the enhanced <strong>-b</strong> option.</li>
<li>Programs that read data tables can control which columns to read and
in what order (and optionally supply scaling relations) with the new <strong>-i</strong> option</li>
<li>Programs that read grids can use new common option <strong>-n</strong> to control
grid interpolation settings and boundary conditions.</li>
<li>Programs that write data tables can control which columns to write
and in what order (and optionally supply scaling relations) with the new <strong>-o</strong> option.</li>
<li>All plot programs can take a new <strong>-p</strong> option for perspective view
from infinity. In GMT 4, only some programs could do this (e.g.,
<a class="reference internal" href="pscoast.html"><span class="doc">pscoast</span></a>) and it took a
program-specific option, typically <strong>-E</strong> and sometimes an option
<strong>-Z</strong> would be needed as well. This information is now all passed
via <strong>-p</strong> and applies across all GMT plotting programs.</li>
<li>Programs that read data tables can control how records with NaNs are
handled with the new <strong>-s</strong> option.</li>
<li>All plot programs can take a new <strong>-t</strong> option to modify the PDF
transparency level for that layer. However, as <em>PostScript</em> has no provision for
transparency you can only see the effect if you convert it to PDF.</li>
</ul>
</div>
<div class="section" id="id7">
<h2>8.3. Updated common options<a class="headerlink" href="#id7" title="Permalink to this headline">¶</a></h2>
<p>Some of the established GMT common options have seen significant
improvements; these include:</p>
<ul class="simple">
<li>The completely revised <strong>-B</strong> option can now handle irregular and custom annotations
(see Section <a class="reference internal" href="#custom-axes">Custom axes</a>). It also has a new automatic mode which
will select optimal intervals given data range and plot size. The 3-D base maps can now have
horizontal gridlines on xz and yz back walls.</li>
<li>The <strong>-R</strong> option may now accept a leading unit which implies the
given coordinates are projected map coordinates and should be
replaced with the corresponding geographic coordinates given the
specified map projection. For linear projections such units imply a
simple unit conversion for the given coordinates (e.g., km to meter).</li>
<li>Introduced <strong>-fp</strong>[<em>unit</em>] which allows data input to be in
projected values, e.g., UTM coordinates while <strong>-Ju</strong> is given.</li>
</ul>
<p>While just giving - (the hyphen) as argument presents just the synopsis of the command
line arguments, we now also support giving + which in addition will list
the explanations for all options that are not among the GMT common set.</p>
</div>
<div class="section" id="id8">
<h2>8.4. New default parameters<a class="headerlink" href="#id8" title="Permalink to this headline">¶</a></h2>
<p>Most of the GMT default parameters have changed names in order to
group parameters into logical groups and to use more consistent naming.
However, under compatibility mode (see below) the old names are still recognized.
New capabilities have been implemented by introducing new GMT default settings:</p>
<ul class="simple">
<li><a class="reference internal" href="gmt.conf.html#dir-parameters"><span class="std std-ref">DIR_DCW</span></a> specifies where to look for the optional
Digital Charts of the World database (for country coloring or selections).</li>
<li><a class="reference internal" href="gmt.conf.html#dir-parameters"><span class="std std-ref">DIR_GSHHG</span></a> specifies where to look for the required
Global Self-consistent Hierarchical High-resolution Geography database.</li>
<li><a class="reference internal" href="gmt.conf.html#gmt-compatibility"><span class="std std-ref">GMT_COMPATIBILITY</span></a> can be set to 4 to allow
backwards compatibility with GMT 4 command-line syntax or 5 to impose
strict GMT5 syntax checking.</li>
<li><a class="reference internal" href="gmt.conf.html#io-nc4-chunk-size"><span class="std std-ref">IO_NC4_CHUNK_SIZE</span></a> is used to set the default
chunk size for the <strong>lat</strong> and <strong>lon</strong> dimension of the <strong>z</strong> variable of
netCDF version 4 files.</li>
<li><a class="reference internal" href="gmt.conf.html#io-nc4-deflation-level"><span class="std std-ref">IO_NC4_DEFLATION_LEVEL</span></a> is used to set
the compression level for netCDF4 files upon output.</li>
<li><a class="reference internal" href="gmt.conf.html#io-segment-marker"><span class="std std-ref">IO_SEGMENT_MARKER</span></a> can be used to change the
character that GMT uses to identify new segment header records [&gt;].</li>
<li><a class="reference internal" href="gmt.conf.html#map-annot-ortho"><span class="std std-ref">MAP_ANNOT_ORTHO</span></a> controls whether axes annotations
for Cartesian plots are horizontal or orthogonal to the individual axes.</li>
<li><a class="reference internal" href="gmt.conf.html#gmt-fft"><span class="std std-ref">GMT_FFT</span></a> controls which algorithms to use for Fourier
transforms.</li>
<li><a class="reference internal" href="gmt.conf.html#gmt-triangulate"><span class="std std-ref">GMT_TRIANGULATE</span></a> controls which algorithm to use
for Delaunay triangulation.</li>
<li>Great circle distance approximations can now be fine-tuned via new GMT default parameters
<a class="reference internal" href="gmt.conf.html#proj-mean-radius"><span class="std std-ref">PROJ_MEAN_RADIUS</span></a> and <a class="reference internal" href="gmt.conf.html#proj-aux-latitude"><span class="std std-ref">PROJ_AUX_LATITUDE</span></a>.
Geodesics are now even more accurate by using the Vincenty [1975] algorithm instead of
Rudoe’s method.</li>
<li><a class="reference internal" href="gmt.conf.html#gmt-extrapolate-val"><span class="std std-ref">GMT_EXTRAPOLATE_VAL</span></a> controls what splines should do if
requested to extrapolate beyond the given data domain.</li>
<li><a class="reference internal" href="gmt.conf.html#ps-transparency"><span class="std std-ref">PS_TRANSPARENCY</span></a> allows users to modify how transparency will be
processed when converted to PDF [Normal].</li>
</ul>
<p>A few parameters have been introduced in GMT 5 in the past and have been removed again.
Among these are:</p>
<ul class="simple">
<li><em>DIR_USER</em>: was supposed to set the directory in which the user configuration files, or data are stored, but
this creates problems, because it needs to be known already before it is potentially set in <em>DIR_USER</em>/gmt.conf.
The environment variable <strong>$GMT_USERDIR</strong> is used for this instead.</li>
<li><em>DIR_TMP</em>: was supposed to indicate the directory in which to store temporary files. But needs to be known without
gmt.conf file as well. So the environment variable <strong>$GMT_TMPDIR</strong> is used instead.</li>
</ul>
</div>
<div class="section" id="id9">
<h2>8.5. General improvements<a class="headerlink" href="#id9" title="Permalink to this headline">¶</a></h2>
<p>Other wide-ranging changes have been implemented in different
ways, such as</p>
<ul class="simple">
<li>All programs now use consistent, standardized choices for plot
dimension units (<strong>c</strong>m, <strong>i</strong>nch, or <strong>p</strong>oint; we no longer
consider <strong>m</strong>eter a plot length unit), and actual distances
(choose spherical arc lengths in <strong>d</strong>egree, <strong>m</strong>inute, and
<strong>s</strong>econd [was <strong>c</strong>], or distances in m<strong>e</strong>ter [Default],
<strong>f</strong>oot [new], <strong>k</strong>m, <strong>M</strong>ile [was sometimes <strong>i</strong> or
<strong>m</strong>], <strong>n</strong>autical mile, and s<strong>u</strong>rvey foot [new]).</li>
<li>Programs that read data tables can now process multi-segment tables
automatically. This means programs that did not have this capability
(e.g., <a class="reference internal" href="filter1d.html"><span class="doc">filter1d</span></a>) can now all operate on the
segments separately; consequently, there is no longer a <strong>-m</strong>
option.</li>
<li>While we support the scaling of z-values in grids via the filename convention
name[=<em>ID</em>[<strong>+s</strong><em>scale</em>][<strong>+o</strong><em>offset</em>][<strong>+n</strong><em>nan</em>] mechanism, there are times
when we wish to scale the x,y domain as well. Users can now
append <strong>+u</strong><em>unit</em> to their gridfile names, where <em>unit</em> is one of non-arc units listed
in Table <a class="reference internal" href="#tbl-distunits"><span class="std std-ref">distunits</span></a>.  This will convert your Cartesian
x and y coordinates <em>from</em> the given unit <em>to</em> meters.  We also support the inverse
option <strong>+U</strong><em>unit</em>, which can be used to convert your grid
coordinates <em>from</em> meters <em>to</em> the specified unit.</li>
<li>CPTs also support the <strong>+u</strong>|<strong>U</strong><em>unit</em> mechanism.  Here, the scaling
applies to the z values.  By appending these modifiers to your CPT names you
can avoid having two CPTs (one for meter and one for km) since only one is needed.</li>
<li>Programs that read grids can now directly handle Arc/Info float binary
files (GRIDFLOAT) and ESRI .hdr formats.</li>
<li>Programs that read grids now set boundary conditions to aid further
processing. If a subset then the boundary conditions are taken from
the surrounding grid values.</li>
<li>All text can now optionally be filled with patterns and/or drawn with
outline pens. In the past, only <a class="reference internal" href="pstext.html"><span class="doc">pstext</span></a> could plot outline fonts via
<strong>-S</strong><em>pen</em>. Now, any text can be an outline text by manipulating
the corresponding FONT defaults (e.g., <a class="reference internal" href="gmt.conf.html#font-title"><span class="std std-ref">FONT_TITLE</span></a>).</li>
<li>All color or fill specifications may append &#64;<em>transparency</em> to
change the PDF transparency level for that item. See <strong>-t</strong> for
limitations on how to visualize this transparency.</li>
<li>GMT now ships with 36 standard color palette tables (CPT), up from 24.</li>
</ul>
</div>
<div class="section" id="id10">
<h2>8.6. Program-specific improvements<a class="headerlink" href="#id10" title="Permalink to this headline">¶</a></h2>
<p>Finally, here is a list of numerous enhancements to individual programs:</p>
<ul class="simple">
<li><a class="reference internal" href="blockmean.html"><span class="doc">blockmean</span></a> added <strong>-Ep</strong> for error propagation and
<strong>-Sn</strong> to report the number of data points per block.</li>
<li><a class="reference internal" href="blockmedian.html"><span class="doc">blockmedian</span></a> added <strong>-Er</strong>[-]
to return as last column the record number that gave the median
value. For ties, we return the record number of the higher data value
unless <strong>-Er</strong>- is given (return lower). Added <strong>-Es</strong> to read and
output source id for median value.</li>
<li><a class="reference internal" href="blockmode.html"><span class="doc">blockmode</span></a> added <strong>-Er</strong>[-] but
for modal value. Added <strong>-Es</strong> to read and output source id for modal
value.</li>
<li><a class="reference internal" href="gmtconvert.html"><span class="doc">gmtconvert</span></a> now has optional PCRE (regular expression) support,
as well as a new option to select a subset of segments specified by
segment running numbers (<strong>-Q</strong>) and improved options to extract a
subset of records (<strong>-E</strong>) and support for a list of search strings
via <strong>-S+f</strong><em>patternfile</em>.</li>
<li><a class="reference internal" href="gmtinfo.html"><span class="doc">gmtinfo</span></a> has new option <strong>-A</strong> to
select what group to report on (all input, per file, or per segment).
Also, use <strong>-If</strong> to report an extended region optimized for fastest results in FFTs.
and <strong>-Is</strong> to report an extended region optimized for fastest results in <a class="reference internal" href="surface.html"><span class="doc">surface</span></a>.
Finally, new option <strong>-D</strong>[<em>inc</em>] to align regions found via <strong>-I</strong> with the center
of the data.</li>
<li><a class="reference internal" href="gmtmath.html"><span class="doc">gmtmath</span></a> with <strong>-N</strong><em>ncol</em> and input
files will add extra blank columns, if needed.  A new option <strong>-E</strong>
sets the minimum eigenvalue used by operators LSQFIT and SVDFIT.
Option <strong>-L</strong> applies operators on a per-segment basis instead of
accumulating operations across the entire file.  Many new
operators have been added (BITAND, BITLEFT, BITNOT, BITOR, BITRIGHT,
BITTEST, BITXOR, DIFF, IFELSE, ISFINITE, SVDFIT, TAPER).  Finally,
we have implemented user macros for long or commonly used expressions,
as well as ability to store and recall using named variables.</li>
<li><a class="reference internal" href="gmtselect.html"><span class="doc">gmtselect</span></a> Takes <strong>-E</strong> to indicate if points exactly on a polygon
boundary are inside or outside, and <strong>-Z</strong> can now be extended to apply
to other columns than the third.</li>
<li><a class="reference internal" href="grd2cpt.html"><span class="doc">grd2cpt</span></a> takes <strong>-F</strong> to specify output color model and <strong>-G</strong> to
truncate incoming CPT to be limited to a given range.</li>
<li><a class="reference internal" href="grd2xyz.html"><span class="doc">grd2xyz</span></a> takes <strong>-C</strong> to write row, col instead of x,y.  Append <strong>f</strong>
to start at 1, else start at 0.  Alternatively, use <strong>-Ci</strong> to write just
the two columns <em>index</em> and <em>z</em>, where <em>index</em>
is the 1-D indexing that GMT uses when referring to grid nodes.</li>
<li><a class="reference internal" href="grdblend.html"><span class="doc">grdblend</span></a> can now take list of grids on
the command line and blend, and now has more blend choices (see <strong>-C</strong>). Grids no
longer have to have same registration or spacing.</li>
<li><a class="reference internal" href="grdclip.html"><span class="doc">grdclip</span></a> has new option <strong>-Si</strong> to set all data &gt;= low and &lt;= high
to the <em>between</em> value, and <strong>-Sr</strong> to set all data == old to the <em>new</em> value.</li>
<li><a class="reference internal" href="grdcontour.html"><span class="doc">grdcontour</span></a> can specify a single contour with <strong>-C+</strong><em>contour</em> and
<strong>-A+</strong><em>contour</em>.</li>
<li><a class="reference internal" href="grdcut.html"><span class="doc">grdcut</span></a> can use <strong>-S</strong> to specify an origin and radius and cut the
corresponding rectangular area, and <strong>-N</strong> to extend the region if the new
<strong>-R</strong> domain exceeds existing boundaries.</li>
<li><a class="reference internal" href="grdfft.html"><span class="doc">grdfft</span></a> can now accept two grids and let <strong>-E</strong> compute the cross-spectra.
The <strong>-N</strong> option allows for many new and special settings, including ability
to control data mirroring, detrending, tapering, and output of intermediate
results.</li>
<li><a class="reference internal" href="grdfilter.html"><span class="doc">grdfilter</span></a> can now do spherical
filtering (with wrap around longitudes and over poles) for non-global
grids. We have also begun implementing Open MP threads to speed up
calculations on multi-core machines. We have added rectangular
filtering and automatic resampling to input resolution for high-pass
filters. There is also <strong>-Ff</strong><em>weightgrd</em> which reads the gridfile
<em>weightgrd</em> for a custom Cartesian grid convolution. The <em>weightgrd</em>
must have odd dimensions. Similarly added <strong>-Fo</strong><em>opgrd</em> for
operators (via coefficients in the grdfile <em>opgrd</em>) whose weight sum
is zero (hence we do not sum and divide the convolution by the weight
sum).</li>
<li><a class="reference internal" href="grdgradient.html"><span class="doc">grdgradient</span></a> now has <strong>-Em</strong> that gives results close to ESRI’s
“hillshade”’” (but faster).</li>
<li><a class="reference internal" href="grdinfo.html"><span class="doc">grdinfo</span></a> now has modifier
<strong>-Ts</strong><em>dz</em> which returns a symmetrical range about zero.  Also,
if <strong>-Ib</strong> is given then the grid’s bounding box polygon is written.</li>
<li><a class="reference internal" href="grdimage.html"><span class="doc">grdimage</span></a> with GDAL support can write a raster image directly to
a raster file (<strong>-A</strong>) and may plot raster images as well (<strong>-Dr</strong>).
It also automatically assigns a color table if none is given and can use
any of the 36 GMT color tables and scale them to fit the grid range.</li>
<li><a class="reference internal" href="grdmask.html"><span class="doc">grdmask</span></a> has new option
<strong>-Ni</strong>|I|p|P to set inside of
polygons to the polygon IDs. These may come from OGR aspatial values,
segment head <strong>-L</strong>ID, or a running number, starting at a specified
origin [0]. Now correctly handles polygons with perimeters and holes.
Added z as possible radius value in <strong>-S</strong> which means read radii
from 3rd input column.</li>
<li><a class="reference internal" href="grdmath.html"><span class="doc">grdmath</span></a> added many new operators such as BITAND, BITLEFT, BITNOT, BITOR, BITRIGHT,
BITTEST, BITXOR, DEG2KM, IFELSE, ISFINITE, KM2DEG, and TAPER.  Finally,
we have implemented user macros for long or commonly used expressions,
as well as ability to store and recall using named variables.</li>
<li><a class="reference internal" href="grdtrack.html"><span class="doc">grdtrack</span></a> has many new options.  The <strong>-A</strong> option controls how the
input track is resampled when <strong>-C</strong> is selected, the new <strong>-C</strong>, <strong>-D</strong>
options automatically create an equidistant set of cross-sectional
profiles given input line segments; one or more grids can then be
sampled at these locations.  The <strong>-E</strong> option allows users to quickly specify
tracks for sampling without needed input tracks.  Also added <strong>-S</strong> which stack
cross-profiles generated with <strong>-C</strong>. The <strong>-N</strong> will not skip
points that are outside the grid domain but return NaN as sampled
value.  Finally, <strong>-T</strong> will return the nearest non-NaN node if the initial
location only finds a NaN value.</li>
<li><a class="reference internal" href="grdvector.html"><span class="doc">grdvector</span></a> can now take <strong>-Si</strong><em>scale</em> to give the reciprocal scale,
i.e., cm/ unit or km/unit.  Also, the vector heads in GMT have completely been overhauled
and includes geo-vector heads that follow great or small circles.</li>
<li><a class="reference internal" href="grdview.html"><span class="doc">grdview</span></a> will automatically assigns a color table if none is given and can use
any of the 36 GMT color tables and scale them to fit the grid range.</li>
<li><a class="reference internal" href="grdvolume.html"><span class="doc">grdvolume</span></a> can let <strong>-S</strong> accept more distance units than just km. It also
has a modified <strong>-T</strong>[<strong>c</strong>|<strong>h</strong>] for ORS estimates based on max
curvature or height. <strong>-Cr</strong> to compute the <em>outside</em> volume between two contours
(for instances, the volume of water from a bathymetry grid).</li>
<li><a class="reference internal" href="greenspline.html"><span class="doc">greenspline</span></a> has an improved <strong>-C</strong> option to control how many eigenvalues are used
in the fitting, and <strong>-Sl</strong> adds a linear (or bilinear) spline.</li>
<li><a class="reference internal" href="makecpt.html"><span class="doc">makecpt</span></a> has a new <strong>-F</strong> option to
specify output color representation, e.g., to output the CPT in
h-s-v format despite originally being given in r/g/b, and <strong>-G</strong> to
truncate incoming CPT to be limited to a given range.  It also adds <strong>Di</strong>
to match the bottom/top values in the input CPT.</li>
<li><a class="reference internal" href="mapproject.html"><span class="doc">mapproject</span></a> has a new <strong>-N</strong>
option to do geodetic/geocentric conversions; it combines with <strong>-I</strong>
for inverse conversions. Also, we have extended <strong>-A</strong> to accept
<strong>-A</strong><strong>o</strong>| <strong>O</strong> to compute line orientations (-90/90).
In <strong>-G</strong>, prepend - to the unit for (fast) flat Earth or + for (slow) geodesic calculations.</li>
<li><a class="reference internal" href="project.html"><span class="doc">project</span></a> has added <strong>-G</strong>…[+] so
if + is appended we get a segment header with information about the
pole for the circle. Optionally, append /<em>colat</em> in <strong>-G</strong> for a small circle path.</li>
<li><a class="reference internal" href="psconvert.html"><span class="doc">psconvert</span></a> has added a <strong>-TF</strong> option to create multi-page PDF files. There is
also modification to <strong>-A</strong> to add user-specified margins, and it automatically detects
if transparent elements have been included (and a detour via PDF might be needed).</li>
<li><a class="reference internal" href="psbasemap.html"><span class="doc">psbasemap</span></a> has added a <strong>-D</strong> option to place a map-insert box.</li>
<li><a class="reference internal" href="psclip.html"><span class="doc">psclip</span></a> has added an extended <strong>-C</strong> option to close different types of clip paths.</li>
<li><a class="reference internal" href="pscoast.html"><span class="doc">pscoast</span></a> has added a new option <strong>-E</strong> which lets users specify one or more countries
to paint, fill, extract, or use as plot domain (requires DCW to be installed).</li>
<li><a class="reference internal" href="pscontour.html"><span class="doc">pscontour</span></a> is now similar to <a class="reference internal" href="grdcontour.html"><span class="doc">grdcontour</span></a> in the options it
takes, e.g., <strong>-C</strong> in particular. In GMT 4, the program could only
read a CPT and not take a specific contour interval.</li>
<li><a class="reference internal" href="pshistogram.html"><span class="doc">pshistogram</span></a> now takes <strong>-D</strong> to place histogram count labels on top of each bar
and <strong>-N</strong> to draw the equivalent normal distributions.</li>
<li><a class="reference internal" href="pslegend.html"><span class="doc">pslegend</span></a> no longer uses system calls to do the plotting.  The modified <strong>-D</strong>
allows for minor offsets, while <strong>-F</strong> offers more control over the frame and fill.</li>
<li><a class="reference internal" href="psrose.html"><span class="doc">psrose</span></a> has added <strong>-Wv</strong><em>pen</em> to
specify pen for vector (specified in <strong>-C</strong>). Added <strong>-Zu</strong> to set all radii to
unity (i.e., for analysis of angles only).</li>
<li><a class="reference internal" href="psscale.html"><span class="doc">psscale</span></a> has a new option <strong>-T</strong> that paints a rectangle behind the color bar.
The <strong>+n</strong> modifier to <strong>-E</strong> draws a rectangle with NaN color and adds a label.
The <strong>-G</strong> option will truncate incoming CPT to be limited to the specified z-range.
Modification <strong>-Np</strong> indicates a preference to use polygons to draw the color bar.</li>
<li><a class="reference internal" href="pstext.html"><span class="doc">pstext</span></a> can take simplified input
via new option <strong>-F</strong> to set fixed font (including size), angle, and
justification. If these parameters are fixed for all the text strings
then the input can simply be <em>x y text</em>.  It also has enhanced <strong>-DJ</strong> option
to shorten diagonal offsets by <span class="math notranslate nohighlight">\(\sqrt{2}\)</span> to maintain the same
radial distance from point to annotation. Change all text to upper or
lower case with <strong>-Q</strong>.</li>
<li><a class="reference internal" href="psxy.html"><span class="doc">psxy</span></a> and <a class="reference internal" href="psxyz.html"><span class="doc">psxyz</span></a> both support the revised custom symbol macro
language which has been expanded considerably to allow for complicated,
multi-parameter symbols; see Chapter <a class="reference internal" href="#app-custom-symbols"><span class="std std-ref">Custom Plot Symbols</span></a>
for details. Finally, we allow the base for bars and columns optionally to be
read from data file by not specifying the base value.</li>
<li><a class="reference internal" href="sample1d.html"><span class="doc">sample1d</span></a> offers <strong>-A</strong> to control resampling of spatial curves (with <strong>-I</strong>).</li>
<li><a class="reference internal" href="spectrum1d.html"><span class="doc">spectrum1d</span></a> has added <strong>-L</strong> to control removal of trend, mean value or mid value.</li>
<li><a class="reference internal" href="surface.html"><span class="doc">surface</span></a> has added <strong>-r</strong> to create pixel-registered grids and knows about
periodicity in longitude (given <strong>-fg</strong>).  There is also <strong>-D</strong> to supply a “sort” break line.</li>
<li><a class="reference internal" href="triangulate.html"><span class="doc">triangulate</span></a> now offers <strong>-S</strong>
to write triangle polygons and can handle 2-column input if <strong>-Z</strong> is given.
Can also write triangle edges as line with <strong>-M</strong>.</li>
<li><a class="reference internal" href="xyz2grd.html"><span class="doc">xyz2grd</span></a> now also offers <strong>-Af</strong> (first value encountered),
<strong>-Am</strong> (mean, the default), <strong>-Ar</strong> (rms), and <strong>-As</strong> (last value encountered).</li>
</ul>
<p>Several supplements have new features as well:</p>
<ul class="simple">
<li><a class="reference internal" href="supplements/img/img2grd.html"><span class="doc">img2grd</span></a>
used to be a shell script but is now a C program and can be used on all platforms.</li>
<li><a class="reference internal" href="supplements/mgd77/mgd77convert.html"><span class="doc">mgd77convert</span></a>
added <strong>-C</strong> option to assemble *.mgd77 files from *.h77/*.a77 pairs.</li>
<li>The spotter programs can now read GPlates rotation files directly as well
as write this format. Also,
<a class="reference internal" href="supplements/spotter/rotconverter.html"><span class="doc">rotconverter</span></a> can extract plate
circuit rotations on-the-fly from the GPlates rotation file.</li>
</ul>
<p>Note: GMT 5 only produces <em>PostScript</em> and no longer has a setting for
Encapsulated <em>PostScript</em> (EPS). We made this decision since (a) our EPS determination
was always very approximate (no consideration of font metrics, etc.) and quite often wrong,
and (b) <a class="reference internal" href="psconvert.html"><span class="doc">psconvert</span></a> handles it exactly.  Hence, users who need EPS plots should
simply process their <em>PostScript</em> files via <a class="reference internal" href="psconvert.html"><span class="doc">psconvert</span></a>.</p>
</div>
<div class="section" id="command-line-completion">
<span id="id11"></span><h2>8.7. Command-line completion<a class="headerlink" href="#command-line-completion" title="Permalink to this headline">¶</a></h2>
<p>GMT provides basic command-line completion (tab completion) for bash.
The easiest way to use the feature is to install the
<a class="reference external" href="http://bash-completion.alioth.debian.org/">bash-completion</a> package
which is available in many operating system distributions.</p>
<p>Depending on the distribution, you may still need to source it from
<code class="docutils literal notranslate"><span class="pre">~/.bashrc</span></code>, e.g.:</p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span><span class="c1"># Use bash-completion, if available</span>
<span class="k">if</span> <span class="o">[</span> -r /usr/share/bash-completion/bash_completion <span class="o">]</span><span class="p">;</span> <span class="k">then</span>
  . /usr/share/bash-completion/bash_completion
<span class="k">fi</span>
</pre></div>
</div>
<p>When you install GMT from a distribution package, the completion rules
are installed in <code class="docutils literal notranslate"><span class="pre">/etc/bash_completion.d/gmt</span></code> and loaded automatically.
Custom GMT builds provide <code class="docutils literal notranslate"><span class="pre">&lt;prefix&gt;/share/tools/gmt_completion.bash</span></code>
which needs to be manually sourced from either <code class="docutils literal notranslate"><span class="pre">~/.bash_completion</span></code> or
<code class="docutils literal notranslate"><span class="pre">~/.bashrc</span></code>.</p>
<p>Mac users should note that bash-completion &gt;=2.0 requires bash &gt;=4.1.
However, OS X won’t ship anything that’s licensed under GPL version 3.
The last version of bash available under the GPLv2 is 3.2 from 2006.
It is recommended that <em>bash-completion</em> is installed together with
<em>bash</em> via <a class="reference external" href="http://www.macports.org/">MacPorts</a>,
<a class="reference external" href="http://finkproject.org/">Fink</a>, or <a class="reference external" href="http://brew.sh/">Homebrew</a>.
You then need to change the shell used by your terminal application.
The <a class="reference external" href="http://trac.macports.org/wiki/howto/bash-completion">bash-completion HOWTO from MacPorts</a>
explains how to change the preferences of Terminal.app and iTerm.app.
Another way is to change the default shell by editing of the user
database:</p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>Add /opt/local/bin/bash to /etc/shells
chsh -s /opt/local/bin/bash
</pre></div>
</div>
<p>Modify the path to bash, <code class="docutils literal notranslate"><span class="pre">/opt/local/bin/bash</span></code>, in the example above
accordingly.</p>
</div>
<div class="section" id="incompatibilities-between-gmt-5-and-gmt-4">
<h2>8.8. Incompatibilities between GMT 5 and GMT 4<a class="headerlink" href="#incompatibilities-between-gmt-5-and-gmt-4" title="Permalink to this headline">¶</a></h2>
<p>As features are added and bugs are discovered, it is occasionally
necessary to break the established syntax of a GMT program option, such as when
the intent of the option is non-unique due to a modifier key being the
same as a distance unit indicator. Other times we see a greatly improved
commonality across similar options by making minor adjustments. However,
we are aware that such changes may cause grief and trouble with
established scripts and the habits of many GMT users. To alleviate this
situation we have introduced a configuration that allows GMT to tolerate and process
obsolete program syntax (to the extent possible). To activate you must
make sure <a class="reference internal" href="gmt.conf.html#gmt-compatibility"><span class="std std-ref">GMT_COMPATIBILITY</span></a> is set to 4 in your gmt.conf file.
When not running in compatibility mode any obsolete syntax will be considered as
errors. We recommend that users with prior GMT 4 experience run
GMT 5 in compatibility mode, heed the warnings about obsolete syntax, and
correct their scripts or habits accordingly. When this transition has been
successfully navigated it is better to turn compatibility mode off and leave
the past behind. Occasionally, users will supply an ancient
GMT 3 syntax which may have worked in GMT 4 but is not honored in GMT 5.</p>
<p>Here are a list of known incompatibilities that are correctly processed
with a warning under compatibility mode:</p>
<ul class="simple">
<li>GMT <strong>default names</strong>: We have
organized the default parameters logically by group and renamed several to
be easier to remember and to group. Old and new names can be found in
Table <a class="reference internal" href="#tbl-obsoletedefs"><span class="std std-ref">obsolete</span></a>.
In addition, a few defaults are no longer recognized,
such as N_COPIES, PS_COPIES, DOTS_PR_INCH, GMT_CPTDIR, PS_DPI, and PS_EPS,
TRANSPARENCY. This also means the old common option <strong>-c</strong> for specifying
<em>PostScript</em> copies is no longer available.</li>
<li><strong>Units</strong>: The unit abbreviation for arc seconds is finally <strong>s</strong>
instead of <strong>c</strong>, with the same change for upper case in some clock
format statements.</li>
<li><strong>Contour labels</strong>: The modifiers <strong>+k</strong><em>fontcolor</em> and
<strong>+s</strong><em>fontsize</em> are obsolete, now being part of <strong>+f</strong><em>font</em>.</li>
<li><strong>Ellipsoids</strong>: Assigning <a class="reference internal" href="gmt.conf.html#proj-ellipsoid"><span class="std std-ref">PROJ_ELLIPSOID</span></a> a file name is
deprecated, use comma-separated parameters <span class="math notranslate nohighlight">\(a, f^{-1}\)</span> instead.</li>
<li><strong>Custom symbol macros:</strong> Circle macro symbol <strong>C</strong> is deprecated; use <strong>c</strong> instead.</li>
<li><strong>Map scale</strong>: Used by <a class="reference internal" href="psbasemap.html"><span class="doc">psbasemap</span></a>
and others. Here, the unit <strong>m</strong> is deprecated; use <strong>M</strong> for statute miles.</li>
<li><strong>3-D perspective</strong>: Some programs used a combination of <strong>-E</strong>,
<strong>-Z</strong> to set up a 3-D perspective view, but these options were not
universal. The new 3-D perspective in
GMT 5 means you instead use the
common option <strong>-p</strong> to configure the 3-D projection.</li>
<li><strong>Pixel vs. gridline registration:</strong> Some programs used to have a
local <strong>-F</strong> to turn on pixel registration; now this is a common
option <strong>-r</strong>.</li>
<li><strong>Table file headers</strong>: For consistency with other common i/o options
we now use <strong>-h</strong> instead of <strong>-H</strong>.</li>
<li><strong>Segment headers</strong>: These are now automatically detected and hence
there is no longer a <strong>-m</strong> (or the older <strong>-M</strong> option).</li>
<li><strong>Front symbol</strong>: The syntax for the front symbol has changed from
<strong>-Sf</strong><em>spacing/size</em>[<strong>+d</strong>][<strong>+t</strong>][:<em>offset</em>] to
<strong>-Sf</strong><em>spacing</em>[/<em>size</em>][<strong>+r+l</strong>][<strong>+f+t+s+c+b</strong>][<strong>+o</strong><em>offset</em>].</li>
<li><strong>Vector symbol</strong>: With the introduction of geo-vectors there are
three kinds of vectors that can be drawn: Cartesian (straight)
vectors with <strong>-Sv</strong> or <strong>-SV</strong>, geo-vectors (great circles) with
<strong>-S=</strong>, and circular vectors with <strong>-Sm</strong>. These are all composed of
a line (controlled by pen settings) and 0--2 arrow heads (control by
fill and outline settings). Many modifiers common to all arrows have
been introduced using the <strong>+key</strong>[<em>arg</em>] format. The <em>size</em> of a
vector refers to the length of its head; all other quantities are
given via modifiers (which have sensible default values). In
particular, giving size as <em>vectorwidth/headlength/headwidth</em> is
deprecated. See the <a class="reference internal" href="psxy.html"><span class="doc">psxy</span></a> man page for
a clear description of all modifiers.</li>
<li><a class="reference internal" href="blockmean.html"><span class="doc">blockmean</span></a>: The <strong>-S</strong> and <strong>-Sz</strong>
options are deprecated; use <strong>-Ss</strong> instead.</li>
<li><a class="reference internal" href="filter1d.html"><span class="doc">filter1d</span></a>: The <strong>-N</strong><em>ncol/tcol</em>
option is deprecated; use <strong>-N</strong><em>tcol</em> instead as we automatically
determine the number of columns in the file.</li>
<li><a class="reference internal" href="gmt2kml.html"><span class="doc">gmt2kml</span></a>: The <strong>-L</strong> option no longer expects column numbers,
just the column names.  This allows the extra columns to contain text
strings but means users have to supply the data columns in the order
specified by <strong>-L</strong>.</li>
<li><a class="reference internal" href="gmtconvert.html"><span class="doc">gmtconvert</span></a>: <strong>-F</strong> is
deprecated; use common option <strong>-o</strong> instead.</li>
<li><a class="reference internal" href="gmtdefaults.html"><span class="doc">gmtdefaults</span></a>: <strong>-L</strong> is
deprecated; this is now the default behavior.</li>
<li><a class="reference internal" href="gmtmath.html"><span class="doc">gmtmath</span></a>: <strong>-F</strong> is deprecated; use
common option <strong>-o</strong> instead.</li>
<li><a class="reference internal" href="gmtselect.html"><span class="doc">gmtselect</span></a>: <strong>-Cf</strong> is deprecated;
use common specification format <strong>-C-</strong> instead. Also,
<strong>-N</strong>…<strong>o</strong> is deprecated; use <strong>-E</strong> instead.</li>
<li><a class="reference internal" href="grd2xyz.html"><span class="doc">grd2xyz</span></a>: <strong>-E</strong> is deprecated as
the ESRI ASCII exchange format is now detected automatically.</li>
<li><a class="reference internal" href="grdcontour.html"><span class="doc">grdcontour</span></a>: <strong>-m</strong> is deprecated
as segment headers are handled automatically.</li>
<li><a class="reference internal" href="grdfft.html"><span class="doc">grdfft</span></a>: <strong>-M</strong> is deprecated; use
common option <strong>-fg</strong> instead.</li>
<li><a class="reference internal" href="grdgradient.html"><span class="doc">grdgradient</span></a>: <strong>-L</strong> is
deprecated; use common option <strong>-n</strong> instead. Also, <strong>-M</strong> is
deprecated; use common option <strong>-fg</strong> instead.</li>
<li><a class="reference internal" href="grdlandmask.html"><span class="doc">grdlandmask</span></a>: <strong>-N</strong>…<strong>o</strong>
is deprecated; use <strong>-E</strong> instead.</li>
<li><a class="reference internal" href="grdimage.html"><span class="doc">grdimage</span></a>: <strong>-S</strong> is deprecated;
use <strong>-n</strong><em>mode</em>[<strong>+a</strong>][<strong>+t</strong><em>threshold</em>] instead.</li>
<li><a class="reference internal" href="grdmath.html"><span class="doc">grdmath</span></a>: LDIST and PDIST now return
distances in spherical degrees; while in
GMT 4 it returned km; use
DEG2KM for conversion, if needed.</li>
<li><a class="reference internal" href="grdproject.html"><span class="doc">grdproject</span></a>: <strong>-S</strong> is
deprecated; use <strong>-n</strong><em>mode</em>[<strong>+a</strong>][<strong>+t</strong><em>threshold</em>]
instead. Also, <strong>-N</strong> is deprecated; use <strong>-D</strong> instead.</li>
<li><a class="reference internal" href="grdsample.html"><span class="doc">grdsample</span></a>: <strong>-Q</strong> is deprecated;
use <strong>-n</strong><em>mode</em>[<strong>+a</strong>][<strong>+t</strong><em>threshold</em>] instead. Also,
<strong>-L</strong> is deprecated; use common option <strong>-n</strong> instead, and
<strong>-N</strong><em>nx/ny</em> is deprecated; use <strong>-I</strong><em>nx+/ny+</em> instead.</li>
<li><a class="reference internal" href="grdtrack.html"><span class="doc">grdtrack</span></a>: <strong>-Q</strong> is deprecated;
use <strong>-n</strong><em>mode</em>[<strong>+a</strong>][<strong>+t</strong><em>threshold</em>] instead. Also,
<strong>-L</strong> is deprecated; use common option <strong>-n</strong> instead, and <strong>-S</strong> is
deprecated; use common option <strong>-sa</strong> instead.</li>
<li><a class="reference internal" href="grdvector.html"><span class="doc">grdvector</span></a>: <strong>-E</strong> is deprecated;
use the vector modifier <strong>+jc</strong> as well as the general vector
specifications discussed earlier.</li>
<li><a class="reference internal" href="grdview.html"><span class="doc">grdview</span></a>: <strong>-L</strong> is deprecated; use common option <strong>-n</strong> instead.</li>
<li><a class="reference internal" href="nearneighbor.html"><span class="doc">nearneighbor</span></a>: <strong>-L</strong> is
deprecated; use common option <strong>-n</strong> instead.</li>
<li><a class="reference internal" href="project.html"><span class="doc">project</span></a>: <strong>-D</strong> is deprecated; use <strong>-</strong><strong>-</strong><a class="reference internal" href="gmt.conf.html#format-geo-out"><span class="std std-ref">FORMAT_GEO_OUT</span></a> instead.</li>
<li><a class="reference internal" href="psbasemap.html"><span class="doc">psbasemap</span></a>: <strong>-G</strong> is deprecated;
specify canvas color via <strong>-B</strong> modifier <strong>+g</strong><em>color</em>.</li>
<li><a class="reference internal" href="pscoast.html"><span class="doc">pscoast</span></a>: <strong>-m</strong> is deprecated and
have reverted to <strong>-M</strong> for selecting data output instead of plotting.</li>
<li><a class="reference internal" href="pscontour.html"><span class="doc">pscontour</span></a>: <strong>-T</strong><em>indexfile</em> is deprecated; use <strong>-Q</strong><em>indexfile</em>.</li>
<li><a class="reference internal" href="pshistogram.html"><span class="doc">pshistogram</span></a>: <strong>-T</strong><em>col</em> is
deprecated; use common option <strong>-i</strong> instead.</li>
<li><a class="reference internal" href="pslegend.html"><span class="doc">pslegend</span></a>: Paragraph text header flag &gt; is deprecated; use P instead.</li>
<li><a class="reference internal" href="psmask.html"><span class="doc">psmask</span></a>: <strong>-D</strong>…<strong>+n</strong><em>min</em> is deprecated; use <strong>-Q</strong> instead.</li>
<li><a class="reference internal" href="psrose.html"><span class="doc">psrose</span></a>: Old vector specifications in
Option <strong>-M</strong> are deprecated; see new explanations.</li>
<li><a class="reference internal" href="pstext.html"><span class="doc">pstext</span></a>: <strong>-m</strong> is deprecated; use
<strong>-M</strong> to indicate paragraph mode. Also, <strong>-S</strong> is deprecated as
fonts attributes are now specified via the font itself.</li>
<li><a class="reference internal" href="pswiggle.html"><span class="doc">pswiggle</span></a>: <strong>-D</strong> is deprecated;
use common option <strong>-g</strong> to indicate data gaps. Also, <strong>-N</strong> is
deprecated as all fills are set via the <strong>-G</strong> option.</li>
<li><a class="reference internal" href="psxy.html"><span class="doc">psxy</span></a>: Old vector specifications in
Option <strong>-S</strong> are deprecated; see new explanations.</li>
<li><a class="reference internal" href="psxyz.html"><span class="doc">psxyz</span></a>: Old vector specifications in
Option <strong>-S</strong> are deprecated; see new explanations.</li>
<li><a class="reference internal" href="splitxyz.html"><span class="doc">splitxyz</span></a>: <strong>-G</strong> is deprecated;
use common option <strong>-g</strong> to indicate data gaps. Also, <strong>-M</strong> is
deprecated; use common option <strong>-fg</strong> instead.</li>
<li><a class="reference internal" href="triangulate.html"><span class="doc">triangulate</span></a>: <strong>-m</strong> is
deprecated; use <strong>-M</strong> to output triangle vertices.</li>
<li><a class="reference internal" href="xyz2grd.html"><span class="doc">xyz2grd</span></a>: <strong>-E</strong> is deprecated as
the ESRI ASCII exchange format is one of our recognized formats.
Also, <strong>-A</strong> (no arguments) is deprecated; use <strong>-Az</strong> instead.</li>
<li><a class="reference internal" href="grdraster.html"><span class="doc">grdraster</span></a>: Now in the main GMT core.  The
<strong>H</strong><em>skip</em> field in <code class="docutils literal notranslate"><span class="pre">grdraster.info</span></code> is no longer expected as we automatically
determine if a raster has a GMT header. Also, to output
<em>x,y,z</em> triplets instead of writing a grid now requires <strong>-T</strong>.</li>
<li><a class="reference internal" href="supplements/img/img2grd.html"><span class="doc">img2grd</span></a>: <strong>-m</strong><em>inc</em> is
deprecated; use <strong>-I</strong><em>inc</em> instead.</li>
<li><a class="reference internal" href="supplements/meca/psvelo.html"><span class="doc">psvelo</span></a>: Old vector
specifications are deprecated; see new explanations.</li>
<li><a class="reference internal" href="supplements/mgd77/mgd77convert.html"><span class="doc">mgd77convert</span></a>:
<strong>-4</strong> is deprecated; use <strong>-D</strong> instead.</li>
<li><a class="reference internal" href="supplements/mgd77/mgd77list.html"><span class="doc">mgd77list</span></a>: The unit
<strong>m</strong> is deprecated; use <strong>M</strong> for statute miles.</li>
<li><a class="reference internal" href="supplements/mgd77/mgd77manage.html"><span class="doc">mgd77manage</span></a>: The
unit <strong>m</strong> is deprecated; use <strong>M</strong> for statute miles. The <strong>-Q</strong> is
deprecated; use <strong>-n</strong><em>mode</em>[<strong>+a</strong>][<strong>+t</strong><em>threshold</em>] instead</li>
<li><a class="reference internal" href="supplements/mgd77/mgd77path.html"><span class="doc">mgd77path</span></a>: <strong>-P</strong> is
deprecated (clashes with
GMT common options); use <strong>-A</strong> instead.</li>
<li><a class="reference internal" href="supplements/spotter/backtracker.html"><span class="doc">backtracker</span></a>:
<strong>-C</strong> is deprecated as stage vs. finite rotations are detected
automatically.</li>
<li><a class="reference internal" href="supplements/spotter/grdrotater.html"><span class="doc">grdrotater</span></a>:
<strong>-C</strong> is deprecated as stage vs. finite rotations are detected
automatically. Also, <strong>-T</strong><em>lon/lat/angle</em> is now set via
<strong>-e</strong><em>lon/lat/angle</em>.</li>
<li><a class="reference internal" href="supplements/spotter/grdspotter.html"><span class="doc">grdspotter</span></a>:
<strong>-C</strong> is deprecated as stage vs. finite rotations are detected
automatically.</li>
<li><a class="reference internal" href="supplements/spotter/hotspotter.html"><span class="doc">hotspotter</span></a>: <strong>-C</strong>
is deprecated as stage vs. finite rotations are detected
automatically.</li>
<li><a class="reference internal" href="supplements/spotter/originator.html"><span class="doc">originator</span></a>:
<strong>-C</strong> is deprecated as stage vs. finite rotations are detected
automatically.</li>
<li><a class="reference internal" href="supplements/spotter/rotconverter.html"><span class="doc">rotconverter</span></a>:
<strong>-Ff</strong> selection is deprecated, use <strong>-Ft</strong> instead.</li>
<li><a class="reference internal" href="supplements/x2sys/x2sys_datalist.html"><span class="doc">x2sys_datalist</span></a>:
The unit <strong>m</strong> is deprecated; use <strong>M</strong> for statute miles.</li>
</ul>
<table border="1" class="docutils" id="tbl-obsoletedefs">
<colgroup>
<col width="45%" />
<col width="55%" />
</colgroup>
<thead valign="bottom">
<tr class="row-odd"><th class="head"><strong>Old Name</strong></th>
<th class="head"><strong>New Name</strong></th>
</tr>
</thead>
<tbody valign="top">
<tr class="row-even"><td><strong>ANNOT_FONT_PRIMARY</strong></td>
<td><strong>FONT_ANNOT_PRIMARY</strong></td>
</tr>
<tr class="row-odd"><td><strong>ANNOT_FONT_SECONDARY</strong></td>
<td><strong>FONT_ANNOT_SECONDARY</strong></td>
</tr>
<tr class="row-even"><td><strong>ANNOT_FONT_SIZE_PRIMARY</strong></td>
<td><strong>FONT_ANNOT_PRIMARY</strong></td>
</tr>
<tr class="row-odd"><td><strong>ANNOT_FONT_SIZE_SECONDARY</strong></td>
<td><strong>FONT_ANNOT_SECONDARY</strong></td>
</tr>
<tr class="row-even"><td><strong>ANNOT_MIN_ANGLE</strong></td>
<td><strong>MAP_ANNOT_MIN_SPACING</strong></td>
</tr>
<tr class="row-odd"><td><strong>ANNOT_OFFSET_PRIMARY</strong></td>
<td><strong>MAP_ANNOT_OFFSET_PRIMARY</strong></td>
</tr>
<tr class="row-even"><td><strong>ANNOT_OFFSET_SECONDARY</strong></td>
<td><strong>MAP_ANNOT_OFFSET_SECONDARY</strong></td>
</tr>
<tr class="row-odd"><td><strong>BASEMAP_AXES</strong></td>
<td><strong>MAP_FRAME_AXES</strong></td>
</tr>
<tr class="row-even"><td><strong>BASEMAP_FRAME_RGB</strong></td>
<td><strong>MAP_DEFAULT_PEN</strong></td>
</tr>
<tr class="row-odd"><td><strong>BASEMAP_TYPE</strong></td>
<td><strong>MAP_FRAME_TYPE</strong></td>
</tr>
<tr class="row-even"><td><strong>CHAR_ENCODING</strong></td>
<td><strong>PS_CHAR_ENCODING</strong></td>
</tr>
<tr class="row-odd"><td><strong>D_FORMAT</strong></td>
<td><strong>FORMAT_FLOAT_OUT</strong></td>
</tr>
<tr class="row-even"><td><strong>DEGREE_SYMBOL</strong></td>
<td><strong>MAP_DEGREE_SYMBOL</strong></td>
</tr>
<tr class="row-odd"><td><strong>ELLIPSOID</strong></td>
<td><strong>PROJ_ELLIPSOID</strong></td>
</tr>
<tr class="row-even"><td><strong>FIELD_DELIMITER</strong></td>
<td><strong>IO_COL_SEPARATOR</strong></td>
</tr>
<tr class="row-odd"><td><strong>FRAME_PEN</strong></td>
<td><strong>MAP_FRAME_PEN</strong></td>
</tr>
<tr class="row-even"><td><strong>FRAME_WIDTH</strong></td>
<td><strong>MAP_FRAME_WIDTH</strong></td>
</tr>
<tr class="row-odd"><td><strong>GLOBAL_X_SCALE</strong></td>
<td><strong>PS_SCALE_X</strong></td>
</tr>
<tr class="row-even"><td><strong>GLOBAL_Y_SCALE</strong></td>
<td><strong>PS_SCALE_Y</strong></td>
</tr>
<tr class="row-odd"><td><strong>GRID_CROSS_SIZE_PRIMARY</strong></td>
<td><strong>MAP_GRID_CROSS_SIZE_PRIMARY</strong></td>
</tr>
<tr class="row-even"><td><strong>GRID_CROSS_SIZE_SECONDARY</strong></td>
<td><strong>MAP_GRID_CROSS_SIZE_SECONDARY</strong></td>
</tr>
<tr class="row-odd"><td><strong>GRID_PEN_PRIMARY</strong></td>
<td><strong>MAP_GRID_PEN_PRIMARY</strong></td>
</tr>
<tr class="row-even"><td><strong>GRID_PEN_SECONDARY</strong></td>
<td><strong>MAP_GRID_PEN_SECONDARY</strong></td>
</tr>
<tr class="row-odd"><td><strong>GRIDFILE_FORMAT</strong></td>
<td><strong>IO_GRIDFILE_FORMAT</strong></td>
</tr>
<tr class="row-even"><td><strong>GRIDFILE_SHORTHAND</strong></td>
<td><strong>IO_GRIDFILE_SHORTHAND</strong></td>
</tr>
<tr class="row-odd"><td><strong>HEADER_FONT_SIZE</strong></td>
<td><strong>FONT_TITLE</strong></td>
</tr>
<tr class="row-even"><td><strong>HEADER_FONT</strong></td>
<td><strong>FONT_TITLE</strong></td>
</tr>
<tr class="row-odd"><td><strong>HEADER_OFFSET</strong></td>
<td><strong>MAP_TITLE_OFFSET</strong></td>
</tr>
<tr class="row-even"><td><strong>HISTORY</strong></td>
<td><strong>GMT_HISTORY</strong></td>
</tr>
<tr class="row-odd"><td><strong>HSV_MAX_SATURATION</strong></td>
<td><strong>COLOR_HSV_MAX_S</strong></td>
</tr>
<tr class="row-even"><td><strong>HSV_MAX_VALUE</strong></td>
<td><strong>COLOR_HSV_MAX_V</strong></td>
</tr>
<tr class="row-odd"><td><strong>HSV_MIN_SATURATION</strong></td>
<td><strong>COLOR_HSV_MIN_S</strong></td>
</tr>
<tr class="row-even"><td><strong>HSV_MIN_VALUE</strong></td>
<td><strong>COLOR_HSV_MIN_V</strong></td>
</tr>
<tr class="row-odd"><td><strong>INPUT_CLOCK_FORMAT</strong></td>
<td><strong>FORMAT_CLOCK_IN</strong></td>
</tr>
<tr class="row-even"><td><strong>INPUT_DATE_FORMAT</strong></td>
<td><strong>FORMAT_DATE_IN</strong></td>
</tr>
<tr class="row-odd"><td><strong>INTERPOLANT</strong></td>
<td><strong>GMT_INTERPOLANT</strong></td>
</tr>
<tr class="row-even"><td><strong>LABEL_FONT</strong></td>
<td><strong>FONT_LABEL</strong></td>
</tr>
<tr class="row-odd"><td><strong>LABEL_OFFSET</strong></td>
<td><strong>MAP_LABEL_OFFSET</strong></td>
</tr>
<tr class="row-even"><td><strong>LINE_STEP</strong></td>
<td><strong>MAP_LINE_STEP</strong></td>
</tr>
<tr class="row-odd"><td><strong>MAP_SCALE_FACTOR</strong></td>
<td><strong>PROJ_SCALE_FACTOR</strong></td>
</tr>
<tr class="row-even"><td><strong>MEASURE_UNIT</strong></td>
<td><strong>PROJ_LENGTH_UNIT</strong></td>
</tr>
<tr class="row-odd"><td><strong>NAN_RECORDS</strong></td>
<td><strong>IO_NAN_RECORDS</strong></td>
</tr>
<tr class="row-even"><td><strong>OBLIQUE_ANNOTATION</strong></td>
<td><strong>MAP_ANNOT_OBLIQUE</strong></td>
</tr>
<tr class="row-odd"><td><strong>OUTPUT_CLOCK_FORMAT</strong></td>
<td><strong>FORMAT_CLOCK_OUT</strong></td>
</tr>
<tr class="row-even"><td><strong>OUTPUT_DATE_FORMAT</strong></td>
<td><strong>FORMAT_DATE_OUT</strong></td>
</tr>
<tr class="row-odd"><td><strong>OUTPUT_DEGREE_FORMAT</strong></td>
<td><strong>FORMAT_GEO_OUT</strong></td>
</tr>
<tr class="row-even"><td><strong>PAGE_COLOR</strong></td>
<td><strong>PS_PAGE_COLOR</strong></td>
</tr>
<tr class="row-odd"><td><strong>PAGE_ORIENTATION</strong></td>
<td><strong>PS_PAGE_ORIENTATION</strong></td>
</tr>
<tr class="row-even"><td><strong>PAPER_MEDIA</strong></td>
<td><strong>PS_MEDIA</strong></td>
</tr>
<tr class="row-odd"><td><strong>PLOT_CLOCK_FORMAT</strong></td>
<td><strong>FORMAT_CLOCK_MAP</strong></td>
</tr>
<tr class="row-even"><td><strong>PLOT_DATE_FORMAT</strong></td>
<td><strong>FORMAT_DATE_MAP</strong></td>
</tr>
<tr class="row-odd"><td><strong>PLOT_DEGREE_FORMAT</strong></td>
<td><strong>FORMAT_GEO_MAP</strong></td>
</tr>
<tr class="row-even"><td><strong>POLAR_CAP</strong></td>
<td><strong>MAP_POLAR_CAP</strong></td>
</tr>
<tr class="row-odd"><td><strong>PS_COLOR</strong></td>
<td><strong>COLOR_HSV_MAX_V</strong></td>
</tr>
<tr class="row-even"><td><strong>TICK_LENGTH</strong></td>
<td><strong>MAP_TICK_LENGTH_PRIMARY|SECONDARY</strong></td>
</tr>
<tr class="row-odd"><td><strong>TICK_PEN</strong></td>
<td><strong>MAP_TICK_PEN_PRIMARY|SECONDARY</strong></td>
</tr>
<tr class="row-even"><td><strong>TIME_FORMAT_PRIMARY</strong></td>
<td><strong>FORMAT_TIME_PRIMARY_MAP</strong></td>
</tr>
<tr class="row-odd"><td><strong>TIME_FORMAT_SECONDARY</strong></td>
<td><strong>FORMAT_TIME_SECONDARY_MAP</strong></td>
</tr>
<tr class="row-even"><td><strong>UNIX_TIME_FORMAT</strong></td>
<td><strong>FORMAT_TIME_STAMP</strong></td>
</tr>
<tr class="row-odd"><td><strong>UNIX_TIME_POS</strong></td>
<td><strong>MAP_LOGO_POS</strong></td>
</tr>
<tr class="row-even"><td><strong>UNIX_TIME</strong></td>
<td><strong>MAP_LOGO</strong></td>
</tr>
<tr class="row-odd"><td><strong>VECTOR_SHAPE</strong></td>
<td><strong>MAP_VECTOR_SHAPE</strong></td>
</tr>
<tr class="row-even"><td><strong>VERBOSE</strong></td>
<td><strong>GMT_VERBOSE</strong></td>
</tr>
<tr class="row-odd"><td><strong>WANT_LEAP_SECONDS</strong></td>
<td><strong>TIME_LEAP_SECONDS</strong></td>
</tr>
<tr class="row-even"><td><strong>X_ORIGIN</strong></td>
<td><strong>MAP_ORIGIN_X</strong></td>
</tr>
<tr class="row-odd"><td><strong>XY_TOGGLE</strong></td>
<td><strong>IO_LONLAT_TOGGLE</strong></td>
</tr>
<tr class="row-even"><td><strong>Y_AXIS_TYPE</strong></td>
<td><strong>MAP_ANNOT_ORTHO</strong></td>
</tr>
<tr class="row-odd"><td><strong>Y_ORIGIN</strong></td>
<td><strong>MAP_ORIGIN_Y</strong></td>
</tr>
<tr class="row-even"><td><strong>Y2K_OFFSET_YEAR</strong></td>
<td><strong>TIME_Y2K_OFFSET_YEAR</strong></td>
</tr>
</tbody>
</table>
<p>Note: While <strong>TIME_LEAP_SECONDS</strong> is a recognized keyword it is
currently not implemented and has no effect.  We reserve the right
to enable this feature in the future.</p>
</div>
</div>
<div class="section" id="switching-between-different-gmt-versions">
<h1>9. Switching between different GMT versions<a class="headerlink" href="#switching-between-different-gmt-versions" title="Permalink to this headline">¶</a></h1>
<p>We encourage all GMT users to start using version 5 immediately; it
has been tested extensively by the GMT team and has benefitted from
bug reports for the 4.5.x versions. Users who still worry about the new
version breaking things may install GMT 4.5.x and 5 side by side.</p>
<p>Because GMT 5 is backwards compatible with the 4.5.x series
(provided you configured it that way) yet maintains its parameters and
history in separate files (e.g. <code class="docutils literal notranslate"><span class="pre">.gmtdefaults4</span></code>, versus <code class="docutils literal notranslate"><span class="pre">gmt.conf</span></code>)
it is possible to install and use both versions on the same workstation.
Switching between different GMT versions can be accomplished in several
ways, two of which will be addressed here:</p>
<ol class="arabic simple">
<li>By using the <a class="reference internal" href="gmtswitch.html"><span class="doc">gmtswitch</span></a> utility to select the current working version.
<strong>Pro:</strong> easy, interactive way to switch versions on the command line; works with
previous GMT syntax. <strong>Con:</strong> editing of shell startup files required; needs write
access in <code class="docutils literal notranslate"><span class="pre">$HOME</span></code>-directory; manual intervention necessary if symlink
<code class="docutils literal notranslate"><span class="pre">$HOME/this_gmt</span></code> is broken.</li>
<li>By using the recommended <code class="docutils literal notranslate"><span class="pre">gmt</span> <span class="pre">&lt;module&gt;</span></code>-syntax in conjunction with a shell
helper function that points to the desired GMT executable. <strong>Pro:</strong> no need to
create symlinks and edit shell startup files; scripts are more portable.
<strong>Con:</strong> different syntax required.</li>
</ol>
<div class="section" id="setup-of-gmtswitch">
<h2>9.1. Setup of gmtswitch<a class="headerlink" href="#setup-of-gmtswitch" title="Permalink to this headline">¶</a></h2>
<p>Run <a class="reference internal" href="gmtswitch.html"><span class="doc">gmtswitch</span></a> after you have finished installing all
GMT versions of interest. The first time you run <a class="reference internal" href="gmtswitch.html"><span class="doc">gmtswitch</span></a> it
will try to find all the available versions installed on your file
system. The versions found will be listed in the file <code class="docutils literal notranslate"><span class="pre">.gmtversions</span></code> in your home
directory; each line is the full path to a GMT root directory (e.g.,
/usr/local/GMT4.5.9). You may manually add or remove entries there at
any time. You are then instructed to make two changes to your
environment (the details are shell-dependent but explained by <a class="reference internal" href="gmtswitch.html"><span class="doc">gmtswitch</span></a>):</p>
<ol class="arabic simple">
<li><a class="reference internal" href="gmtswitch.html"><span class="doc">gmtswitch</span></a> creates and maintains a symbolic link <code class="docutils literal notranslate"><span class="pre">this_gmt</span></code> in your home
directory that will point to a directory with one of the installed
GMT versions.</li>
<li>Make sure <code class="docutils literal notranslate"><span class="pre">$HOME/this_gmt/bin</span></code> is in your executable PATH.</li>
</ol>
<p>Make those edits, logout, and login again. The next time you
run <a class="reference internal" href="gmtswitch.html"><span class="doc">gmtswitch</span></a> you will be able to switch between versions. Typing
<a class="reference internal" href="gmtswitch.html"><span class="doc">gmtswitch</span></a> with no argument will list the available versions in a
numerical menu and prompt you to choose one, whereas <a class="reference internal" href="gmtswitch.html"><span class="doc">gmtswitch</span></a>
<em>version</em> will immediately switch to that version (<em>version</em> must be a
piece of unique text making up the full path to a version, e.g., 4.5.9).
If you use <strong>bash</strong>, <strong>tcsh</strong>, or <strong>csh</strong> you may have to type <code class="docutils literal notranslate"><span class="pre">hash</span> <span class="pre">-r</span></code> or
<code class="docutils literal notranslate"><span class="pre">rehash</span></code> to initiate the path changes.</p>
<p>On Windows, the process is somewhat similar. The GMT bin directory has one batch file
<code class="docutils literal notranslate"><span class="pre">gmtswitch.bat</span></code> that works by changing the Windows PATH variable so that the BIN
directory of the preferred version always comes first. To do that the batch works in two
alternative modes.</p>
<ol class="arabic simple">
<li>Permanent mode</li>
<li>Temporary mode</li>
</ol>
<p>The permanent mode makes use of the free executable program <a class="reference external" href="http://www.softpedia.com/get/Tweak/Registry-Tweak/EditPath.shtml">EditPath</a>
to change the user path in the registry. It’s called permanent because the changes
remains until … next change.
Off course the editpath.exe binary must be in your system’s path as well.
WARNING: The path change will not be visible on the shell cmd where it was executed.
For the change to be active you will need to open a new cmd window.</p>
<p>The second mode is temporary because the path to the selected GMT binary dir is
prepended to previous path via a shell command line. This modification disappears
when the shell cmd window where it was executes is deleted.</p>
<p>For further details the user should read the entire help section at the header of the
<code class="docutils literal notranslate"><span class="pre">gmtswitch.bat</span></code>.</p>
<p>The <code class="docutils literal notranslate"><span class="pre">gmtswitch.bat</span></code> solution, however, has the drawback that the batch file must be located
elsewhere and in a directory that is on the user’s PATH, otherwise it won’t be located after
first use unless the other GMT bin directory has a similar batch file. A better solution is to install the
<a class="reference external" href="http://sourceforge.net/projects/console">Windows console enhancement</a>
that includes multiple tabs and configure the different tabs to start the different GMT versions.
All it takes is in the Tab setting to call a batch that modifies the PATH locally. That PATH
modifying batch will have a single line with something like:</p>
<blockquote>
<div><div class="highlight-bash notranslate"><div class="highlight"><pre><span></span><span class="nb">set</span> <span class="nv">path</span><span class="o">=</span>C:<span class="se">\p</span>rograms<span class="se">\g</span>mt5<span class="se">\b</span>in<span class="p">;</span>%PATH%
</pre></div>
</div>
</div></blockquote>
</div>
<div class="section" id="version-selection-with-helper-function">
<h2>9.2. Version selection with helper function<a class="headerlink" href="#version-selection-with-helper-function" title="Permalink to this headline">¶</a></h2>
<p>A shell function can be used as a wrapper around the gmt executable. This even
works when a gmt application is in the search PATH as it would shadow the real
command. This method can easily be applied on the command line or in scripts
when the recommended <code class="docutils literal notranslate"><span class="pre">gmt</span> <span class="pre">&lt;module&gt;</span></code>-syntax is used. Shell scripts using
old-style GMT commands would have to be converted first. The syntax conversion
can be accomplished with the <a class="reference internal" href="gmt5syntax.html"><span class="doc">gmt5syntax</span></a> utility. A suitable bash wrapper
function for GMT 5 would look like this:</p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span><span class="k">function</span> gmt<span class="o">()</span> <span class="o">{</span> /path/to/gmt5/bin/gmt <span class="s2">&quot;</span><span class="nv">$@</span><span class="s2">&quot;</span><span class="p">;</span> <span class="o">}</span>
<span class="nb">export</span> -f gmt
</pre></div>
</div>
<p>Exporting the function is necessary to make it available to subshells and
scripts. This wrapper function can be either set in your working shell or
inside a GMT shell script. The latter is useful to switch to a certain GMT
version on a per-script basis.</p>
<p>For GMT releases prior to GMT 5 which only provide the module commands,
we need a slightly modified version of the wrapper script:</p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span><span class="k">function</span> gmt<span class="o">()</span> <span class="o">{</span> <span class="nv">module</span><span class="o">=</span><span class="nv">$1</span><span class="p">;</span> shift<span class="p">;</span> /path/to/gmt4/bin/<span class="si">${</span><span class="nv">module</span><span class="si">}</span> <span class="s2">&quot;</span><span class="nv">$@</span><span class="s2">&quot;</span><span class="p">;</span> <span class="o">}</span>
<span class="nb">export</span> -f gmt
</pre></div>
</div>
<p>On the command line this might be too much typing to switch between
versions. So we might as well put everything together in a script file
<code class="docutils literal notranslate"><span class="pre">gmtfun</span></code>:</p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span><span class="k">case</span> <span class="nv">$1</span> in
  <span class="m">4</span><span class="o">)</span>
  <span class="k">function</span> gmt<span class="o">()</span> <span class="o">{</span>
    <span class="nv">module</span><span class="o">=</span><span class="nv">$1</span><span class="p">;</span> shift<span class="p">;</span> /path/to/gmt4/bin/<span class="si">${</span><span class="nv">module</span><span class="si">}</span> <span class="s2">&quot;</span><span class="nv">$@</span><span class="s2">&quot;</span>
  <span class="o">}</span>
  <span class="p">;;</span>
  <span class="m">5</span><span class="o">)</span>
  <span class="k">function</span> gmt<span class="o">()</span> <span class="o">{</span>
    /path/to/gmt5/bin/gmt <span class="s2">&quot;</span><span class="nv">$@</span><span class="s2">&quot;</span>
  <span class="o">}</span>
  <span class="p">;;</span>
  *<span class="o">)</span>
  <span class="k">return</span>
  <span class="p">;;</span>
<span class="k">esac</span>
<span class="nb">export</span> -f gmt
</pre></div>
</div>
<p>Source the file with either <code class="docutils literal notranslate"><span class="pre">.</span> <span class="pre">gmtfun</span> <span class="pre">4</span></code> or <code class="docutils literal notranslate"><span class="pre">.</span> <span class="pre">gmtfun</span> <span class="pre">5</span></code> to switch
between versions.</p>
</div>
</div>
<div class="section" id="introduction">
<h1>10. Introduction<a class="headerlink" href="#introduction" title="Permalink to this headline">¶</a></h1>
<p>Most scientists are familiar with the sequence: <em>raw data</em> →
<em>processing</em> → <em>final illustration</em>.
In order to finalize papers for submission to scientific journals,
prepare proposals, and create illustrations for various
presentations, many scientists spend large amounts of time and money to
create high-quality figures. This process can be tedious and is often
done manually, since available commercial or in-house software usually
can do only part of the job. To expedite this process we introduce the
Generic Mapping Tools (GMT for short), which is a free <a class="footnote-reference" href="#id62" id="id12">[2]</a> software
package that can be used to manipulate columns of tabular data,
time-series, and gridded data sets, and display these data in a variety
of forms ranging from simple <em>x</em>--<em>y</em> plots to maps and color-coded,
perspective, and shaded-relief illustrations. GMT uses the
<em>PostScript</em> page description language [<em>Adobe Systems Inc.</em>, 1990].
With <em>PostScript</em>, multiple plot files can easily be superimposed to
create arbitrarily complex images in gray tones or full color.
Line drawings, bitmapped images, and text can be easily combined in one
illustration. <em>PostScript</em> plot files are device-independent: The same
file can be printed at 300 dots per inch (dpi) on a cheap
printer or converted to a high-resolution PNG image for online usage.
GMT software is written as a set of UNIX tools <a class="footnote-reference" href="#id63" id="id13">[3]</a> and is
totally self-contained and fully documented. The system is offered free
of charge and is distributed over the Internet
[<em>Wessel and Smith, 1991; 1995; 1998</em>; <em>Wessel et al., 2013</em>].</p>
<p>The original version 1.0 of GMT was released in the summer of 1988
when the authors were graduate students at Lamont-Doherty Earth
Observatory of Columbia University. During our tenure as graduate
students, LDEO changed its computing environment to a distributed
network of UNIX workstations, and we wrote GMT to run in this
environment. It became a success at LDEO, and soon spread to numerous
other institutions in the US, Canada, Europe, and Japan. The current
version benefits from the many suggestions contributed by users of the
earlier versions, and now includes more than 100 tools, more than 30
projections, and many other new, more flexible features. GMT provides
scientists with a variety of tools for data manipulation and display,
including routines to sample, filter, compute spectral estimates, and
determine trends in time series, grid or triangulate arbitrarily spaced
data, perform mathematical operations (including filtering) on 2-D data
sets both in the space and frequency domain, sample surfaces along
arbitrary tracks or onto a new grid, calculate volumes, and find trend
surfaces. The plotting programs will let the user make linear,
log<span class="math notranslate nohighlight">\(_{10}\)</span>, and <span class="math notranslate nohighlight">\(x^a - y^b\)</span> diagrams, polar
and rectangular histograms, maps with filled continents and coastlines
choosing from many common map projections, contour plots, mesh plots,
monochrome or color images, and artificially illuminated shaded-relief
and 3-D perspective illustrations.</p>
<p>GMT is written in the highly portable ANSI C programming language
[<em>Kernighan and Ritchie</em>, 1988], is fully POSIX compliant [<em>Lewine</em>,
1991], and may be used with any hardware
running some flavor of UNIX. In
writing GMT, we have followed the modular design philosophy of UNIX:
The <em>raw data</em> → <em>processing</em> → <em>final illustration</em> flow is broken
down to a series of elementary steps; each
step is accomplished by a separate GMT or UNIX tool. This modular
approach brings several benefits: (1) only a few programs are needed,
(2) each program is small and easy to update and maintain, (3) each step
is independent of the previous step and the data type and can therefore
be used in a variety of applications, and (4) the programs can be
chained together in shell scripts or with pipes, thereby creating a
process tailored to do a user-specific task. The decoupling of the data
retrieval step from the subsequent massage and plotting is particularly
important, since each institution will typically have its own data base
formats. To use GMT with custom data bases, one has only to write a
data extraction tool which will put out data in a form readable by
GMT (discussed below). After writing the extractor, all other
GMT modules will work as they are.</p>
<p>GMT is thoroughly documented and comes with a technical reference and
cookbook which explains the purpose of the package and its many
features, and provides numerous examples to help new users quickly
become familiar with the operation and philosophy of the system. The
cookbook contains the shell scripts that were used for each example;
<em>PostScript</em> files of each illustration are also provided. All programs
have individual manual pages which can be installed as part of the
on-line documentation under the UNIX <strong>man</strong> utility or as web
pages. In addition, the programs offer friendly help messages which make
them essentially self-teaching -- if a user enters invalid or ambiguous
command arguments, the program will print a warning to the screen with a
synopsis of the valid arguments. All the documentation is available for
web browsing and may be installed at the user’s site.</p>
<p>The processing and display routines within GMT are completely general
and will handle any (<em>x,y</em>) or (<em>x,y,z</em>) data as input. For many
purposes the (<em>x,y</em>) coordinates will be (longitude, latitude) but in
most cases they could equally well be any other variables (e.g.,
wavelength, power spectral density). Since the GMT plot tools will
map these (<em>x,y</em>) coordinates to positions on a plot or map using a
variety of transformations (linear, log-log, and several map
projections), they can be used with any data that are given by two or
three coordinates. In order to simplify and standardize input and
output, by default GMT uses two file formats only. Arbitrary sequences of (<em>x,y</em>)
or (<em>x,y,z</em>) data are read from multi-column ASCII tables, i.e., each
file consists of several records, in which each coordinate is confined
to a separate column <a class="footnote-reference" href="#id64" id="id14">[5]</a>. This format is straightforward and allows the
user to perform almost any simple (or complicated) reformatting or
processing task using GMT processing tools (and in a pinch standard UNIX utilities such as <strong>cut</strong>,
<strong>paste</strong>, <strong>grep</strong>, <strong>sed</strong> and <strong>awk</strong>). Two-dimensional data
that have been sampled on an equidistant grid are read and written by
GMT in a binary grid file using the functions provided with the netCDF
library (a free, public-domain software library available separately
from UCAR, the University Corporation of Atmospheric Research [<em>Treinish
and Gough</em>, 1987]). This XDR (External Data Representation) based format
is architecture independent, which allows the user to transfer the
binary data files from one computer system to another <a class="footnote-reference" href="#id65" id="id15">[6]</a>.
GMT contains programs that will read ASCII (<em>x,y,z</em>) files and produce
grid files. One such program, <a class="reference internal" href="surface.html"><span class="doc">surface</span></a>,
includes new modifications to the gridding algorithm developed by <em>Smith
and Wessel</em> [1990] using continuous splines in tension. Optionally, GMT
can also read various binary and netCDF tables, as well as a variety of
grid formats, especially if built with GDAL support.</p>
<p>Most of the programs will produce some form of output, which falls into
four categories. Several of the programs may produce more than one of
these types of output:</p>
<ul class="simple">
<li>1-D ASCII Tables — For example, a (<em>x,y</em>) series may be
filtered and the filtered values output. ASCII output is written to
the standard output stream.</li>
<li>2-D binary (netCDF or user-defined) grid files -- Programs that grid
ASCII (<em>x,y,z</em>) data or operate on existing grid files produce
this type of output.</li>
<li><em>PostScript</em> -- The plotting programs all use the <em>PostScript</em> page
description language to define plots. These commands are stored as
ASCII text and can be edited should you want to customize the plot
beyond the options available in the programs themselves.</li>
<li>Reports -- Several GMT programs read input files and report
statistics and other information. Nearly all programs have an
optional “verbose” operation, which reports on the progress of
computation. All programs feature usage messages, which prompt the
user if incorrect commands have been given. Such text is written to
the standard error stream and can therefore be separated from ASCII
table output.</li>
</ul>
<p>GMT is available over the Internet at no charge. To obtain a copy,
goto GMT home page <a class="reference external" href="http://gmt.soest.hawaii.edu/">http://gmt.soest.hawaii.edu/</a> and follow instructions.
We also maintain user forums and a bug and feature tracking system on
the same page.</p>
<p>GMT has served a multitude of scientists very well, and their
responses have prompted us to develop these programs even further. It is
our hope that the new version will satisfy these users and attract new
users as well. We present this system to the community in order to
promote sharing of research software among investigators in the US and abroad.</p>
<div class="section" id="references">
<h2>10.1. References<a class="headerlink" href="#references" title="Permalink to this headline">¶</a></h2>
<ul class="simple">
<li>Adobe Systems Inc., <em>PostScript Language Reference Manual</em>, 2nd
edition, 764, Addison-Wesley, Reading, Massachusetts, 1990.</li>
<li>Kernighan, B. W., and D. M. Ritchie, <em>The C programming language</em>,
2nd edition, 272, Prentice-Hall, Englewood Cliffs, New Jersey, 1988.</li>
<li>Lewine, D., POSIX programmer’s guide, 1st edition, 607, O’Reilly &amp;
Associates, Sebastopol, California, 1991.</li>
<li>Treinish, L. A., and M. L. Gough, A software package for the
data-independent management of multidimensional data, <em>EOS Trans.
AGU</em>, 68(28), 633--635, 1987. <a class="reference external" href="http://dx.doi.org/10.1029/EO068i028p00633">doi:10.1029/EO068i028p00633</a>.</li>
</ul>
</div>
</div>
<div class="section" id="gmt-overview-and-quick-reference">
<h1>11. GMT Overview and Quick Reference<a class="headerlink" href="#gmt-overview-and-quick-reference" title="Permalink to this headline">¶</a></h1>
<div class="section" id="gmt-summary">
<h2>11.1. GMT summary<a class="headerlink" href="#gmt-summary" title="Permalink to this headline">¶</a></h2>
<p>The following is a summary of all the programs supplied with GMT and
a very short description of their purpose. For more details, see the
individual UNIX manual pages or the online web documentation. For a
listing sorted by program purpose, see Section <a class="reference internal" href="#gmt-quick-reference">GMT quick reference</a>.</p>
<table border="1" class="docutils">
<colgroup>
<col width="25%" />
<col width="75%" />
</colgroup>
<thead valign="bottom">
<tr class="row-odd"><th class="head">&#160;</th>
<th class="head">&#160;</th>
</tr>
</thead>
<tbody valign="top">
<tr class="row-even"><td><a class="reference internal" href="blockmean.html"><span class="doc">blockmean</span></a></td>
<td>L<span class="math notranslate nohighlight">\(_2\)</span> (<em>x</em>,<em>y</em>,<em>z</em>) table data filter/decimator</td>
</tr>
<tr class="row-odd"><td><a class="reference internal" href="blockmedian.html"><span class="doc">blockmedian</span></a></td>
<td>L<span class="math notranslate nohighlight">\(_1\)</span> (<em>x</em>,<em>y</em>,<em>z</em>) table data filter/decimator</td>
</tr>
<tr class="row-even"><td><a class="reference internal" href="blockmode.html"><span class="doc">blockmode</span></a></td>
<td>Mode estimate (<em>x</em>,<em>y</em>,<em>z</em>) table data filter/decimator</td>
</tr>
<tr class="row-odd"><td><a class="reference internal" href="filter1d.html"><span class="doc">filter1d</span></a></td>
<td>Time domain filtering of 1-D data tables</td>
</tr>
<tr class="row-even"><td><a class="reference internal" href="fitcircle.html"><span class="doc">fitcircle</span></a></td>
<td>Finds the best-fitting great or small circle for a set of points</td>
</tr>
<tr class="row-odd"><td><a class="reference internal" href="gmt2kml.html"><span class="doc">gmt2kml</span></a></td>
<td>Like <a class="reference internal" href="psxy.html"><span class="doc">psxy</span></a> but plots KML for use in Google Earth</td>
</tr>
<tr class="row-even"><td><a class="reference internal" href="gmtconnect.html"><span class="doc">gmtconnect</span></a></td>
<td>Connect segments into more complete lines or polygons</td>
</tr>
<tr class="row-odd"><td><a class="reference internal" href="gmtconvert.html"><span class="doc">gmtconvert</span></a></td>
<td>Convert data tables from one format to another</td>
</tr>
<tr class="row-even"><td><a class="reference internal" href="gmtdefaults.html"><span class="doc">gmtdefaults</span></a></td>
<td>List the current default settings</td>
</tr>
<tr class="row-odd"><td><a class="reference internal" href="gmtget.html"><span class="doc">gmtget</span></a></td>
<td>Retrieve selected parameters in current <code class="docutils literal notranslate"><span class="pre">gmt.conf</span></code> file</td>
</tr>
<tr class="row-even"><td><a class="reference internal" href="gmtinfo.html"><span class="doc">gmtinfo</span></a></td>
<td>Get information about table data files</td>
</tr>
<tr class="row-odd"><td><a class="reference internal" href="gmtlogo.html"><span class="doc">gmtlogo</span></a></td>
<td>Plot the GMT logo on maps</td>
</tr>
<tr class="row-even"><td><a class="reference internal" href="gmtmath.html"><span class="doc">gmtmath</span></a></td>
<td>Mathematical operations on table data</td>
</tr>
<tr class="row-odd"><td><a class="reference internal" href="gmtregress.html"><span class="doc">gmtregress</span></a></td>
<td>Linear regression of 1-D data sets</td>
</tr>
<tr class="row-even"><td><a class="reference internal" href="gmtselect.html"><span class="doc">gmtselect</span></a></td>
<td>Select subsets of table data based on multiple spatial criteria</td>
</tr>
<tr class="row-odd"><td><a class="reference internal" href="gmtset.html"><span class="doc">gmtset</span></a></td>
<td>Change selected parameters in current <code class="docutils literal notranslate"><span class="pre">gmt.conf</span></code> file</td>
</tr>
<tr class="row-even"><td><a class="reference internal" href="gmtsimplify.html"><span class="doc">gmtsimplify</span></a></td>
<td>Line reduction using the Douglas-Peucker algorithm</td>
</tr>
<tr class="row-odd"><td><a class="reference internal" href="gmtspatial.html"><span class="doc">gmtspatial</span></a></td>
<td>Geospatial operations on lines and polygons</td>
</tr>
<tr class="row-even"><td><a class="reference internal" href="gmtvector.html"><span class="doc">gmtvector</span></a></td>
<td>Operations on Cartesian vectors in 2-D and 3-D</td>
</tr>
<tr class="row-odd"><td><a class="reference internal" href="gmtwhich.html"><span class="doc">gmtwhich</span></a></td>
<td>Find full path to specified data files</td>
</tr>
<tr class="row-even"><td><a class="reference internal" href="grd2cpt.html"><span class="doc">grd2cpt</span></a></td>
<td>Make color palette table from a grid files</td>
</tr>
<tr class="row-odd"><td><a class="reference internal" href="grd2rgb.html"><span class="doc">grd2rgb</span></a></td>
<td>Convert Sun raster or grid file to red, green, blue component grids</td>
</tr>
<tr class="row-even"><td><a class="reference internal" href="grd2xyz.html"><span class="doc">grd2xyz</span></a></td>
<td>Conversion from 2-D grid file to table data</td>
</tr>
<tr class="row-odd"><td><a class="reference internal" href="grdblend.html"><span class="doc">grdblend</span></a></td>
<td>Blend several partially over-lapping grid files onto one grid</td>
</tr>
<tr class="row-even"><td><a class="reference internal" href="grdclip.html"><span class="doc">grdclip</span></a></td>
<td>Limit the <em>z</em>-range in gridded data sets</td>
</tr>
<tr class="row-odd"><td><a class="reference internal" href="grdcontour.html"><span class="doc">grdcontour</span></a></td>
<td>Contouring of 2-D gridded data sets</td>
</tr>
<tr class="row-even"><td><a class="reference internal" href="grdconvert.html"><span class="doc">grdconvert</span></a></td>
<td>Converts grid files into other grid formats</td>
</tr>
<tr class="row-odd"><td><a class="reference internal" href="grdcut.html"><span class="doc">grdcut</span></a></td>
<td>Cut a sub-region from a grid file</td>
</tr>
<tr class="row-even"><td><a class="reference internal" href="grdedit.html"><span class="doc">grdedit</span></a></td>
<td>Modify header information in a 2-D grid file</td>
</tr>
<tr class="row-odd"><td><a class="reference internal" href="grdfft.html"><span class="doc">grdfft</span></a></td>
<td>Perform operations on grid files in the frequency domain</td>
</tr>
<tr class="row-even"><td><a class="reference internal" href="grdfilter.html"><span class="doc">grdfilter</span></a></td>
<td>Filter 2-D gridded data sets in the space domain</td>
</tr>
<tr class="row-odd"><td><a class="reference internal" href="grdgradient.html"><span class="doc">grdgradient</span></a></td>
<td>Compute directional gradient from grid files</td>
</tr>
<tr class="row-even"><td><a class="reference internal" href="grdhisteq.html"><span class="doc">grdhisteq</span></a></td>
<td>Histogram equalization for grid files</td>
</tr>
<tr class="row-odd"><td><a class="reference internal" href="grdimage.html"><span class="doc">grdimage</span></a></td>
<td>Produce images from 2-D gridded data sets</td>
</tr>
<tr class="row-even"><td><a class="reference internal" href="grdinfo.html"><span class="doc">grdinfo</span></a></td>
<td>Get information about grid files</td>
</tr>
<tr class="row-odd"><td><a class="reference internal" href="grdlandmask.html"><span class="doc">grdlandmask</span></a></td>
<td>Create masking grid files from shoreline data base</td>
</tr>
<tr class="row-even"><td><a class="reference internal" href="grdmask.html"><span class="doc">grdmask</span></a></td>
<td>Reset grid nodes in/outside a clip path to constants</td>
</tr>
<tr class="row-odd"><td><a class="reference internal" href="grdmath.html"><span class="doc">grdmath</span></a></td>
<td>Mathematical operations on grid files</td>
</tr>
<tr class="row-even"><td><a class="reference internal" href="grdpaste.html"><span class="doc">grdpaste</span></a></td>
<td>Paste together grid files along a common edge</td>
</tr>
<tr class="row-odd"><td><a class="reference internal" href="grdproject.html"><span class="doc">grdproject</span></a></td>
<td>Project gridded data sets onto a new coordinate system</td>
</tr>
<tr class="row-even"><td><a class="reference internal" href="grdsample.html"><span class="doc">grdsample</span></a></td>
<td>Resample a 2-D gridded data set onto a new grid</td>
</tr>
<tr class="row-odd"><td><a class="reference internal" href="grdtrack.html"><span class="doc">grdtrack</span></a></td>
<td>Sampling of 2-D gridded data set(s) along 1-D track</td>
</tr>
<tr class="row-even"><td><a class="reference internal" href="grdtrend.html"><span class="doc">grdtrend</span></a></td>
<td>Fits polynomial trends to grid files</td>
</tr>
<tr class="row-odd"><td><a class="reference internal" href="grdvector.html"><span class="doc">grdvector</span></a></td>
<td>Plotting of 2-D gridded vector fields</td>
</tr>
<tr class="row-even"><td><a class="reference internal" href="grdview.html"><span class="doc">grdview</span></a></td>
<td>3-D perspective imaging of 2-D gridded data sets</td>
</tr>
<tr class="row-odd"><td><a class="reference internal" href="grdvolume.html"><span class="doc">grdvolume</span></a></td>
<td>Calculate volumes under a surface within specified contour</td>
</tr>
<tr class="row-even"><td><a class="reference internal" href="greenspline.html"><span class="doc">greenspline</span></a></td>
<td>Interpolation with Green’s functions for splines in 1--3 D</td>
</tr>
<tr class="row-odd"><td><a class="reference internal" href="kml2gmt.html"><span class="doc">kml2gmt</span></a></td>
<td>Extracts coordinates from Google Earth KML files</td>
</tr>
<tr class="row-even"><td><a class="reference internal" href="makecpt.html"><span class="doc">makecpt</span></a></td>
<td>Make color palette tables</td>
</tr>
<tr class="row-odd"><td><a class="reference internal" href="mapproject.html"><span class="doc">mapproject</span></a></td>
<td>Transformation of coordinate systems for table data</td>
</tr>
<tr class="row-even"><td><a class="reference internal" href="nearneighbor.html"><span class="doc">nearneighbor</span></a></td>
<td>Nearest-neighbor gridding scheme</td>
</tr>
<tr class="row-odd"><td><a class="reference internal" href="project.html"><span class="doc">project</span></a></td>
<td>Project table data onto lines or great circles</td>
</tr>
<tr class="row-even"><td><a class="reference internal" href="psbasemap.html"><span class="doc">psbasemap</span></a></td>
<td>Create a basemap plot</td>
</tr>
<tr class="row-odd"><td><a class="reference internal" href="psclip.html"><span class="doc">psclip</span></a></td>
<td>Use polygon files to define clipping paths</td>
</tr>
<tr class="row-even"><td><a class="reference internal" href="pscoast.html"><span class="doc">pscoast</span></a></td>
<td>Plot (and fill) coastlines, borders, and rivers on maps</td>
</tr>
<tr class="row-odd"><td><a class="reference internal" href="pscontour.html"><span class="doc">pscontour</span></a></td>
<td>Contour or image raw table data by triangulation</td>
</tr>
<tr class="row-even"><td><a class="reference internal" href="psconvert.html"><span class="doc">psconvert</span></a></td>
<td>Crop and convert PostScript files to raster images, EPS, and PDF</td>
</tr>
<tr class="row-odd"><td><a class="reference internal" href="pshistogram.html"><span class="doc">pshistogram</span></a></td>
<td>Plot a histogram</td>
</tr>
<tr class="row-even"><td><a class="reference internal" href="psimage.html"><span class="doc">psimage</span></a></td>
<td>Plot Sun raster files on a map</td>
</tr>
<tr class="row-odd"><td><a class="reference internal" href="pslegend.html"><span class="doc">pslegend</span></a></td>
<td>Plot a legend on a map</td>
</tr>
<tr class="row-even"><td><a class="reference internal" href="psmask.html"><span class="doc">psmask</span></a></td>
<td>Create overlay to mask out regions on maps</td>
</tr>
<tr class="row-odd"><td><a class="reference internal" href="psrose.html"><span class="doc">psrose</span></a></td>
<td>Plot sector or rose diagrams</td>
</tr>
<tr class="row-even"><td><a class="reference internal" href="psscale.html"><span class="doc">psscale</span></a></td>
<td>Plot gray scale or color scale on maps</td>
</tr>
<tr class="row-odd"><td><a class="reference internal" href="pstext.html"><span class="doc">pstext</span></a></td>
<td>Plot text strings on maps</td>
</tr>
<tr class="row-even"><td><a class="reference internal" href="pswiggle.html"><span class="doc">pswiggle</span></a></td>
<td>Draw table data time-series along track on maps</td>
</tr>
<tr class="row-odd"><td><a class="reference internal" href="psxy.html"><span class="doc">psxy</span></a></td>
<td>Plot symbols, polygons, and lines on maps</td>
</tr>
<tr class="row-even"><td><a class="reference internal" href="psxyz.html"><span class="doc">psxyz</span></a></td>
<td>Plot symbols, polygons, and lines in 3-D</td>
</tr>
<tr class="row-odd"><td><a class="reference internal" href="sample1d.html"><span class="doc">sample1d</span></a></td>
<td>Resampling of 1-D table data sets</td>
</tr>
<tr class="row-even"><td><a class="reference internal" href="spectrum1d.html"><span class="doc">spectrum1d</span></a></td>
<td>Compute various spectral estimates from time-series</td>
</tr>
<tr class="row-odd"><td><a class="reference internal" href="sph2grd.html"><span class="doc">sph2grd</span></a></td>
<td>Compute grid from spherical harmonic coefficients</td>
</tr>
<tr class="row-even"><td><a class="reference internal" href="sphdistance.html"><span class="doc">sphdistance</span></a></td>
<td>Create grid of NN or distances to nearest points on a sphere</td>
</tr>
<tr class="row-odd"><td><a class="reference internal" href="sphinterpolate.html"><span class="doc">sphinterpolate</span></a></td>
<td>Spherical gridding in tension of data on a sphere</td>
</tr>
<tr class="row-even"><td><a class="reference internal" href="sphtriangulate.html"><span class="doc">sphtriangulate</span></a></td>
<td>Delaunay or Voronoi construction of spherical lon,lat data</td>
</tr>
<tr class="row-odd"><td><a class="reference internal" href="splitxyz.html"><span class="doc">splitxyz</span></a></td>
<td>Split <em>xyz</em> files into several segments</td>
</tr>
<tr class="row-even"><td><a class="reference internal" href="surface.html"><span class="doc">surface</span></a></td>
<td>A continuous curvature gridding algorithm</td>
</tr>
<tr class="row-odd"><td><a class="reference internal" href="trend1d.html"><span class="doc">trend1d</span></a></td>
<td>Fits polynomial or Fourier trends to <span class="math notranslate nohighlight">\(y = f(x)\)</span> series</td>
</tr>
<tr class="row-even"><td><a class="reference internal" href="trend2d.html"><span class="doc">trend2d</span></a></td>
<td>Fits polynomial trends to <span class="math notranslate nohighlight">\(z = f(x,y)\)</span> series</td>
</tr>
<tr class="row-odd"><td><a class="reference internal" href="triangulate.html"><span class="doc">triangulate</span></a></td>
<td>Perform optimal Delauney triangulation and gridding</td>
</tr>
<tr class="row-even"><td><a class="reference internal" href="xyz2grd.html"><span class="doc">xyz2grd</span></a></td>
<td>Convert an equidistant table <em>xyz</em> file to a 2-D grid file</td>
</tr>
</tbody>
</table>
</div>
<div class="section" id="gmt-quick-reference">
<h2>11.2. GMT quick reference<a class="headerlink" href="#gmt-quick-reference" title="Permalink to this headline">¶</a></h2>
<p>Instead of an alphabetical listing, this section
contains a summary sorted by program purpose. Also included is a quick
summary of the standard command line options and a breakdown of the
<strong>-J</strong> option for each of the over 30 projections available in GMT.</p>
<table border="1" class="docutils">
<colgroup>
<col width="25%" />
<col width="75%" />
</colgroup>
<thead valign="bottom">
<tr class="row-odd"><th class="head">&#160;</th>
<th class="head"><em>Filtering of 1-D and 2-D Data</em></th>
</tr>
</thead>
<tbody valign="top">
<tr class="row-even"><td><a class="reference internal" href="blockmean.html"><span class="doc">blockmean</span></a></td>
<td>L<span class="math notranslate nohighlight">\(_2\)</span> (<em>x</em>,<em>y</em>,<em>z</em>) table data filter/decimator</td>
</tr>
<tr class="row-odd"><td><a class="reference internal" href="blockmedian.html"><span class="doc">blockmedian</span></a></td>
<td>L<span class="math notranslate nohighlight">\(_1\)</span> (<em>x</em>,<em>y</em>,<em>z</em>) table data filter/decimator</td>
</tr>
<tr class="row-even"><td><a class="reference internal" href="blockmode.html"><span class="doc">blockmode</span></a></td>
<td>Mode estimate (<em>x</em>,<em>y</em>,<em>z</em>) table data filter/decimator</td>
</tr>
<tr class="row-odd"><td><a class="reference internal" href="filter1d.html"><span class="doc">filter1d</span></a></td>
<td>Time domain filtering of 1-D data tables</td>
</tr>
<tr class="row-even"><td><a class="reference internal" href="grdfilter.html"><span class="doc">grdfilter</span></a></td>
<td>Filter 2-D gridded data sets in the space domain</td>
</tr>
<tr class="row-odd"><td>&#160;</td>
<td><strong>Plotting of 1-D and 2-D Data</strong></td>
</tr>
<tr class="row-even"><td><a class="reference internal" href="gmtlogo.html"><span class="doc">gmtlogo</span></a></td>
<td>Plot the GMT logo on maps</td>
</tr>
<tr class="row-odd"><td><a class="reference internal" href="grdcontour.html"><span class="doc">grdcontour</span></a></td>
<td>Contouring of 2-D gridded data sets</td>
</tr>
<tr class="row-even"><td><a class="reference internal" href="grdimage.html"><span class="doc">grdimage</span></a></td>
<td>Produce images from 2-D gridded data sets</td>
</tr>
<tr class="row-odd"><td><a class="reference internal" href="grdvector.html"><span class="doc">grdvector</span></a></td>
<td>Plotting of 2-D gridded vector fields</td>
</tr>
<tr class="row-even"><td><a class="reference internal" href="grdview.html"><span class="doc">grdview</span></a></td>
<td>3-D perspective imaging of 2-D gridded data sets</td>
</tr>
<tr class="row-odd"><td><a class="reference internal" href="psbasemap.html"><span class="doc">psbasemap</span></a></td>
<td>Create a basemap plot</td>
</tr>
<tr class="row-even"><td><a class="reference internal" href="psclip.html"><span class="doc">psclip</span></a></td>
<td>Use polygon files to define clipping paths</td>
</tr>
<tr class="row-odd"><td><a class="reference internal" href="pscoast.html"><span class="doc">pscoast</span></a></td>
<td>Plot (and fill) coastlines, borders, and rivers on maps</td>
</tr>
<tr class="row-even"><td><a class="reference internal" href="pscontour.html"><span class="doc">pscontour</span></a></td>
<td>Contour or image raw table data by triangulation</td>
</tr>
<tr class="row-odd"><td><a class="reference internal" href="pshistogram.html"><span class="doc">pshistogram</span></a></td>
<td>Plot a histogram</td>
</tr>
<tr class="row-even"><td><a class="reference internal" href="psimage.html"><span class="doc">psimage</span></a></td>
<td>Plot Sun raster files on a map</td>
</tr>
<tr class="row-odd"><td><a class="reference internal" href="pslegend.html"><span class="doc">pslegend</span></a></td>
<td>Plot a legend on a map</td>
</tr>
<tr class="row-even"><td><a class="reference internal" href="psmask.html"><span class="doc">psmask</span></a></td>
<td>Create overlay to mask out regions on maps</td>
</tr>
<tr class="row-odd"><td><a class="reference internal" href="psrose.html"><span class="doc">psrose</span></a></td>
<td>Plot sector or rose diagrams</td>
</tr>
<tr class="row-even"><td><a class="reference internal" href="psscale.html"><span class="doc">psscale</span></a></td>
<td>Plot gray scale or color scale on maps</td>
</tr>
<tr class="row-odd"><td><a class="reference internal" href="psternary.html"><span class="doc">psternary</span></a></td>
<td>Plot data on ternary diagrams</td>
</tr>
<tr class="row-even"><td><a class="reference internal" href="pstext.html"><span class="doc">pstext</span></a></td>
<td>Plot text strings on maps</td>
</tr>
<tr class="row-odd"><td><a class="reference internal" href="pswiggle.html"><span class="doc">pswiggle</span></a></td>
<td>Draw table data time-series along track on maps</td>
</tr>
<tr class="row-even"><td><a class="reference internal" href="psxy.html"><span class="doc">psxy</span></a></td>
<td>Plot symbols, polygons, and lines on maps</td>
</tr>
<tr class="row-odd"><td><a class="reference internal" href="psxyz.html"><span class="doc">psxyz</span></a></td>
<td>Plot symbols, polygons, and lines in 3-D</td>
</tr>
<tr class="row-even"><td>&#160;</td>
<td><strong>Gridding of Data Tables</strong></td>
</tr>
<tr class="row-odd"><td><a class="reference internal" href="greenspline.html"><span class="doc">greenspline</span></a></td>
<td>Interpolation with Green’s functions for splines in 1--3 D</td>
</tr>
<tr class="row-even"><td><a class="reference internal" href="nearneighbor.html"><span class="doc">nearneighbor</span></a></td>
<td>Nearest-neighbor gridding scheme</td>
</tr>
<tr class="row-odd"><td><a class="reference internal" href="sphinterpolate.html"><span class="doc">sphinterpolate</span></a></td>
<td>Spherical gridding in tension of data on a sphere</td>
</tr>
<tr class="row-even"><td><a class="reference internal" href="surface.html"><span class="doc">surface</span></a></td>
<td>A continuous curvature gridding algorithm</td>
</tr>
<tr class="row-odd"><td><a class="reference internal" href="triangulate.html"><span class="doc">triangulate</span></a></td>
<td>Perform optimal Delauney triangulation and gridding</td>
</tr>
<tr class="row-even"><td>&#160;</td>
<td><strong>Sampling of 1-D and 2-D Data</strong></td>
</tr>
<tr class="row-odd"><td><a class="reference internal" href="gmtsimplify.html"><span class="doc">gmtsimplify</span></a></td>
<td>Line reduction using the Douglas-Peucker algorithm</td>
</tr>
<tr class="row-even"><td><a class="reference internal" href="grdsample.html"><span class="doc">grdsample</span></a></td>
<td>Resample a 2-D gridded data set onto a new grid</td>
</tr>
<tr class="row-odd"><td><a class="reference internal" href="grdtrack.html"><span class="doc">grdtrack</span></a></td>
<td>Sample 2-D gridded data sets at specified (<em>x</em>,<em>y</em>) locations</td>
</tr>
<tr class="row-even"><td><a class="reference internal" href="sample1d.html"><span class="doc">sample1d</span></a></td>
<td>Resampling of 1-D table data sets</td>
</tr>
<tr class="row-odd"><td>&#160;</td>
<td><strong>Projection and Map-transformation</strong></td>
</tr>
<tr class="row-even"><td><a class="reference internal" href="grdproject.html"><span class="doc">grdproject</span></a></td>
<td>Project gridded data sets onto a new coordinate system</td>
</tr>
<tr class="row-odd"><td><a class="reference internal" href="mapproject.html"><span class="doc">mapproject</span></a></td>
<td>Transformation of coordinate systems for table data</td>
</tr>
<tr class="row-even"><td><a class="reference internal" href="project.html"><span class="doc">project</span></a></td>
<td>Project table data onto lines or great circles</td>
</tr>
<tr class="row-odd"><td>&#160;</td>
<td><strong>Retrieve Information</strong></td>
</tr>
<tr class="row-even"><td><a class="reference internal" href="gmtdefaults.html"><span class="doc">gmtdefaults</span></a></td>
<td>List the current default settings</td>
</tr>
<tr class="row-odd"><td><a class="reference internal" href="gmtget.html"><span class="doc">gmtget</span></a></td>
<td>Retrieve selected parameters in current file</td>
</tr>
<tr class="row-even"><td><a class="reference internal" href="gmtinfo.html"><span class="doc">gmtinfo</span></a></td>
<td>Get information about table data files</td>
</tr>
<tr class="row-odd"><td><a class="reference internal" href="gmtset.html"><span class="doc">gmtset</span></a></td>
<td>Change selected parameters in current file</td>
</tr>
<tr class="row-even"><td><a class="reference internal" href="grdinfo.html"><span class="doc">grdinfo</span></a></td>
<td>Get information about grid files</td>
</tr>
<tr class="row-odd"><td>&#160;</td>
<td><strong>Mathematical Operations on Tables or Grids</strong></td>
</tr>
<tr class="row-even"><td><a class="reference internal" href="gmtmath.html"><span class="doc">gmtmath</span></a></td>
<td>Mathematical operations on table data</td>
</tr>
<tr class="row-odd"><td><a class="reference internal" href="makecpt.html"><span class="doc">makecpt</span></a></td>
<td>Make color palette tables</td>
</tr>
<tr class="row-even"><td><a class="reference internal" href="spectrum1d.html"><span class="doc">spectrum1d</span></a></td>
<td>Compute various spectral estimates from time-series</td>
</tr>
<tr class="row-odd"><td><a class="reference internal" href="sph2grd.html"><span class="doc">sph2grd</span></a></td>
<td>Compute grid from spherical harmonic coefficients</td>
</tr>
<tr class="row-even"><td><a class="reference internal" href="sphdistance.html"><span class="doc">sphdistance</span></a></td>
<td>Create grid of NN or distances to nearest points on a sphere</td>
</tr>
<tr class="row-odd"><td><a class="reference internal" href="sphtriangulate.html"><span class="doc">sphtriangulate</span></a></td>
<td>Delaunay or Voronoi construction of spherical (<em>lon</em>,<em>lat</em>) data</td>
</tr>
<tr class="row-even"><td>&#160;</td>
<td><strong>Convert or Extract Subsets of Data</strong></td>
</tr>
<tr class="row-odd"><td><a class="reference internal" href="gmtconnect.html"><span class="doc">gmtconnect</span></a></td>
<td>Connect segments into more complete lines or polygons</td>
</tr>
<tr class="row-even"><td><a class="reference internal" href="gmtconvert.html"><span class="doc">gmtconvert</span></a></td>
<td>Convert data tables from one format to another</td>
</tr>
<tr class="row-odd"><td><a class="reference internal" href="gmtselect.html"><span class="doc">gmtselect</span></a></td>
<td>Select subsets of table data based on multiple spatial criteria</td>
</tr>
<tr class="row-even"><td><a class="reference internal" href="gmtspatial.html"><span class="doc">gmtspatial</span></a></td>
<td>Geospatial operations on lines and polygons</td>
</tr>
<tr class="row-odd"><td><a class="reference internal" href="gmtvector.html"><span class="doc">gmtvector</span></a></td>
<td>Operations on Cartesian vectors in 2-D and 3-D</td>
</tr>
<tr class="row-even"><td><a class="reference internal" href="grd2rgb.html"><span class="doc">grd2rgb</span></a></td>
<td>Convert Sun raster or grid file to red, green, blue component grids</td>
</tr>
<tr class="row-odd"><td><a class="reference internal" href="grd2xyz.html"><span class="doc">grd2xyz</span></a></td>
<td>Conversion from 2-D grid file to table data</td>
</tr>
<tr class="row-even"><td><a class="reference internal" href="grdblend.html"><span class="doc">grdblend</span></a></td>
<td>Blend several partially over-lapping grid files onto one grid</td>
</tr>
<tr class="row-odd"><td><a class="reference internal" href="grdconvert.html"><span class="doc">grdconvert</span></a></td>
<td>Converts grid files into other grid formats</td>
</tr>
<tr class="row-even"><td><a class="reference internal" href="grdcut.html"><span class="doc">grdcut</span></a></td>
<td>Cut a sub-region from a grid file</td>
</tr>
<tr class="row-odd"><td><a class="reference internal" href="grdpaste.html"><span class="doc">grdpaste</span></a></td>
<td>Paste together grid files along a common edge</td>
</tr>
<tr class="row-even"><td><a class="reference internal" href="splitxyz.html"><span class="doc">splitxyz</span></a></td>
<td>Split <em>xyz</em> files into several segments</td>
</tr>
<tr class="row-odd"><td><a class="reference internal" href="xyz2grd.html"><span class="doc">xyz2grd</span></a></td>
<td>Convert an equidistant table <em>xyz</em> file to a 2-D grid file</td>
</tr>
<tr class="row-even"><td>&#160;</td>
<td><strong>Determine Trends in 1-D and 2-D Data</strong></td>
</tr>
<tr class="row-odd"><td><a class="reference internal" href="fitcircle.html"><span class="doc">fitcircle</span></a></td>
<td>Finds the best-fitting great or small circle for a set of points</td>
</tr>
<tr class="row-even"><td><a class="reference internal" href="gmtregress.html"><span class="doc">gmtregress</span></a></td>
<td>Linear regression of 1-D data sets</td>
</tr>
<tr class="row-odd"><td><a class="reference internal" href="grdtrack.html"><span class="doc">grdtrack</span></a></td>
<td>Sample 2-D gridded data sets at specified (<em>x</em>,<em>y</em>) locations</td>
</tr>
<tr class="row-even"><td><a class="reference internal" href="trend1d.html"><span class="doc">trend1d</span></a></td>
<td>Fits polynomial or Fourier trends to <span class="math notranslate nohighlight">\(y = f(x)\)</span> series</td>
</tr>
<tr class="row-odd"><td><a class="reference internal" href="trend2d.html"><span class="doc">trend2d</span></a></td>
<td>Fits polynomial trends to <span class="math notranslate nohighlight">\(z = f(x,y)\)</span> series</td>
</tr>
<tr class="row-even"><td>&#160;</td>
<td><strong>Other Operations on 2-D Grids</strong></td>
</tr>
<tr class="row-odd"><td><a class="reference internal" href="grd2cpt.html"><span class="doc">grd2cpt</span></a></td>
<td>Make color palette table from a grid files</td>
</tr>
<tr class="row-even"><td><a class="reference internal" href="grdclip.html"><span class="doc">grdclip</span></a></td>
<td>Limit the <em>z</em>-range in gridded data sets</td>
</tr>
<tr class="row-odd"><td><a class="reference internal" href="grdedit.html"><span class="doc">grdedit</span></a></td>
<td>Modify header information in a 2-D grid file</td>
</tr>
<tr class="row-even"><td><a class="reference internal" href="grdfft.html"><span class="doc">grdfft</span></a></td>
<td>Perform operations on grid files in the frequency domain</td>
</tr>
<tr class="row-odd"><td><a class="reference internal" href="grdgradient.html"><span class="doc">grdgradient</span></a></td>
<td>Compute directional gradient from grid files</td>
</tr>
<tr class="row-even"><td><a class="reference internal" href="grdhisteq.html"><span class="doc">grdhisteq</span></a></td>
<td>Histogram equalization for grid files</td>
</tr>
<tr class="row-odd"><td><a class="reference internal" href="grdlandmask.html"><span class="doc">grdlandmask</span></a></td>
<td>Create masking grid files from shoreline data base</td>
</tr>
<tr class="row-even"><td><a class="reference internal" href="grdmask.html"><span class="doc">grdmask</span></a></td>
<td>Reset grid nodes in/outside a clip path to constants</td>
</tr>
<tr class="row-odd"><td><a class="reference internal" href="grdmath.html"><span class="doc">grdmath</span></a></td>
<td>Mathematical operations on grid files</td>
</tr>
<tr class="row-even"><td><a class="reference internal" href="grdvolume.html"><span class="doc">grdvolume</span></a></td>
<td>Calculate volumes under a surface within specified contour</td>
</tr>
<tr class="row-odd"><td>&#160;</td>
<td><strong>Miscellaneous Tools</strong></td>
</tr>
<tr class="row-even"><td><a class="reference internal" href="gmt2kml.html"><span class="doc">gmt2kml</span></a></td>
<td>Like <a class="reference internal" href="psxy.html"><span class="doc">psxy</span></a> but plots KML for use in Google Earth</td>
</tr>
<tr class="row-odd"><td><a class="reference internal" href="kml2gmt.html"><span class="doc">kml2gmt</span></a></td>
<td>Extracts coordinates from Google Earth KML files</td>
</tr>
<tr class="row-even"><td><a class="reference internal" href="psconvert.html"><span class="doc">psconvert</span></a></td>
<td>Crop and convert PostScript files to raster images, EPS, and PDF</td>
</tr>
</tbody>
</table>
<p>GMT offers 31 map projections. These are specified using the <strong>-J</strong>
common option. There are two conventions you may use: (a) GMT-style
syntax and (b) <strong>Proj4</strong>-style syntax. The projection codes for the
GMT-style are tabulated below.</p>
<table border="1" class="docutils">
<colgroup>
<col width="49%" />
<col width="51%" />
</colgroup>
<thead valign="bottom">
<tr class="row-odd"><th class="head" colspan="2"><strong>WITH GMT PROJECTION CODES</strong></th>
</tr>
</thead>
<tbody valign="top">
<tr class="row-even"><td colspan="2"><strong>-J</strong> (upper case for <em>width</em>, lower case for <em>scale</em>) Map projection</td>
</tr>
<tr class="row-odd"><td><strong>-JA</strong>lon<sub>0</sub>/lat<sub>0</sub>[/<em>horizon</em>]/<em>width</em></td>
<td>Lambert azimuthal equal area <a class="reference internal" href="gmt.html#ja-full"><span class="std std-ref">…</span></a></td>
</tr>
<tr class="row-even"><td><strong>-JB</strong>lon<sub>0</sub>/lat<sub>0</sub>/lat<sub>1</sub>/lat<sub>2</sub><em>width</em></td>
<td>Albers conic equal area <a class="reference internal" href="gmt.html#jb-full"><span class="std std-ref">…</span></a></td>
</tr>
<tr class="row-odd"><td><strong>-JC</strong>lon<sub>0</sub>/lat<sub>0</sub><em>width</em></td>
<td>Cassini cylindrical <a class="reference internal" href="gmt.html#jc-full"><span class="std std-ref">…</span></a></td>
</tr>
<tr class="row-even"><td><strong>-JCyl_stere/</strong>[lon<sub>0</sub>[/lat<sub>0</sub>/]]<em>width</em></td>
<td>Cylindrical stereographic <a class="reference internal" href="gmt.html#jcyl-stere-full"><span class="std std-ref">…</span></a></td>
</tr>
<tr class="row-odd"><td><strong>-JD</strong>lon<sub>0</sub>/lat<sub>0</sub>/lat<sub>1</sub>/lat<sub>2</sub><em>width</em></td>
<td>Equidistant conic <a class="reference internal" href="gmt.html#jd-full"><span class="std std-ref">…</span></a></td>
</tr>
<tr class="row-even"><td><strong>-JE</strong>lon<sub>0</sub>/lat<sub>0</sub>[/<em>horizon</em>]/<em>width</em></td>
<td>Azimuthal equidistant <a class="reference internal" href="gmt.html#je-full"><span class="std std-ref">…</span></a></td>
</tr>
<tr class="row-odd"><td><strong>-JF</strong>lon<sub>0</sub>/lat<sub>0</sub>[/<em>horizon</em>]/<em>width</em></td>
<td>Azimuthal gnomonic <a class="reference internal" href="gmt.html#jf-full"><span class="std std-ref">…</span></a></td>
</tr>
<tr class="row-even"><td><strong>-JG</strong>lon<sub>0</sub>/lat<sub>0</sub>[/<em>horizon</em>]/<em>width</em></td>
<td>Azimuthal orthographic <a class="reference internal" href="gmt.html#jg-full"><span class="std std-ref">…</span></a></td>
</tr>
<tr class="row-odd"><td><strong>-JG</strong>lon<sub>0</sub>/lat<sub>0</sub><em>alt</em>/<em>azim</em>/<em>tilt</em>/<em>twist</em>/<em>W</em>/<em>H/width</em></td>
<td>General perspective <a class="reference internal" href="gmt.html#jg-full"><span class="std std-ref">…</span></a></td>
</tr>
<tr class="row-even"><td><strong>-JH</strong>[lon<sub>0</sub>/]<em>width</em></td>
<td>Hammer equal area <a class="reference internal" href="gmt.html#jh-full"><span class="std std-ref">…</span></a></td>
</tr>
<tr class="row-odd"><td><strong>-JI</strong>[lon<sub>0</sub>/]<em>width</em></td>
<td>Sinusoidal equal area <a class="reference internal" href="gmt.html#ji-full"><span class="std std-ref">…</span></a></td>
</tr>
<tr class="row-even"><td><strong>-JJ</strong>[lon<sub>0</sub>/]<em>width</em></td>
<td>Miller cylindrical <a class="reference internal" href="gmt.html#jj-full"><span class="std std-ref">…</span></a></td>
</tr>
<tr class="row-odd"><td><strong>-JKf</strong>[lon<sub>0</sub>/]<em>width</em></td>
<td>Eckert IV equal area <a class="reference internal" href="gmt.html#jk-full"><span class="std std-ref">…</span></a></td>
</tr>
<tr class="row-even"><td><strong>-JKs</strong>[lon<sub>0</sub>/]<em>width</em></td>
<td>Eckert VI equal area <a class="reference internal" href="gmt.html#jk-full"><span class="std std-ref">…</span></a></td>
</tr>
<tr class="row-odd"><td><strong>-JL</strong>lon<sub>0</sub>/lat<sub>0</sub>/lat<sub>1</sub>/lat<sub>2</sub><em>width</em></td>
<td>Lambert conic conformal <a class="reference internal" href="gmt.html#jl-full"><span class="std std-ref">…</span></a></td>
</tr>
<tr class="row-even"><td><strong>-JM</strong>[lon<sub>0</sub>[/lat<sub>0</sub>/]]<em>width</em></td>
<td>Mercator cylindrical <a class="reference internal" href="gmt.html#jm-full"><span class="std std-ref">…</span></a></td>
</tr>
<tr class="row-odd"><td><strong>-JN</strong>[lon<sub>0</sub>/]<em>width</em></td>
<td>Robinson <a class="reference internal" href="gmt.html#jn-full"><span class="std std-ref">…</span></a></td>
</tr>
<tr class="row-even"><td><strong>-JOa</strong>lon<sub>0</sub>/lat<sub>0</sub><em>azim</em>/<em>width</em></td>
<td>Oblique Mercator, 1: origin and azim   <a class="reference internal" href="gmt.html#jo-full"><span class="std std-ref">…</span></a></td>
</tr>
<tr class="row-odd"><td><strong>-JOb</strong>lon<sub>0</sub>/lat<sub>0</sub>/lon<sub>1</sub>/lat<sub>1</sub><em>width</em></td>
<td>Oblique Mercator, 2: two points <a class="reference internal" href="gmt.html#jo-full"><span class="std std-ref">…</span></a></td>
</tr>
<tr class="row-even"><td><strong>-JOc</strong>lon<sub>0</sub>/lat<sub>0</sub>/lon<sub>p</sub>/lat<sub>p</sub><em>width</em></td>
<td>Oblique Mercator, 3: origin and pole <a class="reference internal" href="gmt.html#jo-full"><span class="std std-ref">…</span></a></td>
</tr>
<tr class="row-odd"><td><strong>-JP</strong>[<strong>a</strong>]<em>width</em>[/<em>origin</em>]</td>
<td>Polar [azimuthal] (<span class="math notranslate nohighlight">\(\theta, r\)</span>) (or cylindrical)</td>
</tr>
<tr class="row-even"><td><strong>-JPoly</strong>[lon<sub>0</sub>[/lat<sub>0</sub>/]]<em>width</em></td>
<td>(American) polyconic <a class="reference internal" href="gmt.html#jpoly-full"><span class="std std-ref">…</span></a></td>
</tr>
<tr class="row-odd"><td><strong>-JQ</strong>[lon<sub>0</sub>[/lat<sub>0</sub>/]]<em>width</em></td>
<td>Equidistant cylindrical <a class="reference internal" href="gmt.html#jq-full"><span class="std std-ref">…</span></a></td>
</tr>
<tr class="row-even"><td><strong>-JR</strong>[lon<sub>0</sub>/]<em>width</em></td>
<td>Winkel Tripel <a class="reference internal" href="gmt.html#jr-full"><span class="std std-ref">…</span></a></td>
</tr>
<tr class="row-odd"><td><strong>-JS</strong>lon<sub>0</sub>/lat<sub>0</sub>[/<em>horizon</em>]/<em>width</em></td>
<td>General stereographic <a class="reference internal" href="gmt.html#js-full"><span class="std std-ref">…</span></a></td>
</tr>
<tr class="row-even"><td><strong>-JT</strong>[lon<sub>0</sub>[/lat<sub>0</sub>/]]<em>width</em></td>
<td>Transverse Mercator <a class="reference internal" href="gmt.html#jt-full"><span class="std std-ref">…</span></a></td>
</tr>
<tr class="row-odd"><td><strong>-JU</strong><em>zone</em>/<em>width</em></td>
<td>Universal Transverse Mercator (UTM) <a class="reference internal" href="gmt.html#ju-full"><span class="std std-ref">…</span></a></td>
</tr>
<tr class="row-even"><td><strong>-JV</strong>[lon<sub>0</sub>/]<em>width</em></td>
<td>Van der Grinten <a class="reference internal" href="gmt.html#jv-full"><span class="std std-ref">…</span></a></td>
</tr>
<tr class="row-odd"><td><strong>-JW</strong>[lon<sub>0</sub>/]<em>width</em></td>
<td>Mollweide <a class="reference internal" href="gmt.html#jw-full"><span class="std std-ref">…</span></a></td>
</tr>
<tr class="row-even"><td><strong>-JX</strong><em>width</em>[<strong>l</strong>|<strong>p</strong><em>exp</em>|<strong>T</strong>|<strong>t</strong>][/<em>height</em>[<strong>l</strong>|<strong>p</strong><em>exp</em>|<strong>T</strong>|<strong>t</strong>]][<strong>d</strong>]</td>
<td>Linear, log<span class="math notranslate nohighlight">\(_{10}\)</span>, <span class="math notranslate nohighlight">\(x^a-y^b\)</span>, and time</td>
</tr>
<tr class="row-odd"><td><strong>-JY</strong>lon<sub>0</sub>/lat<sub>0</sub><em>width</em></td>
<td>Cylindrical equal area <a class="reference internal" href="gmt.html#jy-full"><span class="std std-ref">…</span></a></td>
</tr>
</tbody>
</table>
<p>The projection codes for the <strong>Proj4</strong>-style are tabulated below;
these all accept a map <em>scale</em>.</p>
<table border="1" class="docutils">
<colgroup>
<col width="52%" />
<col width="48%" />
</colgroup>
<thead valign="bottom">
<tr class="row-odd"><th class="head" colspan="2"><strong>WITH Proj4 PROJECTION CODES</strong></th>
</tr>
</thead>
<tbody valign="top">
<tr class="row-even"><td colspan="2"><strong>-J</strong> (lower case for <em>scale</em> only) Map projection</td>
</tr>
<tr class="row-odd"><td><strong>-Jaea/</strong>lon<sub>0</sub>/lat<sub>0</sub>/lat<sub>1</sub>/lat<sub>2</sub>/<em>scale</em></td>
<td>Albers conic equal area</td>
</tr>
<tr class="row-even"><td><strong>-Jaeqd/</strong>lon<sub>0</sub>/lat<sub>0</sub>[/<em>horizon</em>]/<em>scale</em></td>
<td>Azimuthal equidistant</td>
</tr>
<tr class="row-odd"><td><strong>-Jcass/</strong>lon<sub>0</sub>/lat<sub>0</sub>/<em>scale</em></td>
<td>Cassini cylindrical</td>
</tr>
<tr class="row-even"><td><strong>-Jcea/</strong>lon<sub>0</sub>/lat<sub>0</sub>/<em>scale</em></td>
<td>Cylindrical equal area</td>
</tr>
<tr class="row-odd"><td><strong>-Jcyl_stere/</strong>[lon<sub>0</sub>[/lat<sub>0</sub>/]]<em>scale</em></td>
<td>Cylindrical stereographic</td>
</tr>
<tr class="row-even"><td><strong>-Jeqc/</strong>[lon<sub>0</sub>[/lat<sub>0</sub>/]]<em>scale</em></td>
<td>Equidistant cylindrical</td>
</tr>
<tr class="row-odd"><td><strong>-Jeqdc/</strong>lon<sub>0</sub>/lat<sub>0</sub>/lat<sub>1</sub>/lat<sub>2</sub>/<em>scale</em></td>
<td>Equidistant conic</td>
</tr>
<tr class="row-even"><td><strong>-Jgnom/</strong>lon<sub>0</sub>/lat<sub>0</sub>[/<em>horizon</em>]/<em>scale</em></td>
<td>Azimuthal gnomonic</td>
</tr>
<tr class="row-odd"><td><strong>-Jhammer/</strong>lon<sub>0</sub>/<em>scale</em></td>
<td>Hammer equal area</td>
</tr>
<tr class="row-even"><td><strong>-Jeck4/</strong>lon<sub>0</sub>/<em>scale</em></td>
<td>Eckert IV equal area</td>
</tr>
<tr class="row-odd"><td><strong>-Jeck6/</strong>lon<sub>0</sub>/<em>scale</em></td>
<td>Eckert VI equal area</td>
</tr>
<tr class="row-even"><td><strong>-Jlaea/</strong>lon<sub>0</sub>/lat<sub>0</sub>[/<em>horizon</em>]/<em>scale</em></td>
<td>Lambert azimuthal equal area</td>
</tr>
<tr class="row-odd"><td><strong>-Jlcc/</strong>lon<sub>0</sub>/lat<sub>0</sub>/lat<sub>1</sub>/lat<sub>2</sub>/<em>scale</em></td>
<td>Lambert conic conformal</td>
</tr>
<tr class="row-even"><td><strong>-Jmerc/</strong>[lon<sub>0</sub>[/lat<sub>0</sub>/]]<em>scale</em></td>
<td>Mercator cylindrical</td>
</tr>
<tr class="row-odd"><td><strong>-Jmill/</strong>lon<sub>0</sub>/<em>scale</em></td>
<td>Miller cylindrical</td>
</tr>
<tr class="row-even"><td><strong>-Jmoll/</strong>[lon<sub>0</sub>/]<em>scale</em></td>
<td>Mollweide</td>
</tr>
<tr class="row-odd"><td><strong>-Jnsper/</strong>lon<sub>0</sub>/lat<sub>0</sub><em>alt/azim/tilt/twist/W/H/scale</em></td>
<td>General perspective</td>
</tr>
<tr class="row-even"><td><strong>-Jomerc/</strong>lon<sub>0</sub>/lat<sub>0</sub><em>azim</em>/<em>scale</em></td>
<td>Oblique Mercator, 1: origin and azimuth</td>
</tr>
<tr class="row-odd"><td><strong>-Jomerc/</strong>lon<sub>0</sub>/lat<sub>0</sub>/lon<sub>1</sub>/lat<sub>1</sub>/<em>scale</em></td>
<td>Oblique Mercator, 2: two points</td>
</tr>
<tr class="row-even"><td><strong>-Jomercp/</strong>:lon<sub>0</sub>/lat<sub>0</sub>/lon<sub>p</sub>/lat<sub>p</sub>/<em>scale</em></td>
<td>Oblique Mercator, 3: origin and pole</td>
</tr>
<tr class="row-odd"><td><strong>-Jortho/</strong>lon<sub>0</sub>/lat<sub>0</sub>[/<em>horizon</em>]/<em>scale</em></td>
<td>Azimuthal orthographic</td>
</tr>
<tr class="row-even"><td><strong>-Jpolar/</strong>[<strong>a</strong>]<em>scale</em>[/<em>origin</em>]</td>
<td>Polar [azimuthal] (<span class="math notranslate nohighlight">\(\theta, r\)</span>) (or cylindrical)</td>
</tr>
<tr class="row-odd"><td><strong>-Jpoly/</strong>[lon<sub>0</sub>[/lat<sub>0</sub>/]]<em>scale</em></td>
<td>(American) polyconic</td>
</tr>
<tr class="row-even"><td><strong>-Jrobin/</strong>[lon<sub>0</sub>/]<em>scale</em></td>
<td>Robinson</td>
</tr>
<tr class="row-odd"><td><strong>-Jsinu/</strong>lat<sub>0</sub>/<em>scale</em></td>
<td>Sinusoidal equal area</td>
</tr>
<tr class="row-even"><td><strong>-Jstere/</strong>lon<sub>0</sub>/lat<sub>0</sub>[/<em>horizon</em>]/<em>scale</em></td>
<td>General stereographic</td>
</tr>
<tr class="row-odd"><td><strong>-Jtmerc/</strong>[lon<sub>0</sub>[/lat<sub>0</sub>/]]<em>scale</em></td>
<td>Transverse Mercator</td>
</tr>
<tr class="row-even"><td><strong>-Jutm/</strong><em>zone</em>/<em>scale</em></td>
<td>Universal Transverse Mercator (UTM)</td>
</tr>
<tr class="row-odd"><td><strong>-Jvandg/</strong>[lon<sub>0</sub>/]<em>scale</em></td>
<td>Van der Grinten</td>
</tr>
<tr class="row-even"><td><strong>-Jwintri/</strong>[lon<sub>0</sub>/]<em>scale</em></td>
<td>Winkel Tripel</td>
</tr>
<tr class="row-odd"><td><strong>-Jxy</strong><em>xscale</em>[<strong>l</strong>|<strong>p</strong><em>exp</em>|<strong>T</strong>|<strong>t</strong>][/<em>yscale</em>[<strong>l</strong>|<strong>p</strong><em>exp</em>|<strong>T</strong>|<strong>t</strong>]][<strong>d</strong>]</td>
<td>Linear, log<span class="math notranslate nohighlight">\(_{10}\)</span>, <span class="math notranslate nohighlight">\(x^a-y^b\)</span>, and time</td>
</tr>
</tbody>
</table>
<p>Finally, the rest of the GMT common options are given below:</p>
<table border="1" class="docutils">
<colgroup>
<col width="48%" />
<col width="52%" />
</colgroup>
<thead valign="bottom">
<tr class="row-odd"><th class="head" colspan="2"><strong>STANDARDIZED COMMAND LINE OPTIONS</strong></th>
</tr>
</thead>
<tbody valign="top">
<tr class="row-even"><td><strong>-B</strong><em>information</em></td>
<td>Specify map frame and axes parameters <a class="reference internal" href="gmt.html#b-full"><span class="std std-ref">(…)</span></a></td>
</tr>
<tr class="row-odd"><td><strong>-J</strong><em>parameters</em></td>
<td>Select map projection <a class="reference internal" href="gmt.html#j-full"><span class="std std-ref">(…)</span></a></td>
</tr>
<tr class="row-even"><td><strong>-K</strong></td>
<td>Append more PS later <a class="reference internal" href="gmt.html#k-full"><span class="std std-ref">(…)</span></a></td>
</tr>
<tr class="row-odd"><td><strong>-O</strong></td>
<td>This is an overlay plot <a class="reference internal" href="gmt.html#o-full"><span class="std std-ref">(…)</span></a></td>
</tr>
<tr class="row-even"><td><strong>-P</strong></td>
<td>Select Portrait orientation <a class="reference internal" href="gmt.html#p-full"><span class="std std-ref">(…)</span></a></td>
</tr>
<tr class="row-odd"><td><strong>-R</strong><em>west/east/south/north</em>[<em>/zmin/zmax</em>][<strong>+r</strong>]</td>
<td>Specify Region of interest <a class="reference internal" href="gmt.html#r-full"><span class="std std-ref">(…)</span></a></td>
</tr>
<tr class="row-even"><td><strong>-U</strong>[[<em>just</em>]/<em>dx</em>/<em>dy</em>/][<em>label</em>]</td>
<td>Plot time-stamp on plot <a class="reference internal" href="gmt.html#u-full"><span class="std std-ref">(…)</span></a></td>
</tr>
<tr class="row-odd"><td><strong>-V</strong>[<em>verbosity</em>]</td>
<td>Run in verbose mode <a class="reference internal" href="gmt.html#v-full"><span class="std std-ref">(…)</span></a></td>
</tr>
<tr class="row-even"><td><strong>-X</strong>[<strong>a</strong>|<strong>c</strong>|<strong>r</strong>]<em>off</em>[<strong>u</strong>]</td>
<td>Shift plot origin in <em>x</em>-direction <a class="reference internal" href="gmt.html#xy-full"><span class="std std-ref">(…)</span></a></td>
</tr>
<tr class="row-odd"><td><strong>-Y</strong>[<strong>a</strong>|<strong>c</strong>|<strong>r</strong>]<em>off</em>[<strong>u</strong>]</td>
<td>Shift plot origin in <em>y</em>-direction <a class="reference internal" href="gmt.html#xy-full"><span class="std std-ref">(…)</span></a></td>
</tr>
<tr class="row-even"><td><strong>-a</strong><em>name=col,…</em></td>
<td>Associates aspatial data with columns <a class="reference internal" href="gmt.html#aspatial-full"><span class="std std-ref">(…)</span></a></td>
</tr>
<tr class="row-odd"><td><strong>-b</strong>[<strong>i</strong>|<strong>o</strong>][<em>ncol</em>][<strong>t</strong>]</td>
<td>Select binary input or output <a class="reference internal" href="gmt.html#bi-full"><span class="std std-ref">(…)</span></a></td>
</tr>
<tr class="row-even"><td><strong>-d</strong>[<strong>i</strong>|<strong>o</strong>]<em>nodata</em></td>
<td>Replace columns with <em>nodata</em> with NaN <a class="reference internal" href="gmt.html#d-full"><span class="std std-ref">(…)</span></a></td>
</tr>
<tr class="row-odd"><td><strong>-e</strong>[<strong>~</strong>]<em>”pattern”</em> <strong>| -e</strong>[<strong>~</strong>]/<em>regexp</em>/[<strong>i</strong>]</td>
<td>Filter data records that match the given pattern <a class="reference internal" href="gmt.html#e-full"><span class="std std-ref">(…)</span></a></td>
</tr>
<tr class="row-even"><td><strong>-f</strong>[<strong>i</strong>|<strong>o</strong>]<em>colinfo</em></td>
<td>Set formatting of ASCII input or output <a class="reference internal" href="gmt.html#f-full"><span class="std std-ref">(…)</span></a></td>
</tr>
<tr class="row-odd"><td><strong>-g</strong>[<strong>+</strong>]<strong>x</strong>|<strong>X</strong>|<strong>y</strong>|<strong>Y</strong>|<strong>d</strong>|<strong>D</strong><em>gap</em>[<strong>u</strong>]</td>
<td>Segment data by detecting gaps <a class="reference internal" href="gmt.html#g-full"><span class="std std-ref">(…)</span></a></td>
</tr>
<tr class="row-even"><td><strong>-h</strong>[<strong>i</strong>|<strong>o</strong>][<em>n_headers</em>]</td>
<td>ASCII [<em>I</em>|<em>O</em>] tables have header record[s] <a class="reference internal" href="gmt.html#h-full"><span class="std std-ref">(…)</span></a></td>
</tr>
<tr class="row-odd"><td><strong>-i</strong><em>columns</em></td>
<td>Selection of input columns <a class="reference internal" href="gmt.html#icols-full"><span class="std std-ref">(…)</span></a></td>
</tr>
<tr class="row-even"><td><strong>-o</strong><em>columns</em></td>
<td>Selection of output columns <a class="reference internal" href="gmt.html#ocols-full"><span class="std std-ref">(…)</span></a></td>
</tr>
<tr class="row-odd"><td><strong>-n</strong>[<em>type</em>][<strong>+a</strong>][<strong>+b</strong><em>BC</em>]
[<strong>+c</strong>][<strong>+t</strong><em>threshold</em>]</td>
<td>Set grid interpolation mode <a class="reference internal" href="gmt.html#n-full"><span class="std std-ref">(…)</span></a></td>
</tr>
<tr class="row-even"><td><strong>-p</strong><em>azim</em>[<em>elev</em>[/<em>zlevel</em>]][<strong>+w</strong><em>lon0/lat0</em>[/<em>z0</em>]][<strong>+v</strong><em>x0/y0</em>]</td>
<td>Control 3-D perspective view <a class="reference internal" href="gmt.html#perspective-full"><span class="std std-ref">(…)</span></a></td>
</tr>
<tr class="row-odd"><td><strong>-r</strong></td>
<td>Sets grid registration <a class="reference internal" href="gmt.html#nodereg-full"><span class="std std-ref">(…)</span></a></td>
</tr>
<tr class="row-even"><td><strong>-s</strong>[<strong>z</strong>|<em>cols</em>]</td>
<td>Control treatment of NaN records <a class="reference internal" href="gmt.html#s-full"><span class="std std-ref">(…)</span></a></td>
</tr>
<tr class="row-odd"><td><strong>-t</strong><em>transparency</em></td>
<td>Set layer PDF transparency <a class="reference internal" href="gmt.html#t-full"><span class="std std-ref">(…)</span></a></td>
</tr>
<tr class="row-even"><td><strong>-x</strong>[[-]<em>n</em>]</td>
<td>Set number of cores in multi-threaded modules <a class="reference internal" href="gmt.html#core-full"><span class="std std-ref">(…)</span></a></td>
</tr>
<tr class="row-odd"><td><strong>-:</strong>[<strong>i</strong>|<strong>o</strong>]</td>
<td>Expect <em>y</em>/<em>x</em> input rather than <em>x</em>/<em>y</em> <a class="reference internal" href="gmt.html#colon-full"><span class="std std-ref">(…)</span></a></td>
</tr>
</tbody>
</table>
</div>
</div>
<div class="section" id="general-features">
<span id="gmt-general-features"></span><h1>12. General Features<a class="headerlink" href="#general-features" title="Permalink to this headline">¶</a></h1>
<p>This section explains features common to all the programs in GMT and
summarizes the philosophy behind the system. Some of the features
described here may make more sense once you reach the cook-book section
where we present actual examples of their use.</p>
<div class="section" id="gmt-units">
<h2>12.1. GMT units<a class="headerlink" href="#gmt-units" title="Permalink to this headline">¶</a></h2>
<p>While GMT has default units for both actual Earth distances and plot
lengths (i.e., dimensions) of maps, it is recommended that you explicitly
indicate the units of your arguments by appending the unit character, as
discussed below. This will aid you in debugging, let others understand your
scripts, and remove any uncertainty as to what unit you thought you wanted.</p>
<div class="section" id="distance-units">
<h3>12.1.1. Distance units<a class="headerlink" href="#distance-units" title="Permalink to this headline">¶</a></h3>
<table border="1" class="docutils" id="tbl-distunits">
<colgroup>
<col width="16%" />
<col width="35%" />
<col width="16%" />
<col width="33%" />
</colgroup>
<thead valign="bottom">
<tr class="row-odd"><th class="head">&#160;</th>
<th class="head">&#160;</th>
<th class="head">&#160;</th>
<th class="head">&#160;</th>
</tr>
</thead>
<tbody valign="top">
<tr class="row-even"><td><strong>d</strong></td>
<td>Degree of arc</td>
<td><strong>M</strong></td>
<td>Statute mile</td>
</tr>
<tr class="row-odd"><td><strong>e</strong></td>
<td>Meter [Default]</td>
<td><strong>n</strong></td>
<td>Nautical mile</td>
</tr>
<tr class="row-even"><td><strong>f</strong></td>
<td>Foot</td>
<td><strong>s</strong></td>
<td>Second of arc</td>
</tr>
<tr class="row-odd"><td><strong>k</strong></td>
<td>Kilometer</td>
<td><strong>u</strong></td>
<td>US Survey foot</td>
</tr>
<tr class="row-even"><td><strong>m</strong></td>
<td>Minute of arc</td>
<td>&#160;</td>
<td>&#160;</td>
</tr>
</tbody>
</table>
<p>For Cartesian data and scaling the data units do not normally matter
(they could be kg or Lumens for all we know) and are never entered.
Geographic data are different, as distances can be specified in a variety
of ways. GMT programs that accept actual Earth length scales like
search radii or distances can therefore handle a variety of units. These
choices are listed in Table <a class="reference internal" href="#tbl-distunits"><span class="std std-ref">distunits</span></a>; simply append the desired
unit to the distance value you supply. A value without a unit suffix
will be consider to be in meters. For example, a distance of 30 nautical
miles should be given as 30<strong>n</strong>.</p>
</div>
<div class="section" id="distance-calculations">
<h3>12.1.2. Distance calculations<a class="headerlink" href="#distance-calculations" title="Permalink to this headline">¶</a></h3>
<p>The calculation of distances on Earth (or other planetary bodies)
depends on the ellipsoidal parameters of the body (via
<a class="reference internal" href="gmt.conf.html#proj-ellipsoid"><span class="std std-ref">PROJ_ELLIPSOID</span></a>) and the method of computation. GMT offers three
alternatives that trade off accuracy and computation time.</p>
<div class="section" id="flat-earth-distances">
<h4>12.1.2.1. Flat Earth distances<a class="headerlink" href="#flat-earth-distances" title="Permalink to this headline">¶</a></h4>
<p>Quick, but approximate “Flat Earth” calculations make a first-order
correction for the spherical nature of a planetary body by computing the
distance between two points A and B as</p>
<div class="math notranslate nohighlight">
\[d_f = R \sqrt{(\theta_A - \theta_B)^2 + \cos \left [ \frac{\theta_A +
\theta_B}{2} \right ] \Delta \lambda^2}, \label{eq:flatearth}\]</div>
<p>where <em>R</em> is the representative (or spherical) radius of the
planet, <span class="math notranslate nohighlight">\(\theta\)</span> is latitude, and the difference in longitudes,
<span class="math notranslate nohighlight">\(\Delta \lambda = \lambda_A - \lambda_B\)</span>, is adjusted for any
jumps that might occur across Greenwich or the Dateline. As written, the
geographic coordinates are given in radians. This approach is suitable
when the points you use to compute <span class="math notranslate nohighlight">\(d_f\)</span> do not greatly differ in
latitude and computation speed is paramount. You can specify this mode
of computation by using the <strong>-</strong> prefix to the specified distance (or
to the unit itself in cases where no distance is required and only a
unit is expected). For instance, a search radius of 50 statute miles
using this mode of computation might be specified via <strong>-S-</strong>50<strong>M</strong>.</p>
</div>
<div class="section" id="great-circle-distances">
<h4>12.1.2.2. Great circle distances<a class="headerlink" href="#great-circle-distances" title="Permalink to this headline">¶</a></h4>
<p>This is the default distance calculation, which will also approximate
the planetary body by a sphere of mean radius <em>R</em>. However, we
compute an exact distance between two points A and B on such a sphere
via the Haversine equation</p>
<div class="math notranslate nohighlight">
\[d_g = 2R \sin^{-1}  {\sqrt{\sin^2\frac{\theta_A - \theta_B}{2} + \cos
\theta_A \cos \theta_B \sin^2 \frac{\lambda_A - \lambda_B}{2}} },
\label{eq:greatcircle}\]</div>
<p>This approach is suitable for most situations unless exact calculations
for an ellipsoid is required (typically for a limited surface area). For
instance, a search radius of 5000 feet using this mode of computation
would be specified as <strong>-S</strong>5000<strong>f</strong>.</p>
<p>Note: There are two additional
GMT defaults that control how
great circle (and Flat Earth) distances are computed. One concerns the
selection of the “mean radius”. This is selected by
<a class="reference internal" href="gmt.conf.html#proj-mean-radius"><span class="std std-ref">PROJ_MEAN_RADIUS</span></a>, which selects one of several possible
representative radii. The second is <a class="reference internal" href="gmt.conf.html#proj-aux-latitude"><span class="std std-ref">PROJ_AUX_LATITUDE</span></a>, which
converts geodetic latitudes into one of several possible auxiliary
latitudes that are better suited for the spherical approximation. While
both settings have default values to best approximate geodesic distances
(<em>authalic</em> mean radius and latitudes), expert users can choose from a
range of options as detailed in the <a class="reference internal" href="gmt.conf.html"><span class="doc">gmt.conf</span></a> man page.  Note that
these last two settings are only used if the <a class="reference internal" href="gmt.conf.html#proj-ellipsoid"><span class="std std-ref">PROJ_ELLIPSOID</span></a>
is not set to “sphere”.</p>
</div>
<div class="section" id="geodesic-distances">
<h4>12.1.2.3. Geodesic distances<a class="headerlink" href="#geodesic-distances" title="Permalink to this headline">¶</a></h4>
<p>For the most accurate calculations we use a full ellipsoidal
formulation. Currently, we are using Vincenty’s [1975] formula <a class="footnote-reference" href="#id66" id="id16">[7]</a>
which is accurate to 0.5 mm. You
select this mode of computation by using the <strong>+</strong> prefix to the
specified distance (or to the unit itself in cases where no distance is
required). For instance, a search radius of 20 km using this mode of
computation would be set by <strong>-S+</strong>20<strong>k</strong>.  You may use the
setting <a class="reference internal" href="gmt.conf.html#proj-geodesic"><span class="std std-ref">PROJ_GEODESIC</span></a> which defaults to
<em>Vincenty</em> but may also be set to <em>Rudoe</em> for old GMT4-style calculations
or <em>Andoyer</em> for an approximate geodesic (within a few tens of meters)
that is much faster to compute.</p>
</div>
</div>
<div class="section" id="length-units">
<h3>12.1.3. Length units<a class="headerlink" href="#length-units" title="Permalink to this headline">¶</a></h3>
<p>GMT programs can accept dimensional quantities and plot lengths in
<strong>c</strong>m, <strong>i</strong>nch, or <strong>p</strong>oint (1/72 of an inch) <a class="footnote-reference" href="#id67" id="id17">[8]</a>. There are
two ways to ensure that GMT understands which unit you intend to use:</p>
<ol class="arabic simple">
<li>Append the desired unit to the dimension you supply. This way is
explicit and clearly communicates what you intend, e.g.,
<strong>-X</strong>4<strong>c</strong> means the length being passed to the <strong>-X</strong> switch
is 4 cm.</li>
<li>Set the parameter <a class="reference internal" href="gmt.conf.html#proj-length-unit"><span class="std std-ref">PROJ_LENGTH_UNIT</span></a> to the desired unit. Then,
all dimensions without explicit unit will be interpreted accordingly.</li>
</ol>
<p>The latter method is less secure as other users may have a different
unit set and your script may not work as intended. We therefore
recommend you always supply the desired unit explicitly.</p>
</div>
</div>
<div class="section" id="gmt-defaults">
<h2>12.2. GMT defaults<a class="headerlink" href="#gmt-defaults" title="Permalink to this headline">¶</a></h2>
<div class="section" id="overview-and-the-gmt-conf-file">
<h3>12.2.1. Overview and the gmt.conf file<a class="headerlink" href="#overview-and-the-gmt-conf-file" title="Permalink to this headline">¶</a></h3>
<p>There are almost 150 parameters which can be adjusted individually to
modify the appearance of plots or affect the manipulation of data. When
a program is run, it initializes all parameters to the
GMTdefaults <a class="footnote-reference" href="#id68" id="id18">[9]</a>, then tries to open the file <code class="docutils literal notranslate"><span class="pre">gmt.conf</span></code> in the current
directory <a class="footnote-reference" href="#id69" id="id19">[10]</a>. If not found, it will look for that file in a
sub-directory <code class="docutils literal notranslate"><span class="pre">/.gmt</span></code> of your home directory, and finally in your home directory
itself. If successful, the program will read the contents and set the
default values to those provided in the file. By editing this file you
can affect features such as pen thicknesses used for maps, fonts and
font sizes used for annotations and labels, color of the pens,
dots-per-inch resolution of the hardcopy device, what type of spline
interpolant to use, and many other choices. A complete list of all the
parameters and their default values can be found in the
<a class="reference internal" href="gmt.conf.html"><span class="doc">gmt.conf</span></a> manual pages. Figures
<a class="reference internal" href="#gmt-defaults-a"><span class="std std-ref">GMT Parameters a</span></a>,
<a class="reference internal" href="#gmt-defaults-b"><span class="std std-ref">b</span></a>, and
<a class="reference internal" href="#gmt-defaults-c"><span class="std std-ref">c</span></a> show the parameters that affect
plots. You may create your own <code class="docutils literal notranslate"><span class="pre">gmt.conf</span></code> files by running
<a class="reference internal" href="gmtdefaults.html"><span class="doc">gmtdefaults</span></a> and then modify those
parameters you want to change. If you want to use the parameter settings
in another file you can do so by copying that file to the current
directory and call it gmt.conf. This makes it easy to maintain several distinct parameter
settings, corresponding perhaps to the unique styles required by
different journals or simply reflecting font changes necessary to make
readable overheads and slides.  At the end of such scripts you should then
delete the (temporary) gmt.conf file.  Note that any arguments given on the
command line (see below) will take precedent over the default values.
E.g., if your <code class="docutils literal notranslate"><span class="pre">gmt.conf</span></code> file has <em>x</em> offset = 1<strong>i</strong> as default, the
<strong>-X</strong>1.5<strong>i</strong> option will override the default and set the offset to 1.5 inches.</p>
<div class="figure align-center" id="id104">
<span id="gmt-defaults-a"></span><a class="reference internal image-reference" href="_images/GMT_Defaults_1a.png"><img alt="_images/GMT_Defaults_1a.png" src="_images/GMT_Defaults_1a.png" style="width: 500px;" /></a>
<p class="caption"><span class="caption-text">Some GMT parameters that affect plot appearance.</span></p>
</div>
<div class="figure align-center" id="id105">
<span id="gmt-defaults-b"></span><a class="reference internal image-reference" href="_images/GMT_Defaults_1b.png"><img alt="_images/GMT_Defaults_1b.png" src="_images/GMT_Defaults_1b.png" style="width: 500px;" /></a>
<p class="caption"><span class="caption-text">More GMT parameters that affect plot appearance.</span></p>
</div>
<div class="figure align-center" id="id106">
<span id="gmt-defaults-c"></span><a class="reference internal image-reference" href="_images/GMT_Defaults_1c.png"><img alt="_images/GMT_Defaults_1c.png" src="_images/GMT_Defaults_1c.png" style="width: 500px;" /></a>
<p class="caption"><span class="caption-text">Even more GMT parameters that affect plot appearance.</span></p>
</div>
<p>There are at least two good reasons why the GMT default options are
placed in a separate parameter file:</p>
<ol class="arabic simple">
<li>It would not be practical to allow for command-line syntax covering
so many options, many of which are rarely or never changed (such as
the ellipsoid used for map projections).</li>
<li>It is convenient to keep separate <code class="docutils literal notranslate"><span class="pre">gmt.conf</span></code> files for specific projects, so
that one may achieve a special effect simply by running
GMT commands in the directory whose <code class="docutils literal notranslate"><span class="pre">gmt.conf</span></code> file has the desired settings.
For example, when making final illustrations for a journal article
one must often standardize on font sizes and font types, etc. Keeping
all those settings in a separate <code class="docutils literal notranslate"><span class="pre">gmt.conf</span></code> file simplifies this process and
will allow you to generate those illustrations with the same settings
later on. Likewise, GMT scripts that make figures for PowerPoint
presentations often use a different color scheme and font size than
output intended for laser printers. Organizing these various
scenarios into separate <code class="docutils literal notranslate"><span class="pre">gmt.conf</span></code> files will minimize headaches associated with
micro-editing of illustrations.</li>
</ol>
</div>
<div class="section" id="changing-gmt-defaults">
<h3>12.2.2. Changing GMT defaults<a class="headerlink" href="#changing-gmt-defaults" title="Permalink to this headline">¶</a></h3>
<p>As mentioned, GMT programs will attempt to open a file named  <code class="docutils literal notranslate"><span class="pre">gmt.conf</span></code>. At
times it may be desirable to override that default. There are several
ways in which this can be accomplished.</p>
<ul>
<li><p class="first">One method is to start each script by saving a copy of the current  <code class="docutils literal notranslate"><span class="pre">gmt.conf</span></code>,
then copying the desired <code class="docutils literal notranslate"><span class="pre">gmt.conf</span></code> file to the current directory, and finally
reverting the changes at the end of the script. Possible side effects
include premature ending of the script due to user error or bugs
which means the final resetting does not take place (unless you write
your script very carefully.)</p>
</li>
<li><p class="first">To permanently change some of the GMT parameters on the fly
inside a script the <a class="reference internal" href="gmtset.html"><span class="doc">gmtset</span></a> utility
can be used. E.g., to change the primary annotation font to 12 point
Times-Bold in red we run</p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>gmt <span class="nb">set</span> FONT_ANNOT_PRIMARY 12p,Times-Bold,red
</pre></div>
</div>
<p>These changes will remain in effect until they are overridden.</p>
</li>
<li><p class="first">If all you want to achieve is to change a few parameters during the
execution of a single command but otherwise leave the environment
intact, consider passing the parameter changes on the command line
via the <strong>-</strong><strong>-</strong><em>PAR=value</em> mechanism. For instance, to temporarily
set the output format for floating points to have lots of decimals,
say, for map projection coordinate output, append
<strong>-</strong><strong>-</strong><a class="reference internal" href="gmt.conf.html#format-float-out"><span class="std std-ref">FORMAT_FLOAT_OUT</span></a>=%.16lg to the command in question.</p>
</li>
<li><p class="first">Finally, GMT provides to possibility to override the settings only
during the running of a single script, reverting to the original
settings after the script is run, as if the script was run in
“isolation”. The isolation mode is discussed in
Section <a class="reference internal" href="#running-gmt-in-isolation-mode">Running GMT in isolation mode</a>.</p>
</li>
</ul>
<p>In addition to those parameters that directly affect the plot there are
numerous parameters than modify units, scales, etc. For a complete
listing, see the <a class="reference internal" href="gmt.conf.html"><span class="doc">gmt.conf</span></a> man pages.
We suggest that you go through all the available parameters at least
once so that you know what is available to change via one of the
described mechanisms.  The gmt.conf file can be cleared by running
<strong>gmt clear conf</strong>.</p>
</div>
</div>
<div class="section" id="command-line-arguments">
<h2>12.3. Command line arguments<a class="headerlink" href="#command-line-arguments" title="Permalink to this headline">¶</a></h2>
<p>Each program requires certain arguments specific to its operation. These
are explained in the manual pages and in the usage messages.
We have tried to choose letters of the alphabet which
stand for the argument so that they will be easy to remember. Each
argument specification begins with a hyphen (except input file names;
see below), followed by a letter, and sometimes a number or character
string immediately after the letter. <em>Do not</em> space between the hyphen,
letter, and number or string. <em>Do</em> space between options. Example:</p>
<blockquote>
<div><div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>gmt pscoast -R0/20/0/20 -Ggray -JM6i -Wthin -B5 -V -P &gt; map.ps
</pre></div>
</div>
</div></blockquote>
</div>
<div class="section" id="standardized-command-line-options">
<h2>12.4. Standardized command line options<a class="headerlink" href="#standardized-command-line-options" title="Permalink to this headline">¶</a></h2>
<p>Most of the programs take many of the same arguments such as those related
to setting the data region, the map projection, etc. The 26 switches in
Table <a class="reference internal" href="#tbl-switches"><span class="std std-ref">switches</span></a> have the same meaning in all the programs (although
some programs may not use all of them). These options will be described
here as well as in the manual pages, as is vital that you understand how
to use these options. We will present these options in order of
importance (some are used a lot more than others).</p>
<table border="1" class="docutils" id="tbl-switches">
<colgroup>
<col width="13%" />
<col width="87%" />
</colgroup>
<thead valign="bottom">
<tr class="row-odd"><th class="head">&#160;</th>
<th class="head">&#160;</th>
</tr>
</thead>
<tbody valign="top">
<tr class="row-even"><td><strong>-B</strong></td>
<td>Define tick marks, annotations, and labels for basemaps and axes</td>
</tr>
<tr class="row-odd"><td><strong>-J</strong></td>
<td>Select a map projection or coordinate transformation</td>
</tr>
<tr class="row-even"><td><strong>-K</strong></td>
<td>Allow more plot code to be appended to this plot later</td>
</tr>
<tr class="row-odd"><td><strong>-O</strong></td>
<td>Allow this plot code to be appended to an existing plot</td>
</tr>
<tr class="row-even"><td><strong>-P</strong></td>
<td>Select Portrait plot orientation [Default is landscape]</td>
</tr>
<tr class="row-odd"><td><strong>-R</strong></td>
<td>Define the extent of the map/plot region</td>
</tr>
<tr class="row-even"><td><strong>-U</strong></td>
<td>Plot a time-stamp, by default in the lower left corner of page</td>
</tr>
<tr class="row-odd"><td><strong>-V</strong></td>
<td>Select verbose operation; reporting on progress</td>
</tr>
<tr class="row-even"><td><strong>-X</strong></td>
<td>Set the <em>x</em>-coordinate for the plot origin on the page</td>
</tr>
<tr class="row-odd"><td><strong>-Y</strong></td>
<td>Set the <em>y</em>-coordinate for the plot origin on the page</td>
</tr>
<tr class="row-even"><td><strong>-a</strong></td>
<td>Associate aspatial data from OGR/GMT files with data columns</td>
</tr>
<tr class="row-odd"><td><strong>-b</strong></td>
<td>Select binary input and/or output</td>
</tr>
<tr class="row-even"><td><strong>-d</strong></td>
<td>Replace user <em>nodata</em> values with IEEE NaNs</td>
</tr>
<tr class="row-odd"><td><strong>-e</strong></td>
<td>Only process data records that match a <em>pattern</em></td>
</tr>
<tr class="row-even"><td><strong>-f</strong></td>
<td>Specify the data format on a per column basis</td>
</tr>
<tr class="row-odd"><td><strong>-g</strong></td>
<td>Identify data gaps based on supplied criteria</td>
</tr>
<tr class="row-even"><td><strong>-h</strong></td>
<td>Specify that input/output tables have header record(s)</td>
</tr>
<tr class="row-odd"><td><strong>-i</strong></td>
<td>Specify which input columns to read</td>
</tr>
<tr class="row-even"><td><strong>-n</strong></td>
<td>Specify grid interpolation settings</td>
</tr>
<tr class="row-odd"><td><strong>-o</strong></td>
<td>Specify which output columns to write</td>
</tr>
<tr class="row-even"><td><strong>-p</strong></td>
<td>Control perspective views for plots</td>
</tr>
<tr class="row-odd"><td><strong>-r</strong></td>
<td>Set the grid registration to pixel [Default is gridline]</td>
</tr>
<tr class="row-even"><td><strong>-s</strong></td>
<td>Control output of records containing one or more NaNs</td>
</tr>
<tr class="row-odd"><td><strong>-t</strong></td>
<td>Change layer PDF transparency</td>
</tr>
<tr class="row-even"><td><strong>-x</strong></td>
<td>Set number of cores to be used in multi-threaded applications</td>
</tr>
<tr class="row-odd"><td><strong>-:</strong></td>
<td>Assume input geographic data are (<em>lat,lon</em>) and not (<em>lon,lat</em>)</td>
</tr>
</tbody>
</table>
<div class="section" id="data-domain-or-map-region-the-r-option">
<h3>12.4.1. Data domain or map region: The <strong>-R</strong> option<a class="headerlink" href="#data-domain-or-map-region-the-r-option" title="Permalink to this headline">¶</a></h3>
<p>The <strong>-R</strong> option defines the map region or data domain of interest. It
may be specified in one of four ways, two of which are shown in Figure
<a class="reference internal" href="#gmt-region"><span class="std std-ref">Map region</span></a>:</p>
<ol class="arabic simple">
<li><strong>-R</strong><em>xmin</em>/<em>xmax</em>/<em>ymin</em>/<em>ymax</em>. This is the standard way to
specify Cartesian data domains and geographical regions when using
map projections where meridians and parallels are rectilinear.</li>
<li><strong>-R</strong><em>xlleft</em>/<em>ylleft</em>/<em>xuright</em>/<em>yuright</em><strong>+r</strong>. This form is
used with map projections that are oblique, making meridians and
parallels poor choices for map boundaries. Here, we instead specify
the lower left corner and upper right corner geographic coordinates,
followed by the modifier <strong>+r</strong>. This form guarantees a rectangular map
even though lines of equal longitude and latitude are not straight lines.</li>
<li><strong>-R</strong><em>gridfile</em>. This will copy the domain settings found for the
grid in specified file. Note that depending on the nature of the
calling program, this mechanism will also set grid spacing and
possibly the grid registration (see
Section <a class="reference internal" href="#grid-registration-the-r-option">Grid registration: The -r option</a>).</li>
<li><strong>-R</strong><em>code</em><em>x0</em>/<em>y0</em>/<em>nx</em>/<em>ny</em>.  This method can be used when creating
grids.  Here, <em>code</em> is a 2-character combination of <strong>L</strong>, <strong>C</strong>, <strong>R</strong> (for left, center,
or right) and <strong>T</strong>, <strong>M</strong>, <strong>B</strong> for top, middle, or bottom. e.g., <strong>BL</strong> for lower left.  This
indicates which point on a rectangular grid region the <em>x0</em>/<em>y0</em> coordinates
refer to, and the grid dimensions <em>nx</em> and <em>ny</em> are used with grid spacings given
via <strong>-I</strong> to create the corresponding region.</li>
</ol>
<div class="figure align-center" id="id107">
<span id="gmt-region"></span><a class="reference internal image-reference" href="_images/GMT_-R.png"><img alt="_images/GMT_-R.png" src="_images/GMT_-R.png" style="width: 500px;" /></a>
<p class="caption"><span class="caption-text">The plot region can be specified in two different ways. (a) Extreme values
for each dimension, or (b) coordinates of lower left and upper right corners.</span></p>
</div>
<p>For rectilinear projections the first two forms give identical results.
Depending on the selected map projection (or the kind of expected input
data), the boundary coordinates may take on several different formats:</p>
<dl class="docutils">
<dt>Geographic coordinates:</dt>
<dd><p class="first">These are longitudes and latitudes and may be given in decimal
degrees (e.g., -123.45417) or in the
[±]<em>ddd</em>[:<em>mm</em>[:<em>ss</em>[<em>.xxx</em>]]][<strong>W</strong>|<strong>E</strong>|<strong>S</strong>|<strong>N</strong>]
format (e.g., 123:27:15W). Note that <strong>-Rg</strong> and <strong>-Rd</strong> are
shorthands for “global domain” <strong>-R</strong><em>0</em>/<em>360</em>/<em>-90</em>/<em>90</em> and
<strong>-R</strong><em>-180</em>/<em>180</em>/<em>-90</em>/<em>90</em>, respectively.</p>
<p>When used in conjunction with the Cartesian Linear Transformation
(<strong>-Jx</strong> or <strong>-JX</strong>) —which can be used to map floating point data,
geographical coordinates, as well as time coordinates— it is prudent
to indicate that you are using geographical coordinates in one of
the following ways:</p>
<ul class="simple">
<li>Use <strong>-Rg</strong> or <strong>-Rd</strong> to indicate the global domain.</li>
<li>Use <strong>-Rg</strong><em>xmin</em>/<em>xmax</em>/<em>ymin</em>/<em>ymax</em> to indicate a limited
geographic domain.</li>
<li>Add <strong>W</strong>, <strong>E</strong>, <strong>S</strong>, or <strong>N</strong> to the coordinate limits or add
the generic <strong>D</strong> or <strong>G</strong>. Example:
<strong>-R</strong><em>0</em>/<em>360G</em>/<em>-90</em>/<em>90N</em>.</li>
</ul>
<p class="last">Alternatively, you may indicate geographical coordinates by
supplying <strong>-fg</strong>; see Section <a class="reference internal" href="#data-type-selection-the-f-option">Data type selection: The -f option</a>.</p>
</dd>
<dt>Projected coordinates:</dt>
<dd>These are Cartesian projected coordinates compatible with the chosen
projection and are given in a length <em>unit</em> set via the <strong>+u</strong> modifier, (e.g.,
-200/200/-300/300<strong>+uk</strong> for a 400 by 600 km rectangular area centered
on the projection center (0, 0). These coordinates are internally
converted to the corresponding geographic (longitude, latitude)
coordinates for the lower left and upper right corners. This form is
convenient when you want to specify a region directly in the
projected units (e.g., UTM meters). For allowable units, see
Table <a class="reference internal" href="#tbl-distunits"><span class="std std-ref">distunits</span></a>.</dd>
<dt>Calendar time coordinates:</dt>
<dd><p class="first">These are absolute time coordinates referring to a Gregorian or ISO
calendar. The general format is [<em>date</em>]<strong>T</strong>[<em>clock</em>],
where <em>date</em> must be in the <em>yyyy</em>[<em>-mm</em>[<em>-dd</em>]] (year, month,
day-of-month) or <em>yyyy</em>[<em>-jjj</em>] (year and day-of-year) for
Gregorian calendars and <em>yyyy</em>[<em>-</em><strong>W</strong><em>ww</em>[<em>-d</em>]] (year,
week, and day-of-week) for the ISO calendar. If no <em>date</em> is given
we assume the current day. The <strong>T</strong> flag is required if a <em>clock</em> is given.</p>
<p class="last">The optional <em>clock</em> string is a 24-hour clock in
<em>hh</em>[<em>:mm</em>[<em>:ss</em>[<em>.xxx</em>]]] format. If no <em>clock</em> is given it
implies 00:00:00, i.e., the start of the specified day. Note that
not all of the specified entities need be present in the data. All
calendar date-clock strings are internally represented as double
precision seconds since proleptic Gregorian date Monday January 1
00:00:00 0001. Proleptic means we assume that the modern calendar
can be extrapolated forward and backward; a year zero is used, and
Gregory’s reforms <a class="footnote-reference" href="#id70" id="id20">[11]</a> are extrapolated backward. Note that this is
not historical.</p>
</dd>
<dt>Relative time coordinates:</dt>
<dd>These are coordinates which count seconds, hours, days or years
relative to a given epoch. A combination of the parameters
<a class="reference internal" href="gmt.conf.html#time-epoch"><span class="std std-ref">TIME_EPOCH</span></a> and <a class="reference internal" href="gmt.conf.html#time-unit"><span class="std std-ref">TIME_UNIT</span></a> define the epoch and time unit.
The parameter <a class="reference internal" href="gmt.conf.html#time-system"><span class="std std-ref">TIME_SYSTEM</span></a> provides a few shorthands for common
combinations of epoch and unit, like <strong>j2000</strong> for days since noon
of 1 Jan 2000. The default relative time coordinate is that of UNIX
computers: seconds since 1 Jan 1970. Denote relative time
coordinates by appending the optional lower case <strong>t</strong> after the
value. When it is otherwise apparent that the coordinate is relative
time (for example by using the <strong>-f</strong> switch), the <strong>t</strong> can be omitted.</dd>
<dt>Other coordinates:</dt>
<dd>These are simply any coordinates that are not related to geographic
or calendar time or relative time and are expected to be simple
floating point values such as
[±]<em>xxx.xxx</em>[<strong>E</strong>|<strong>e</strong>|<strong>D</strong>|<strong>d</strong>[±]<em>xx</em>],
i.e., regular or exponential notations, with the enhancement to understand
FORTRAN double precision output which may use <strong>D</strong> instead of <strong>E</strong> for
exponents. These values are simply converted as they are to internal
representation. <a class="footnote-reference" href="#id71" id="id21">[12]</a></dd>
</dl>
</div>
<div class="section" id="coordinate-transformations-and-map-projections-the-j-option">
<h3>12.4.2. Coordinate transformations and map projections: The <strong>-J</strong> option<a class="headerlink" href="#coordinate-transformations-and-map-projections-the-j-option" title="Permalink to this headline">¶</a></h3>
<p>This option selects the coordinate transformation or map projection. The
general format is</p>
<ul class="simple">
<li><strong>-J</strong><span class="math notranslate nohighlight">\(\delta\)</span>[<em>parameters</em>/]<em>scale</em>. Here, <span class="math notranslate nohighlight">\(\delta\)</span>
is a <em>lower-case</em> letter of the alphabet that selects a particular
map projection, the <em>parameters</em> is zero or more slash-delimited
projection parameter, and <em>scale</em> is map scale given in distance
units per degree or as 1:xxxxx.</li>
<li><strong>-J</strong><span class="math notranslate nohighlight">\(\Delta\)</span>[<em>parameters</em>/]<em>width</em>. Here, <span class="math notranslate nohighlight">\(\Delta\)</span>
is an <em>upper-case</em> letter of the alphabet that selects a particular
map projection, the <em>parameters</em> is zero or more slash-delimited
projection parameter, and <em>width</em> is map width (map height is
automatically computed from the implied map scale and region).</li>
</ul>
<p>Since GMT version 4.3.0, there is an alternative way to specify the
projections: use the same abbreviation as in the mapping package
<strong>Proj4</strong>. The options thus either look like:</p>
<ul class="simple">
<li><strong>-J</strong><em>abbrev</em>/[<em>parameters</em>/]<em>scale</em>. Here, <em>abbrev</em> is a
<em>lower-case</em> abbreviation that selects a particular map projection,
the <em>parameters</em> is zero or more slash-delimited projection
parameter, and <em>scale</em> is map scale given in distance units per
degree or as 1:xxxxx.</li>
<li><strong>-J</strong><em>Abbrev</em>/[<em>parameters</em>/]<em>width</em>. Here, <em>Abbrev</em> is an
<em>capitalized</em> abbreviation that selects a particular map projection,
the <em>parameters</em> is zero or more slash-delimited projection
parameter, and <em>width</em> is map width (map height is automatically
computed from the implied map scale and region).</li>
</ul>
<p>The projections available in GMT are presented in Figure
<a class="reference internal" href="#gmt-projections"><span class="std std-ref">The over-30 map projections and coordinate transformations available in GMT</span></a>. For details on all GMT projections and the required
parameters, see the <a class="reference internal" href="psbasemap.html"><span class="doc">psbasemap</span></a> man page. We will also show examples of
every projection in the next Chapters, and a quick summary of projection
syntax was given in Chapter <a class="reference internal" href="#gmt-overview-and-quick-reference">GMT Overview and Quick Reference</a>.</p>
<div class="figure align-center" id="id108">
<span id="gmt-projections"></span><a class="reference internal image-reference" href="_images/GMT_-J.png"><img alt="_images/GMT_-J.png" src="_images/GMT_-J.png" style="width: 500px;" /></a>
<p class="caption"><span class="caption-text">The over-30 map projections and coordinate transformations available in GMT</span></p>
</div>
</div>
<div class="section" id="map-frame-and-axes-annotations-the-b-option">
<h3>12.4.3. Map frame and axes annotations: The <strong>-B</strong> option<a class="headerlink" href="#map-frame-and-axes-annotations-the-b-option" title="Permalink to this headline">¶</a></h3>
<p>This is potentially the most complicated option in GMT,
but most examples of its usage are actually quite simple. We distinguish
between to sets of information: Frame settings and Axes parameters.  These
are set separately by their own <strong>-B</strong> invocations; hence multiple <strong>-B</strong>
specifications may be specified. The frame settings covers things such
as which axes should be plotted, canvas fill, plot title, and what type
of gridlines be drawn, whereas the Axes settings deal with annotation,
tick, and gridline intervals, axes labels, and annotation units.</p>
<p>The Frame settings are specified by</p>
<ul class="simple">
<li><strong>-B</strong>[<em>axes</em>][<strong>+b</strong>][<strong>+g</strong><em>fill</em>][<strong>+n</strong>][<strong>+o</strong><em>lon/lat</em>][<strong>+t</strong><em>title</em>]</li>
</ul>
<p>Here, the optional <em>axes</em> dictates which of the axes should be drawn
and possibly annotated.  By default, all 4 map boundaries (or plot axes)
are plotted (denoted <strong>W</strong>, <strong>E</strong>, <strong>S</strong>, <strong>N</strong>). To change this selection,
append the codes for those you want (e.g., <strong>WSn</strong>). In this example,
the lower case <strong>n</strong> denotes to draw the axis and (major and minor) tick
marks on the “northern” (top) edge of the plot. The upper case <strong>WS</strong> will
annotate the “western” and “southern” axes with numerals and plot the
any axis labels in addition to draw axis/tick-marks.  For 3-D plots you can
also specify <strong>Z</strong> or <strong>z</strong>.  By default a single vertical axes will then be
plotted at the most suitable map corner.  You can override this by appending
any combination of corner ids <strong>1234</strong>, where <strong>1</strong> represents the lower left
corner and the order goes counter-clockwise.  Append <strong>+b</strong> to draw the outline
of the 3-D box defined by <strong>-R</strong>; this modifier is also needed to display
gridlines in the x--z, y--z planes.  You may paint the
map canvas by appending the <strong>+g</strong><em>fill</em> modifier [Default is no fill].
If gridlines are specified via the Axes parameters (discussed below) then
by default these are referenced to the North pole.  If, however, you wish
to produce oblique gridlines about another pole you can append <strong>+o</strong><em>lon/lat</em>
to change this behavior (the modifier is ignored if no gridlines are requested).
Append <strong>+n</strong> to have no frame and annotations at all [Default is controlled by the codes].
Finally, you may optionally add <strong>+t</strong><em>title</em> to place a title that
will appear centered above the plot frame.</p>
<p>The Axes settings are specified by</p>
<ul class="simple">
<li><strong>-B</strong>[<strong>p</strong>|<strong>s</strong>][<strong>x</strong>|<strong>x</strong>|<strong>z</strong>]<em>intervals</em>[<strong>+l</strong><em>label</em>][<strong>+p</strong><em>prefix</em>][<strong>+u</strong><em>unit</em>]</li>
</ul>
<p>but you may also split this into two separate invocations for clarity, i.e.,</p>
<ul class="simple">
<li><strong>-B</strong>[<strong>p</strong>|<strong>s</strong>][<strong>x</strong>|<strong>y</strong>|<strong>z</strong>][<strong>+l</strong><em>label</em>][<strong>+p</strong><em>prefix</em>][<strong>+u</strong><em>unit</em>]</li>
<li><strong>-B</strong>[<strong>p</strong>|<strong>s</strong>][<strong>x</strong>|<strong>y</strong>|<strong>z</strong>]<em>intervals</em></li>
</ul>
<p>The first optional flag following <strong>-B</strong> selects <strong>p</strong> (rimary) [Default] or
<strong>s</strong> (econdary) axes information (which is mostly used for time axes
annotations; see examples below). The next optional flags specifies which
axes you are providing information for.  This can be an individual axis
(e.g., just <strong>x</strong>) or a combination (e.g., <strong>xz</strong>).  If none are given then
we default to <strong>xy</strong>.  Thus, if you wish to give different annotation intervals
or labels for the various axes then you must repeat the <strong>B</strong> option for
each axis.  To add a label to an axis, just append <strong>+l</strong><em>label</em>.  If the
axis annotation should have a leading text prefix (e.g., dollar sign for those
plots of your net worth) you can append <strong>+p</strong><em>prefix</em>.  For geographic maps
the addition of degree symbols, etc. is automatic (and controlled by the GMT
default setting <a class="reference internal" href="gmt.conf.html#format-geo-map"><span class="std std-ref">FORMAT_GEO_MAP</span></a>).  However, for other plots you can add
specific units by adding <strong>+u</strong><em>unit</em>.  If any of these text strings contain
spaces or special UNIX characters you will need to enclose them in quotes.
The <em>intervals</em> specification is a concatenated string made up of substrings of the form</p>
<p>[<strong>t</strong>]<em>stride</em>[<em>phase</em>][<strong>u</strong>].</p>
<p>The <strong>t</strong> flag sets the axis
item of interest; the available items are listed in Table <a class="reference internal" href="#tbl-inttype"><span class="std std-ref">inttype</span></a>.
Normally, equidistant annotations occur at multiples of <em>stride</em>; you
can phase-shift this by appending <em>phase</em>, which can be a positive or
negative number.</p>
<table border="1" class="docutils" id="tbl-inttype">
<colgroup>
<col width="24%" />
<col width="76%" />
</colgroup>
<thead valign="bottom">
<tr class="row-odd"><th class="head"><strong>Flag</strong></th>
<th class="head"><strong>Description</strong></th>
</tr>
</thead>
<tbody valign="top">
<tr class="row-even"><td><strong>a</strong></td>
<td>Annotation and major tick spacing</td>
</tr>
<tr class="row-odd"><td><strong>f</strong></td>
<td>Minor tick spacing</td>
</tr>
<tr class="row-even"><td><strong>g</strong></td>
<td>Grid line spacing</td>
</tr>
</tbody>
</table>
<p>Note that the appearance of certain time annotations (month-, week-, and
day-names) may be affected by the <a class="reference internal" href="gmt.conf.html#gmt-language"><span class="std std-ref">GMT_LANGUAGE</span></a>,
<a class="reference internal" href="gmt.conf.html#format-time-primary-map"><span class="std std-ref">FORMAT_TIME_PRIMARY_MAP</span></a>, and
<a class="reference internal" href="gmt.conf.html#format-time-secondary-map"><span class="std std-ref">FORMAT_TIME_SECONDARY_MAP</span></a> settings.</p>
<p>For automated plots the region may not always be the same and thus it
can be difficult to determine the appropriate <em>stride</em> in advance. Here
GMT provides the opportunity to auto-select the spacing between the
major and minor ticks and the grid lines, by not specifying the <em>stride</em>
value. For example, <strong>-Bafg</strong> will select all three spacings
automatically for both axes. In case of longitude--latitude plots, this
will keep the spacing the same on both axes. You can also use
<strong>-Bafg/afg</strong> to auto-select them separately.</p>
<p>In the case of automatic spacing, when the <em>stride</em> argument is omitted
after <strong>g</strong>, the grid line spacing is chosen the same as the minor tick
spacing; unless <strong>g</strong> is used in consort with <strong>a</strong>, then the grid lines
are spaced the same as the annotations.</p>
<p>The unit flag <strong>u</strong> can take on one of 18 codes; these are listed in
Table <a class="reference internal" href="#tbl-units"><span class="std std-ref">units</span></a>. Almost all of these units are time-axis specific.
However, the <strong>m</strong> and <strong>s</strong> units will be interpreted as arc minutes
and arc seconds, respectively, when a map projection is in effect.</p>
<table border="1" class="docutils" id="tbl-units">
<colgroup>
<col width="12%" />
<col width="17%" />
<col width="71%" />
</colgroup>
<thead valign="bottom">
<tr class="row-odd"><th class="head"><strong>Flag</strong></th>
<th class="head"><strong>Unit</strong></th>
<th class="head"><strong>Description</strong></th>
</tr>
</thead>
<tbody valign="top">
<tr class="row-even"><td><strong>Y</strong></td>
<td>year</td>
<td>Plot using all 4 digits</td>
</tr>
<tr class="row-odd"><td><strong>y</strong></td>
<td>year</td>
<td>Plot using last 2 digits</td>
</tr>
<tr class="row-even"><td><strong>O</strong></td>
<td>month</td>
<td>Format annotation using <strong>FORMAT_DATE_MAP</strong></td>
</tr>
<tr class="row-odd"><td><strong>o</strong></td>
<td>month</td>
<td>Plot as 2-digit integer (1--12)</td>
</tr>
<tr class="row-even"><td><strong>U</strong></td>
<td>ISO week</td>
<td>Format annotation using <strong>FORMAT_DATE_MAP</strong></td>
</tr>
<tr class="row-odd"><td><strong>u</strong></td>
<td>ISO week</td>
<td>Plot as 2-digit integer (1--53)</td>
</tr>
<tr class="row-even"><td><strong>r</strong></td>
<td>Gregorian week</td>
<td>7-day stride from start of week (see <strong>TIME_WEEK_START</strong>)</td>
</tr>
<tr class="row-odd"><td><strong>K</strong></td>
<td>ISO weekday</td>
<td>Plot name of weekday in selected language</td>
</tr>
<tr class="row-even"><td><strong>k</strong></td>
<td>weekday</td>
<td>Plot number of day in the week (1--7) (see <strong>TIME_WEEK_START</strong>)</td>
</tr>
<tr class="row-odd"><td><strong>D</strong></td>
<td>date</td>
<td>Format annotation using <strong>FORMAT_DATE_MAP</strong></td>
</tr>
<tr class="row-even"><td><strong>d</strong></td>
<td>day</td>
<td>Plot day of month (1--31) or day of year (1--366)</td>
</tr>
<tr class="row-odd"><td>&#160;</td>
<td>&#160;</td>
<td>(see <strong>FORMAT_DATE_MAP</strong></td>
</tr>
<tr class="row-even"><td><strong>R</strong></td>
<td>day</td>
<td>Same as <strong>d</strong>; annotations aligned with week (see <strong>TIME_WEEK_START</strong>)</td>
</tr>
<tr class="row-odd"><td><strong>H</strong></td>
<td>hour</td>
<td>Format annotation using <strong>FORMAT_CLOCK_MAP</strong></td>
</tr>
<tr class="row-even"><td><strong>h</strong></td>
<td>hour</td>
<td>Plot as 2-digit integer (0--24)</td>
</tr>
<tr class="row-odd"><td><strong>M</strong></td>
<td>minute</td>
<td>Format annotation using <strong>FORMAT_CLOCK_MAP</strong></td>
</tr>
<tr class="row-even"><td><strong>m</strong></td>
<td>minute</td>
<td>Plot as 2-digit integer (0--60)</td>
</tr>
<tr class="row-odd"><td><strong>S</strong></td>
<td>seconds</td>
<td>Format annotation using <strong>FORMAT_CLOCK_MAP</strong></td>
</tr>
<tr class="row-even"><td><strong>s</strong></td>
<td>seconds</td>
<td>Plot as 2-digit integer (0--60)</td>
</tr>
</tbody>
</table>
<p>As mentioned, there may be two levels of annotations. Here, “primary” refers to the
annotation that is closest to the axis (this is the primary annotation),
while “secondary” refers to the secondary annotation that is plotted
further from the axis. The examples below will clarify what is meant.
Note that the terms “primary” and “secondary” do not reflect any
hierarchical order of units: The “primary” annotation interval is
usually smaller (e.g., days) while the “secondary” annotation interval
typically is larger (e.g., months).</p>
<div class="section" id="geographic-basemaps">
<h4>12.4.3.1. Geographic basemaps<a class="headerlink" href="#geographic-basemaps" title="Permalink to this headline">¶</a></h4>
<p>Geographic basemaps may differ from regular plot axis in that some
projections support a “fancy” form of axis and is selected by the
<a class="reference internal" href="gmt.conf.html#map-frame-type"><span class="std std-ref">MAP_FRAME_TYPE</span></a> setting. The annotations will be formatted
according to the <a class="reference internal" href="gmt.conf.html#format-geo-map"><span class="std std-ref">FORMAT_GEO_MAP</span></a> template and
<a class="reference internal" href="gmt.conf.html#map-degree-symbol"><span class="std std-ref">MAP_DEGREE_SYMBOL</span></a> setting. A simple example of part of a basemap
is shown in Figure <a class="reference internal" href="#basemap-border"><span class="std std-ref">Geographic map border</span></a>.</p>
<div class="figure align-center" id="id109">
<span id="basemap-border"></span><a class="reference internal image-reference" href="_images/GMT_-B_geo_1.png"><img alt="_images/GMT_-B_geo_1.png" src="_images/GMT_-B_geo_1.png" style="width: 500px;" /></a>
<p class="caption"><span class="caption-text">Geographic map border using separate selections for annotation,
frame, and grid intervals.  Formatting of the annotation is controlled by
the parameter <a class="reference internal" href="gmt.conf.html#format-geo-map"><span class="std std-ref">FORMAT_GEO_MAP</span></a> in your <a class="reference internal" href="gmt.conf.html"><span class="doc">gmt.conf</span></a>.</span></p>
</div>
<p>The machinery for primary and secondary annotations introduced for
time-series axes can also be utilized for geographic basemaps. This may
be used to separate degree annotations from minutes- and
seconds-annotations. For a more complicated basemap example using
several sets of intervals, including different intervals and pen
attributes for grid lines and grid crosses, see Figure <a class="reference internal" href="#complex-basemap"><span class="std std-ref">Complex basemap</span></a>.</p>
<div class="figure align-center" id="id110">
<span id="complex-basemap"></span><a class="reference internal image-reference" href="_images/GMT_-B_geo_2.png"><img alt="_images/GMT_-B_geo_2.png" src="_images/GMT_-B_geo_2.png" style="width: 500px;" /></a>
<p class="caption"><span class="caption-text">Geographic map border with both primary (P) and secondary (S) components.</span></p>
</div>
</div>
<div class="section" id="cartesian-linear-axes">
<h4>12.4.3.2. Cartesian linear axes<a class="headerlink" href="#cartesian-linear-axes" title="Permalink to this headline">¶</a></h4>
<p>For non-geographic axes, the <a class="reference internal" href="gmt.conf.html#map-frame-type"><span class="std std-ref">MAP_FRAME_TYPE</span></a> setting is implicitly
set to plain. Other than that, cartesian linear axes are very similar to
geographic axes. The annotation format may be controlled with the
<a class="reference internal" href="gmt.conf.html#format-float-out"><span class="std std-ref">FORMAT_FLOAT_OUT</span></a> parameter. By default, it is set to “%g”, which
is a C language format statement for floating point numbers <a class="footnote-reference" href="#id72" id="id22">[13]</a>, and
with this setting the various axis routines will automatically determine
how many decimal points should be used by inspecting the <em>stride</em>
settings. If <a class="reference internal" href="gmt.conf.html#format-float-out"><span class="std std-ref">FORMAT_FLOAT_OUT</span></a> is set to another format it will be
used directly (.e.g, “%.2f” for a fixed, two decimals format). Note that
for these axes you may use the <em>unit</em> setting to add a unit string to
each annotation (see Figure <a class="reference internal" href="#axis-label-basemap"><span class="std std-ref">Axis label</span></a>).</p>
<div class="figure align-center" id="id111">
<span id="axis-label-basemap"></span><a class="reference internal image-reference" href="_images/GMT_-B_linear.png"><img alt="_images/GMT_-B_linear.png" src="_images/GMT_-B_linear.png" style="width: 500px;" /></a>
<p class="caption"><span class="caption-text">Linear Cartesian projection axis.  Long tick-marks accompany
annotations, shorter ticks indicate frame interval. The axis label is
optional. For this example we used <code class="docutils literal notranslate"><span class="pre">-R0/12/0/0.95</span> <span class="pre">-JX3i/0.3i</span> <span class="pre">-Ba4f2g1+lFrequency+u&quot;</span> <span class="pre">%&quot;</span> <span class="pre">-BS</span></code></span></p>
</div>
</div>
<div class="section" id="cartesian-log10-axes">
<h4>12.4.3.3. Cartesian log<sub>10</sub> axes<a class="headerlink" href="#cartesian-log10-axes" title="Permalink to this headline">¶</a></h4>
<p>Due to the logarithmic nature of annotation spacings, the <em>stride</em>
parameter takes on specific meanings. The following concerns are
specific to log axes (see Figure <a class="reference internal" href="#log-projection"><span class="std std-ref">Logarithmic projection axis</span></a>):</p>
<ul class="simple">
<li><em>stride</em> must be 1, 2, 3, or a negative integer -n.
Annotations/ticks will then occur at 1, 1-2-5, or 1,2,3,4,…,9,
respectively, for each magnitude range. For <em>-n</em> the
annotations will take place every <em>n</em>’th magnitude.</li>
<li>Append <strong>l</strong> to <em>stride</em>. Then, log<sub>10</sub> of the annotation
is plotted at every integer log<sub>10</sub> value (e.g.,
<em>x = 100</em> will be annotated as “2”) [Default annotates <em>x</em> as is].</li>
<li>Append <strong>p</strong> to <em>stride</em>. Then, annotations appear as 10 raised to
log<sub>10</sub> of the value (e.g., 10<sup>-5</sup>).</li>
</ul>
<div class="figure align-center" id="id112">
<span id="log-projection"></span><a class="reference internal image-reference" href="_images/GMT_-B_log.png"><img alt="_images/GMT_-B_log.png" src="_images/GMT_-B_log.png" style="width: 500px;" /></a>
<p class="caption"><span class="caption-text">Logarithmic projection axis using separate values for annotation,
frame, and grid intervals.  (top) Here, we have chosen to annotate the actual
values.  Interval = 1 means every whole power of 10, 2 means 1, 2, 5 times
powers of 10, and 3 means every 0.1 times powers of 10.  We used
-R1/1000/0/1 -JX3il/0.25i -Ba1f2g3. (middle) Here, we have chosen to
annotate <span class="math notranslate nohighlight">\(\log_{10}\)</span> of the actual values, with -Ba1f2g3l.
(bottom) We annotate every power of 10 using <span class="math notranslate nohighlight">\(\log_{10}\)</span> of the actual
values as exponents, with -Ba1f2g3p.</span></p>
</div>
</div>
<div class="section" id="cartesian-exponential-axes">
<h4>12.4.3.4. Cartesian exponential axes<a class="headerlink" href="#cartesian-exponential-axes" title="Permalink to this headline">¶</a></h4>
<p>Normally, <em>stride</em> will be used to create equidistant (in the user’s
unit) annotations or ticks, but because of the exponential nature of the
axis, such annotations may converge on each other at one end of the
axis. To avoid this problem, you can append <strong>p</strong> to <em>stride</em>, and the
annotation interval is expected to be in transformed units, yet the
annotation itself will be plotted as un-transformed units (see Figure
<a class="reference internal" href="#pow-projection"><span class="std std-ref">Power projection axis</span></a>). E.g., if
<em>stride</em> = 1 and power = 0.5 (i.e., sqrt), then equidistant annotations
labeled 1, 4, 9, … will appear.</p>
<div class="figure align-center" id="id113">
<span id="pow-projection"></span><a class="reference internal image-reference" href="_images/GMT_-B_pow.png"><img alt="_images/GMT_-B_pow.png" src="_images/GMT_-B_pow.png" style="width: 500px;" /></a>
<p class="caption"><span class="caption-text">Exponential or power projection axis. (top) Using an exponent of 0.5
yields a <span class="math notranslate nohighlight">\(sqrt(x)\)</span> axis.  Here, intervals refer to actual data values,
in -R0/100/0/0.9 -JX3ip0.5/0.25i -Ba20f10g5.
(bottom) Here, intervals refer to projected values, although the annotation
uses the corresponding unprojected values, as in -Ba3f2g1p.</span></p>
</div>
</div>
<div class="section" id="cartesian-time-axes">
<span id="id23"></span><h4>12.4.3.5. Cartesian time axes<a class="headerlink" href="#cartesian-time-axes" title="Permalink to this headline">¶</a></h4>
<p>What sets time axis apart from the other kinds of plot axes is the
numerous ways in which we may want to tick and annotate the axis. Not
only do we have both primary and secondary annotation items but we also
have interval annotations versus tick-mark annotations, numerous time
units, and several ways in which to modify the plot. We will demonstrate
this flexibility with a series of examples. While all our examples will
only show a single <em>x</em>-axis (south, selected via <strong>-BS</strong>), time-axis
annotations are supported for all axes.</p>
<p>Our first example shows a time period of almost two months in Spring
2000. We want to annotate the month intervals as well as the date at the start of each week:</p>
<blockquote>
<div><div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>gmt <span class="nb">set</span> <span class="nv">FORMAT_DATE_MAP</span><span class="o">=</span>-o FONT_ANNOT_PRIMARY +9p
gmt psbasemap -R2000-4-1T/2000-5-25T/0/1 -JX5i/0.2i -Bpa7Rf1d -Bsa1O -BS -P &gt; GMT_-B_time1.ps
</pre></div>
</div>
</div></blockquote>
<p>These commands result in Figure <a class="reference internal" href="#cartesian-axis1"><span class="std std-ref">Cartesian time axis</span></a>.
Note the leading hyphen in the <a class="reference internal" href="gmt.conf.html#format-date-map"><span class="std std-ref">FORMAT_DATE_MAP</span></a>
removes leading zeros from calendar items (e.g., 02 becomes 2).</p>
<div class="figure align-center" id="id114">
<span id="cartesian-axis1"></span><a class="reference internal image-reference" href="_images/GMT_-B_time1.png"><img alt="_images/GMT_-B_time1.png" src="_images/GMT_-B_time1.png" style="width: 500px;" /></a>
<p class="caption"><span class="caption-text">Cartesian time axis, example 1</span></p>
</div>
<p>The next example shows two different ways to annotate an axis portraying 2 days in July 1969:</p>
<blockquote>
<div><div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>gmt <span class="nb">set</span> FORMAT_DATE_MAP <span class="s2">&quot;o dd&quot;</span> FORMAT_CLOCK_MAP hh:mm FONT_ANNOT_PRIMARY +9p
gmt psbasemap -R1969-7-21T/1969-7-23T/0/1 -JX5i/0.2i -Bpa6Hf1h -Bsa1K -BS -P -K &gt; GMT_-B_time2.ps
gmt psbasemap -R -J -Bpa6Hf1h -Bsa1D -BS -O -Y0.65i &gt;&gt; GMT_-B_time2.ps
</pre></div>
</div>
</div></blockquote>
<p>The lower example (Figure <a class="reference internal" href="#cartesian-axis2"><span class="std std-ref">Cartesian time axis, example 2</span></a>) chooses to annotate the weekdays (by
specifying <strong>a</strong>1<strong>K</strong>) while the upper example choses dates (by
specifying <strong>a</strong>1<strong>D</strong>). Note how the clock format only selects
hours and minutes (no seconds) and the date format selects a month name,
followed by one space and a two-digit day-of-month number.</p>
<div class="figure align-center" id="id115">
<span id="cartesian-axis2"></span><a class="reference internal image-reference" href="_images/GMT_-B_time2.png"><img alt="_images/GMT_-B_time2.png" src="_images/GMT_-B_time2.png" style="width: 500px;" /></a>
<p class="caption"><span class="caption-text">Cartesian time axis, example 2</span></p>
</div>
<p>The third example (Figure <a class="reference internal" href="#cartesian-axis3"><span class="std std-ref">Cartesian time axis, example 3</span></a>) presents two years, annotating
both the years and every 3rd month.</p>
<blockquote>
<div><div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>gmt <span class="nb">set</span> FORMAT_DATE_MAP o FORMAT_TIME_PRIMARY_MAP Character FONT_ANNOT_PRIMARY +9p
gmt psbasemap -R1997T/1999T/0/1 -JX5i/0.2i -Bpa3Of1o -Bsa1Y -BS -P &gt; GMT_-B_time3.ps
</pre></div>
</div>
</div></blockquote>
<p>Note that while the year annotation is centered on the 1-year interval,
the month annotations must be centered on the corresponding month and
<em>not</em> the 3-month interval. The <a class="reference internal" href="gmt.conf.html#format-date-map"><span class="std std-ref">FORMAT_DATE_MAP</span></a> selects month name
only and <a class="reference internal" href="gmt.conf.html#format-time-primary-map"><span class="std std-ref">FORMAT_TIME_PRIMARY_MAP</span></a> selects the 1-character, upper
case abbreviation of month names using the current language (selected by
<a class="reference internal" href="gmt.conf.html#gmt-language"><span class="std std-ref">GMT_LANGUAGE</span></a>).</p>
<div class="figure align-center" id="id116">
<span id="cartesian-axis3"></span><a class="reference internal image-reference" href="_images/GMT_-B_time3.png"><img alt="_images/GMT_-B_time3.png" src="_images/GMT_-B_time3.png" style="width: 500px;" /></a>
<p class="caption"><span class="caption-text">Cartesian time axis, example 3</span></p>
</div>
<p>The fourth example (Figure <a class="reference internal" href="#cartesian-axis4"><span class="std std-ref">Cartesian time axis, example 4</span></a>) only shows a few hours of a day, using
relative time by specifying <strong>t</strong> in the <strong>-R</strong> option while the
<a class="reference internal" href="gmt.conf.html#time-unit"><span class="std std-ref">TIME_UNIT</span></a> is <strong>d</strong> (for days). We select both primary and secondary
annotations, ask for a 12-hour clock, and let time go from right to left:</p>
<blockquote>
<div><div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>gmt <span class="nb">set</span> <span class="nv">FORMAT_CLOCK_MAP</span><span class="o">=</span>-hham FONT_ANNOT_PRIMARY +9p TIME_UNIT d
gmt psbasemap -R0.2t/0.35t/0/1 -JX-5i/0.2i -Bpa15mf5m -Bsa1H -BS -P &gt; GMT_-B_time4.ps
</pre></div>
</div>
</div></blockquote>
<div class="figure align-center" id="id117">
<span id="cartesian-axis4"></span><a class="reference internal image-reference" href="_images/GMT_-B_time4.png"><img alt="_images/GMT_-B_time4.png" src="_images/GMT_-B_time4.png" style="width: 500px;" /></a>
<p class="caption"><span class="caption-text">Cartesian time axis, example 4</span></p>
</div>
<p>The fifth example shows a few weeks of time (Figure <a class="reference internal" href="#cartesian-axis5"><span class="std std-ref">Cartesian time axis, example 5</span></a>). The lower axis
shows ISO weeks with week numbers and abbreviated names of the weekdays.
The upper uses Gregorian weeks (which start at the day chosen by
<a class="reference internal" href="gmt.conf.html#time-week-start"><span class="std std-ref">TIME_WEEK_START</span></a>); they do not have numbers.</p>
<blockquote>
<div><div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>gmt <span class="nb">set</span> FORMAT_DATE_MAP u FORMAT_TIME_PRIMARY_MAP Character <span class="se">\</span>
       FORMAT_TIME_SECONDARY_MAP full FONT_ANNOT_PRIMARY +9p
gmt psbasemap -R1969-7-21T/1969-8-9T/0/1 -JX5i/0.2i -Bpa1K -Bsa1U -BS -P -K &gt; GMT_-B_time5.ps
gmt <span class="nb">set</span> FORMAT_DATE_MAP o TIME_WEEK_START Sunday FORMAT_TIME_SECONDARY_MAP Chararacter
gmt psbasemap -R -J -Bpa3Kf1k -Bsa1r -BS -O -Y0.65i &gt;&gt; GMT_-B_time5.ps
</pre></div>
</div>
</div></blockquote>
<div class="figure align-center" id="id118">
<span id="cartesian-axis5"></span><a class="reference internal image-reference" href="_images/GMT_-B_time5.png"><img alt="_images/GMT_-B_time5.png" src="_images/GMT_-B_time5.png" style="width: 500px;" /></a>
<p class="caption"><span class="caption-text">Cartesian time axis, example 5</span></p>
</div>
<p>Our sixth example (Figure <a class="reference internal" href="#cartesian-axis6"><span class="std std-ref">Cartesian time axis, example 6</span></a>) shows the first five months of
1996, and we have annotated each month with an abbreviated, upper case name and
2-digit year. Only the primary axes information is specified.</p>
<blockquote>
<div><div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>gmt <span class="nb">set</span> FORMAT_DATE_MAP <span class="s2">&quot;o yy&quot;</span> FORMAT_TIME_PRIMARY_MAP Abbreviated
gmt psbasemap -R1996T/1996-6T/0/1 -JX5i/0.2i -Ba1Of1d -BS -P &gt; GMT_-B_time6.ps
</pre></div>
</div>
</div></blockquote>
<div class="figure align-center" id="id119">
<span id="cartesian-axis6"></span><a class="reference internal image-reference" href="_images/GMT_-B_time6.png"><img alt="_images/GMT_-B_time6.png" src="_images/GMT_-B_time6.png" style="width: 500px;" /></a>
<p class="caption"><span class="caption-text">Cartesian time axis, example 6</span></p>
</div>
<p>Our seventh and final example (Figure <a class="reference internal" href="#cartesian-axis7"><span class="std std-ref">Cartesian time axis, example 7</span></a>) illustrates
annotation of year-days. Unless we specify the formatting with a leading hyphen
in <a class="reference internal" href="gmt.conf.html#format-date-map"><span class="std std-ref">FORMAT_DATE_MAP</span></a> we get 3-digit integer days. Note that
in order to have the two years annotated we need to allow for the annotation of
small fractional intervals; normally such truncated interval must be at
least half of a full interval.</p>
<blockquote>
<div><div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>gmt <span class="nb">set</span> FORMAT_DATE_MAP jjj TIME_INTERVAL_FRACTION <span class="m">0</span>.05 FONT_ANNOT_PRIMARY +9p
gmt psbasemap -R2000-12-15T/2001-1-15T/0/1 -JX5i/0.2i -Bpa5Df1d -Bsa1Y -BS -P &gt; GMT_-B_time7.ps
</pre></div>
</div>
</div></blockquote>
<div class="figure align-center" id="id120">
<span id="cartesian-axis7"></span><a class="reference internal image-reference" href="_images/GMT_-B_time7.png"><img alt="_images/GMT_-B_time7.png" src="_images/GMT_-B_time7.png" style="width: 500px;" /></a>
<p class="caption"><span class="caption-text">Cartesian time axis, example 7</span></p>
</div>
</div>
<div class="section" id="custom-axes">
<h4>12.4.3.6. Custom axes<a class="headerlink" href="#custom-axes" title="Permalink to this headline">¶</a></h4>
<p>Irregularly spaced annotations or annotations based on
look-up tables can be implemented using the <em>custom</em> annotation
mechanism. Here, we given the <strong>c</strong> (custom) type to the <strong>-B</strong> option
followed by a filename that contains the annotations (and
tick/grid-lines specifications) for one axis. The file can contain any
number of comments (lines starting with #) and any number of records of
the format</p>
<div class="line-block">
<div class="line"><em>coord</em> <em>type</em> [<em>label</em>]</div>
</div>
<p>The <em>coord</em> is the location of the desired annotation, tick, or
grid-line, whereas <em>type</em> is a string composed of letters from <strong>a</strong>
(annotation), <strong>i</strong> interval annotation, <strong>f</strong> frame tick, and <strong>g</strong>
gridline. You must use either <strong>a</strong> or <strong>i</strong> within one file; no mixing
is allowed. The coordinates should be arranged in increasing order. If
<em>label</em> is given it replaces the normal annotation based on the <em>coord</em>
value. Our last example (Figure <a class="reference internal" href="#custom-annotations"><span class="std std-ref">Custom and irregular annotations</span></a>) shows such a custom basemap with an interval
annotations on the <em>x</em>-axis and irregular annotations on the <em>y</em>-axis.</p>
<blockquote>
<div><div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>cat <span class="s">&lt;&lt; EOF &gt; xannots.txt</span>
<span class="s">416.0 ig Devonian</span>
<span class="s">443.7 ig Silurian</span>
<span class="s">488.3 ig Ordovician</span>
<span class="s">542 ig Cambrian</span>
<span class="s">EOF</span>
cat <span class="s">&lt;&lt; EOF &gt; yannots.txt</span>
<span class="s">0 a</span>
<span class="s">1 a</span>
<span class="s">2 f</span>
<span class="s">2.71828 ag e</span>
<span class="s">3 f</span>
<span class="s">3.1415926 ag @~p@~</span>
<span class="s">4 f</span>
<span class="s">5 f</span>
<span class="s">6 f</span>
<span class="s">6.2831852 ag 2@~p@~</span>
<span class="s">EOF</span>
gmt psbasemap -R416/542/0/6.2831852 -JX-5i/2.5i -Bpx25f5g25+u<span class="s2">&quot; Ma&quot;</span> -Bpycyannots.txt <span class="se">\</span>
              -BWS+glightblue -P -K &gt; GMT_-B_custom.ps
gmt psbasemap -R416/542/0/6.2831852 -JX-5i/2.5i -Bsxcxannots.txt -BWS -O <span class="se">\</span>
              --MAP_ANNOT_OFFSET_SECONDARY<span class="o">=</span>10p --MAP_GRID_PEN_SECONDARY<span class="o">=</span>2p &gt;&gt; GMT_-B_custom.ps
rm -f <span class="o">[</span>xy<span class="o">]</span>annots.txt
</pre></div>
</div>
</div></blockquote>
<div class="figure align-center" id="id121">
<span id="custom-annotations"></span><a class="reference internal image-reference" href="_images/GMT_-B_custom.png"><img alt="_images/GMT_-B_custom.png" src="_images/GMT_-B_custom.png" style="width: 500px;" /></a>
<p class="caption"><span class="caption-text">Custom and irregular annotations, tick-marks, and gridlines.</span></p>
</div>
</div>
</div>
<div class="section" id="portrait-plot-orientation-the-p-option">
<h3>12.4.4. Portrait plot orientation: The <strong>-P</strong> option<a class="headerlink" href="#portrait-plot-orientation-the-p-option" title="Permalink to this headline">¶</a></h3>
<p>The <strong>-P</strong> option selects Portrait plotting mode <a class="footnote-reference" href="#id73" id="id24">[14]</a>. In general, a
plot has an <em>x</em>-axis increasing from left to right and a <em>y</em>-axis
increasing from bottom to top. If the paper is turned so that the long
dimension of the paper is parallel to the <em>x</em>-axis then the plot is said
to have <em>Landscape</em> orientation. If the long dimension of the paper
parallels the <em>y</em>-axis the orientation is called <em>Portrait</em> (think of
taking pictures with a camera and these words make sense). The default
Landscape orientation is obtained by translating the origin in the
<em>x</em>-direction (by the width of the chosen paper <a class="reference internal" href="gmt.conf.html#ps-media"><span class="std std-ref">PS_MEDIA</span></a>) and then
rotating the coordinate system counterclockwise by 90. By default the
<a class="reference internal" href="gmt.conf.html#ps-media"><span class="std std-ref">PS_MEDIA</span></a> is set to Letter (or A4 if SI is chosen); this value must
be changed when using different media, such as 11” x 17” or large format
plotters (Figure <a class="reference internal" href="#p-option"><span class="std std-ref">Plot orientation</span></a>).</p>
<div class="figure align-center" id="id122">
<span id="p-option"></span><a class="reference internal image-reference" href="_images/GMT_-P.png"><img alt="_images/GMT_-P.png" src="_images/GMT_-P.png" style="width: 500px;" /></a>
<p class="caption"><span class="caption-text">Users can specify Landscape [Default] or Portrait -P) orientation.</span></p>
</div>
</div>
<div class="section" id="plot-overlays-the-k-o-options">
<h3>12.4.5. Plot overlays: The <strong>-K</strong> <strong>-O</strong> options<a class="headerlink" href="#plot-overlays-the-k-o-options" title="Permalink to this headline">¶</a></h3>
<p>The <strong>-K</strong> and <strong>-O</strong> options control the generation of
<em>PostScript</em> code for multiple overlay plots. All <em>PostScript</em> files
must have a header (for initializations), a body (drawing the figure),
and a trailer (printing it out) (see Figure <a class="reference internal" href="#ok-options"><span class="std std-ref">Multiple overlay plots</span></a>). Thus, when overlaying
several GMT plots we must make sure that the first plot call omits the
trailer, that all intermediate calls omit both header and trailer, and
that the final overlay omits the header. The <strong>-K</strong> omits the trailer
which implies that more <em>PostScript</em> code will be appended later
[Default terminates the plot system]. The <strong>-O</strong> selects Overlay plot
mode and omits the header information [Default initializes a new plot
system]. Most unexpected results for multiple overlay plots can be
traced to the incorrect use of these options. If you run only one plot
program, ignore both the <strong>-O</strong> and <strong>-K</strong> options; they are only used
when stacking plots.</p>
<div class="figure align-center" id="id123">
<span id="ok-options"></span><a class="reference internal image-reference" href="_images/GMT_-OK.png"><img alt="_images/GMT_-OK.png" src="_images/GMT_-OK.png" style="width: 500px;" /></a>
<p class="caption"><span class="caption-text">A final <em>PostScript</em> file consists of any number of individual pieces.</span></p>
</div>
</div>
<div class="section" id="timestamps-on-plots-the-u-option">
<h3>12.4.6. Timestamps on plots: The <strong>-U</strong> option<a class="headerlink" href="#timestamps-on-plots-the-u-option" title="Permalink to this headline">¶</a></h3>
<p>The <strong>-U</strong> option draws UNIX System time stamp. Optionally, append an
arbitrary text string (surrounded by double quotes), or the code <strong>c</strong>,
which will plot the current command string (Figure
<a class="reference internal" href="#u-option"><span class="std std-ref">Time stamp</span></a>).</p>
<div class="figure align-center" id="id124">
<span id="u-option"></span><a class="reference internal image-reference" href="_images/GMT_-U.png"><img alt="_images/GMT_-U.png" src="_images/GMT_-U.png" style="width: 500px;" /></a>
<p class="caption"><span class="caption-text">The -U option makes it easy to date a plot.</span></p>
</div>
</div>
<div class="section" id="verbose-feedback-the-v-option">
<h3>12.4.7. Verbose feedback: The <strong>-V</strong> option<a class="headerlink" href="#verbose-feedback-the-v-option" title="Permalink to this headline">¶</a></h3>
<p>The <strong>-V</strong> option selects verbose mode, which will send
progress reports to standard error. Even more verbose levels are <strong>-Vl</strong>
(long verbose) and <strong>-Vd</strong> (debug). Normal verbosity level produces only
error and warning messages. This is the default or can be selected by
using <strong>-Vn</strong>. If compiled with backward-compatibility support, the
default is <strong>-Vc</strong>, which includes warnings about deprecated usage.
Finally, <strong>-Vq</strong> can be used to run without any warnings or errors. This
option can also be set by specifying the default <a class="reference internal" href="gmt.conf.html#gmt-verbose"><span class="std std-ref">GMT_VERBOSE</span></a>, as
<strong>quiet</strong>, <strong>normal</strong>, <strong>compat</strong>, <strong>verbose</strong>, <strong>long_verbose</strong>, or
<strong>debug</strong>, in order of increased verbosity.</p>
</div>
<div class="section" id="plot-positioning-and-layout-the-x-y-options">
<h3>12.4.8. Plot positioning and layout: The <strong>-X</strong> <strong>-Y</strong> options<a class="headerlink" href="#plot-positioning-and-layout-the-x-y-options" title="Permalink to this headline">¶</a></h3>
<p>The <strong>-X</strong> and <strong>-Y</strong> options shift origin of plot by (<em>xoff</em>,<em>yoff</em>)
inches (Default is (<a class="reference internal" href="gmt.conf.html#map-origin-x"><span class="std std-ref">MAP_ORIGIN_X</span></a>, <a class="reference internal" href="gmt.conf.html#map-origin-y"><span class="std std-ref">MAP_ORIGIN_Y</span></a>) for new
plots <a class="footnote-reference" href="#id74" id="id25">[15]</a> and (0,0) for overlays (<strong>-O</strong>)). By default, all
translations are relative to the previous origin (see Figure
<a class="reference internal" href="#xy-options"><span class="std std-ref">Plot positioning</span></a>). Supply
offset as <strong>c</strong> to center the plot in that direction relative to the
page margin. Absolute translations (i.e., relative to a fixed point
(0,0) at the lower left corner of the paper) can be achieve by
prepending “a” to the offsets. Subsequent overlays will be co-registered
with the previous plot unless the origin is shifted using these options.
The offsets are measured in the current coordinates system (which can be
rotated using the initial <strong>-P</strong> option; subsequent <strong>-P</strong> options for
overlays are ignored).</p>
<div class="figure align-center" id="id125">
<span id="xy-options"></span><a class="reference internal image-reference" href="_images/GMT_-XY.png"><img alt="_images/GMT_-XY.png" src="_images/GMT_-XY.png" style="width: 300px;" /></a>
<p class="caption"><span class="caption-text">Plot origin can be translated freely with -X -Y.</span></p>
</div>
</div>
<div class="section" id="ogr-gmt-gis-i-o-the-a-option">
<h3>12.4.9. OGR/GMT GIS i/o: The <strong>-a</strong> option<a class="headerlink" href="#ogr-gmt-gis-i-o-the-a-option" title="Permalink to this headline">¶</a></h3>
<p>GMT relies on external tools to translate geospatial files such as
shapefiles into a format we can read. The tool <strong>ogr2ogr</strong> in the GDAL
package can do such translations and preserve the aspatial metadata via
a new OGR/GMT format specification (See Chapter <a class="reference internal" href="#the-gmt-vector-data-format-for-ogr-compatibility">The GMT Vector Data Format for OGR Compatibility</a>).
For this to be useful we need a mechanism to associate certain metadata values with
required input and output columns expected by GMT programs. The <strong>-a</strong>
option allows you to supply one or more comma-separated associations
<em>col=name</em>, where <em>name</em> is the name of an aspatial attribute field in a
OGR/GMT file and whose value we wish to as data input for column <em>col</em>.
The given aspatial field thus replaces any other value already set. Note
that <em>col = 0</em> is the first data columns. Note that if no aspatial
attributes are needed then the <strong>-a</strong> option is not needed -- GMT will
still process and read such data files.</p>
<div class="section" id="ogr-gmt-input-with-a-option">
<h4>12.4.9.1. OGR/GMT input with <strong>-a</strong> option<a class="headerlink" href="#ogr-gmt-input-with-a-option" title="Permalink to this headline">¶</a></h4>
<p>If you need to populate GMT data columns with (constant) values
specified by aspatial attributes, use <strong>-a</strong> and append any number of
comma-separated <em>col=name</em> associations. E.g., <em>2=depth</em> will read the
spatial <em>x,y</em> columns from the file and add a third (<em>z</em>) column based
on the value of the aspatial field called <em>depth</em>. You can also
associate aspatial fields with other settings such as labels, fill
colors, pens, and values used to look-up colors. Do so by letting the
<em>col</em> value be one of <strong>D</strong>, <strong>G</strong>, <strong>L</strong>, <strong>T</strong>, <strong>W</strong>, or <strong>Z</strong>. This
works analogously to how standard multi-segment files can pass such
options via its segment headers (See Chapter <a class="reference internal" href="#gmt-file-formats">GMT file formats</a>).</p>
</div>
<div class="section" id="ogr-gmt-output-with-a-option">
<h4>12.4.9.2. OGR/GMT output with <strong>-a</strong> option<a class="headerlink" href="#ogr-gmt-output-with-a-option" title="Permalink to this headline">¶</a></h4>
<p>You can also make GMT table-writing tools output the OGR/GMT format
directly. Again, specify if certain GMT data columns with constant
values should be stored as aspatial metadata using the
<em>col=name</em>[:<em>type</em>], where you can optionally specify what data type
it should be (double, integer, string, logical, byte, or datetime)
[double is default]. As for input, you can also use the special <em>col</em>
entries of <strong>D</strong>, <strong>G</strong>, <strong>L</strong>, <strong>T</strong>, <strong>W</strong>, or <strong>Z</strong> to have values
stored as options in segment headers be used as the source for the name
aspatial field. Finally, for output you must append
+<strong>g</strong><em>geometry</em>, where <em>geometry</em> can be any of
[<strong>M</strong>]<strong>POINT</strong>|<strong>LINE</strong>|<strong>POLY</strong>; the
<strong>M</strong> represent the multi-versions of these three geometries. Use
upper-case +<strong>G</strong> to signal that you want to split any line or polygon
features that straddle the Dateline.</p>
</div>
</div>
<div class="section" id="binary-table-i-o-the-b-option">
<h3>12.4.10. Binary table i/o: The <strong>-b</strong> option<a class="headerlink" href="#binary-table-i-o-the-b-option" title="Permalink to this headline">¶</a></h3>
<p>All GMT programs that accept table data input may read ASCII, native
binary, or netCDF tables. Native binary files may have a header section
and the <strong>-h</strong><em>n</em> option (see Section <a class="reference internal" href="#header-data-records-the-h-option">Header data records: The -h option</a>) can be used to
skip the first <em>n</em> bytes. The data record can be in any format, you may mix
different data types and even byte-swap individual columns or the entire record. When using
native binary data the user must be aware of the fact that GMT has no
way of determining the actual number of columns in the file. You must
therefore pass that information to GMT via the binary
<strong>-bi</strong> <em>n</em><strong>t</strong> option, where <em>n</em> is the number of data
columns of given type <strong>t</strong>, where <strong>t</strong> must be one of <strong>c</strong> (signed 1-byte character,
int8_t), <strong>u</strong> (unsigned 1-byte character, uint8_t), <strong>h</strong> (signed
2-byte int, int16_t), <strong>H</strong> (unsigned 2-byte int, uint16_t), <strong>i</strong>
(signed 4-byte int, int32_t), <strong>I</strong> (unsigned 4-byte int, uint32_t),
<strong>l</strong> (signed 8-byte int, int64_t), <strong>L</strong> (unsigned 8-byte int,
uint64_t), <strong>f</strong> (4-byte single-precision float), and <strong>d</strong> (8-byte
double-precision float). In addition, use <strong>x</strong> to skip <em>n</em> bytes
anywhere in the record. For a mixed-type data record you can concatenate
several [<em>n</em>]<strong>t</strong> combinations, separated by commas. You may append
<strong>w</strong> to any of the items to force byte-swapping. Alternatively, append
<strong>+L</strong>|<strong>B</strong> to indicate that the entire data file should be
read or written as little- or big-endian, respectively. Here, <em>n</em> is the
number of each item in your binary file. Note that <em>n</em> may be larger
than <em>m</em>, the number of columns that the GMT program requires to do
its task. If <em>n</em> is not given then it defaults to <em>m</em> and all columns
are assumed to be of the single specified type <strong>t</strong> [<strong>d</strong> (double), if
not set]. If <em>n</em> &lt; <em>m</em> an error is generated. Multiple segment
files are allowed and the segment headers are assumed to be records
where all the fields equal NaN.</p>
<p>For native binary output, use the <strong>-bo</strong> option; see <strong>-bi</strong> for further details.</p>
<p>Because of its meta data, reading netCDF tables (i.e., netCDF files
containing 1-dimensional arrays) is quite a bit less complex than
reading native binary files. When feeding netCDF tables to programs like
<a class="reference internal" href="psxy.html"><span class="doc">psxy</span></a>, the program will automatically
recognize the format and read whatever amount of columns are needed for
that program. To steer which columns are to be read, the user can append
the suffix <strong>?</strong><em>var1</em><strong>/</strong><em>var2</em><strong>/</strong><em>…</em> to the netCDF file
name, where <em>var1</em>, <em>var2</em>, etc. are the names of the variables to be
processed. No <strong>-bi</strong> option is needed in this case.</p>
<p>Currently, netCDF tables can only be input, not output. For more
information, see Chapter <a class="reference internal" href="#gmt-file-formats">GMT file formats</a>.</p>
</div>
<div class="section" id="missing-data-conversion-the-d-option">
<h3>12.4.11. Missing data conversion: The <strong>-d</strong> option<a class="headerlink" href="#missing-data-conversion-the-d-option" title="Permalink to this headline">¶</a></h3>
<p>Within GMT, any missing values are represented by the IEEE NaN value.
However, there are occasionally the need to handle user data where
missing data are represented by some unlikely data value such as -99999.
Since GMT cannot guess that in your data set -99999 is a special value,
you can use the <strong>-d</strong> option to have such values replaced with NaNs.
Similarly, should your GMT output need to conform to such a requirement
you can replace all NaNs with the chosen nodata value.  If only input
or output should be affected, use <strong>-di</strong> or <strong>-do</strong>, respectably.</p>
</div>
<div class="section" id="data-record-pattern-matching-the-e-option">
<h3>12.4.12. Data record pattern matching: The <strong>-e</strong> option<a class="headerlink" href="#data-record-pattern-matching-the-e-option" title="Permalink to this headline">¶</a></h3>
<p>Modules that read ASCII tables will normally process all the data records
that are read.  The <strong>-e</strong> option offers a built in pattern scanner that
will only pass records that match the given patterns or regular expressions.
The test can also be inverted to only pass data records that <em>do not</em> match
the pattern.  The test does not apply to header or segment headers.</p>
</div>
<div class="section" id="data-type-selection-the-f-option">
<h3>12.4.13. Data type selection: The <strong>-f</strong> option<a class="headerlink" href="#data-type-selection-the-f-option" title="Permalink to this headline">¶</a></h3>
<p>When map projections are not required we must explicitly state what kind
of data each input or output column contains. This is accomplished with
the <strong>-f</strong> option. Following an optional <strong>i</strong> (for input only) or <strong>o</strong>
(for output only), we append a text string with information about each
column (or range of columns) separated by commas. Each string starts
with the column number (0 is first column) followed by either <strong>x</strong>
(longitude), <strong>y</strong> (latitude), <strong>T</strong> (absolute calendar time) or <strong>t</strong>
(relative time). If several consecutive columns have the same format you
may specify a range of columns rather than a single column, i.e., 0--4
for the first 5 columns. For example, if our input file has geographic
coordinates (latitude, longitude) with absolute calendar coordinates in
the columns 3 and 4, we would specify
<strong>fi</strong>0<strong>y</strong>,1<strong>x</strong>,3--4<strong>T</strong>. All other columns are assumed to
have the default, floating point format and need not be set
individually. The shorthand <strong>-f</strong>[<strong>i</strong>|<strong>o</strong>]<strong>g</strong>
means <strong>-f</strong>[<strong>i</strong>|<strong>o</strong>]0x,1y (i.e., geographic
coordinates). A special use of <strong>-f</strong> is to select <strong>-fp</strong>[<em>unit</em>],
which <em>requires</em> <strong>-J</strong> and lets you use <em>projected</em> map coordinates
(e.g., UTM meters) as data input. Such coordinates are automatically
inverted to longitude, latitude during the data import. Optionally,
append a length <em>unit</em> (see Table <a class="reference internal" href="#tbl-distunits"><span class="std std-ref">distunits</span></a>) [meter]. For more
information, see Sections <a class="reference internal" href="#input-data-formats">Input data formats</a> and <a class="reference internal" href="#output-data-formats">Output data formats</a>.</p>
</div>
<div class="section" id="data-gap-detection-the-g-option">
<h3>12.4.14. Data gap detection: The <strong>-g</strong> option<a class="headerlink" href="#data-gap-detection-the-g-option" title="Permalink to this headline">¶</a></h3>
<p>GMT has several mechanisms that can determine line
segmentation. Typically, data segments are separated by multiple segment
header records (see Chapter <a class="reference internal" href="#gmt-file-formats">GMT file formats</a>). However, if key data columns contain a
NaN we may also use that information to break lines into multiple
segments. This behavior is modified by the parameter
<strong>IO_NAN_RECORDS</strong> which by default is set to <em>skip</em>, meaning such
records are considered bad and simply skipped. If you wish such records
to indicate a segment boundary then set this parameter to <em>pass</em>.
Finally, you may wish to indicate gaps based on the data values
themselves. The <strong>-g</strong> option is used to detect gaps based on one or
more criteria (use <strong>-g+</strong> if <em>all</em> the criteria must be met; otherwise
only one of the specified criteria needs to be met to signify a data
gap). Gaps can be based on excessive jumps in the <em>x</em>- or
<em>y</em>-coordinates (<strong>-gx</strong> or <strong>-gy</strong>), or on the distance between points
(<strong>-gd</strong>). Append the <em>gap</em> distance and optionally a unit for actual
distances. For geographic data the optional unit may be arc
<strong>d</strong>egree, <strong>m</strong>inute, and <strong>s</strong>econd, or m<strong>e</strong>ter
[Default], <strong>f</strong>eet, <strong>k</strong>ilometer, <strong>M</strong>iles, or <strong>n</strong>autical
miles. For programs that map data to map coordinates you can optionally
specify these criteria to apply to the projected coordinates (by using
upper-case <strong>-gX</strong>, <strong>-gY</strong> or <strong>-gD</strong>). In that case, choose from
<strong>c</strong>entimeter, <strong>i</strong>nch or <strong>p</strong>oint [Default unit is controlled
by <strong>PROJ_LENGTH_UNIT</strong>]. Note: For <strong>-gx</strong> or <strong>-gy</strong> with time data
the unit is instead controlled by <a class="reference internal" href="gmt.conf.html#time-unit"><span class="std std-ref">TIME_UNIT</span></a>.</p>
</div>
<div class="section" id="header-data-records-the-h-option">
<h3>12.4.15. Header data records: The <strong>-h</strong> option<a class="headerlink" href="#header-data-records-the-h-option" title="Permalink to this headline">¶</a></h3>
<p>The <strong>-h</strong>[<strong>i</strong>|<strong>o</strong>][<em>n_recs</em>] option
lets GMT know that input file(s) have <em>n_recs</em> header records [0]. If
there are more than one header record you must specify the number after
the <strong>-h</strong> option, e.g., <strong>-h</strong>4. Note that blank lines and records
that start with the character # are automatically considered header
records and skipped. Thus, <em>n_recs</em> refers to general text lines that
do <em>not</em> start with # and thus must specifically be skipped in order for
the programs to function properly. The default number of such header
records if <strong>-h</strong> is used is one of the many parameters in the <a class="reference internal" href="gmt.conf.html"><span class="doc">gmt.conf</span></a> file
(<strong>IO_N_HEADER_RECS</strong>, by default 0), but can be overridden by
<strong>-h</strong><em>n_header_recs</em>. Normally, programs that both read and write
tables will output the header records that are found on input. Use
<strong>-hi</strong> to suppress the writing of header records. You can use the
<strong>-h</strong> options modifiers to to tell programs to output extra header
records for titles, remarks or column names identifying each data column.</p>
<p>When <strong>-b</strong> is used to indicate binary data the <strong>-h</strong> takes on a
slightly different meaning. Now, the <em>n_recs</em> argument is taken to mean
how many <em>bytes</em> should be skipped (on input) or padded with the space
character (on output).</p>
</div>
<div class="section" id="input-columns-selection-the-i-option">
<h3>12.4.16. Input columns selection: The <strong>-i</strong> option<a class="headerlink" href="#input-columns-selection-the-i-option" title="Permalink to this headline">¶</a></h3>
<p>The <strong>-i</strong><em>columns</em> option allows you to specify which
input file data columns to use and in what order. By default, GMT will
read all the data columns in the file, starting with the first column
(0). Using <strong>-i</strong> modifies that process. For instance, to use the 4th,
7th, and 3rd data column as the required <em>x,y,z</em> to
<a class="reference internal" href="blockmean.html"><span class="doc">blockmean</span></a> you would specify
<strong>-i</strong>3,6,2 (since 0 is the first column). The chosen data columns
will be used as is. Optionally, you can specify that input columns
should be transformed according to a linear or logarithmic conversion.
Do so by appending [<strong>l</strong>][<strong>s</strong><em>scale</em>][<strong>o</strong><em>offset</em>] to
each column (or range of columns). All items are optional: The <strong>l</strong>
implies we should first take <span class="math notranslate nohighlight">\(\log_{10}\)</span> of the data [leave as
is]. Next, we may scale the result by the given <em>scale</em> [1]. Finally, we
add in the specified <em>offset</em> [0].</p>
</div>
<div class="section" id="grid-interpolation-parameters-the-n-option">
<h3>12.4.17. Grid interpolation parameters: The <strong>-n</strong> option<a class="headerlink" href="#grid-interpolation-parameters-the-n-option" title="Permalink to this headline">¶</a></h3>
<p>The <strong>-n</strong><em>type</em> option controls parameters used for
2-D grids resampling. You can select the type of spline used (<strong>-nb</strong>
for B-spline smoothing, <strong>-nc</strong> for bicubic [Default], <strong>-nl</strong> for
bilinear, or <strong>-nn</strong> for nearest-node value). For programs that support
it, antialiasing is by default on; optionally, append <strong>+a</strong> to switch
off antialiasing. By default, boundary conditions are set according to
the grid type and extent. Change boundary conditions by appending
<strong>+b</strong><em>BC</em>, where <em>BC</em> is either <strong>g</strong> for geographic boundary
conditions or one (or both) of <strong>n</strong> and <strong>p</strong> for natural or periodic
boundary conditions, respectively. Append <strong>x</strong> or <strong>y</strong> to only apply
the condition in one dimension. E.g., <strong>-nb+nxpy</strong> would imply natural
boundary conditions in the <em>x</em> direction and periodic conditions in the
<em>y</em> direction. Finally, append <strong>+t</strong><em>threshold</em> to control how close
to nodes with NaN the interpolation should go. A <em>threshold</em> of 1.0
requires all (4 or 16) nodes involved in the interpolation to be
non-NaN. 0.5 will interpolate about half way from a non-NaN value; 0.1
will go about 90% of the way, etc.</p>
</div>
<div class="section" id="output-columns-selection-the-o-option">
<h3>12.4.18. Output columns selection: The <strong>-o</strong> option<a class="headerlink" href="#output-columns-selection-the-o-option" title="Permalink to this headline">¶</a></h3>
<p>The <strong>-o</strong><em>columns</em> option allows you to specify which
columns to write on output and in what order. By default, GMT will
write all the data columns produced by the program. Using <strong>-o</strong>
modifies that process. For instance, to write just the 4th and 2nd data
column to the output you would use <strong>-o</strong>3,1 (since 0 is the first column).
You can also use a column more than once, e.g., <strong>-o</strong>3,1,3, to
duplicate a column on output.</p>
</div>
<div class="section" id="perspective-view-the-p-option">
<h3>12.4.19. Perspective view: The <strong>-p</strong> option<a class="headerlink" href="#perspective-view-the-p-option" title="Permalink to this headline">¶</a></h3>
<p>All plotting programs that normally produce a flat, two-dimensional
illustration can be told to view this flat illustration from a
particular vantage point, resulting in a perspective view. You can
select perspective view with the <strong>-p</strong> option by setting the azimuth
and elevation of the viewpoint [Default is 180/90]. When <strong>-p</strong> is used
in consort with <strong>-Jz</strong> or <strong>-JZ</strong>, a third value can be appended which
indicates at which <em>z</em>-level all 2-D material, like the plot frame, is
plotted (in perspective) [Default is at the bottom of the z-axis]. For
frames used for animation, you may want to append <strong>+</strong> to fix the
center of your data domain (or specify a particular world coordinate
point with <strong>+w</strong><em>lon0/lat</em>[<em>z</em>]) which will project to the center
of your page size (or you may specify the coordinates of the <em>projected</em>
view point with <strong>+v</strong><em>x0/y0</em>. When <strong>-p</strong> is used without any further
arguments, the values from the last use of <strong>-p</strong> in a previous
GMT command will be used.  Alternatively, you can perform a simple rotation
about the z-axis by just giving the rotation angle.  Optionally, use <strong>+v</strong>
or <strong>+w</strong> to select another axis location than the plot origin.</p>
</div>
<div class="section" id="grid-registration-the-r-option">
<span id="grid-registration"></span><h3>12.4.20. Grid registration: The <strong>-r</strong> option<a class="headerlink" href="#grid-registration-the-r-option" title="Permalink to this headline">¶</a></h3>
<p>All 2-D grids in GMT have their nodes
organized in one of two ways, known as <em>gridline</em>- and <em>pixel</em>-
registration. The GMT default is gridline registration; programs that
allow for the creation of grids can use the <strong>-r</strong> option to select
pixel registration instead.  Most observed data tend to be in gridline
registration while processed data sometime may be distributed in
pixel registration.  While you may convert between the two registrations
this conversion looses the Nyquist frequency and dampens the other
high frequencies.  It is best to avoid any registration conversion if you
can help it.  Planning ahead may be important.</p>
<div class="section" id="gridline-registration">
<h4>12.4.20.1. Gridline registration<a class="headerlink" href="#gridline-registration" title="Permalink to this headline">¶</a></h4>
<p>In this registration, the nodes are centered on the grid line
intersections and the data points represent the average value in a cell
of dimensions (<span class="math notranslate nohighlight">\(x_{inc} \cdot y_{inc}\)</span>) centered on each node
(left side of Figure <a class="reference internal" href="#id26"><span class="std std-ref">Grid registration</span></a>).
In the case of grid line registration the number of nodes are related
to region and grid spacing by</p>
<div class="math notranslate nohighlight">
\[\begin{split}\begin{array}{ccl}
nx &amp; =  &amp;       (x_{max} - x_{min}) / x_{inc} + 1       \\
ny &amp; =  &amp;       (y_{max} - y_{min}) / y_{inc} + 1
\end{array}\end{split}\]</div>
<p>which for the example in left side of Figure <a class="reference internal" href="#id26"><span class="std std-ref">Gridline registration</span></a> yields nx = ny = 4.</p>
</div>
<div class="section" id="pixel-registration">
<h4>12.4.20.2. Pixel registration<a class="headerlink" href="#pixel-registration" title="Permalink to this headline">¶</a></h4>
<p>Here, the nodes are centered in the grid cells, i.e., the areas
between grid lines, and the data points represent the average values
within each cell (right side of Figure <a class="reference internal" href="#id26"><span class="std std-ref">Grid registration</span></a>). In the case of
pixel registration the number of nodes are related to region and grid
spacing by</p>
<div class="figure align-center" id="id126">
<span id="id26"></span><a class="reference internal image-reference" href="_images/GMT_registration.png"><img alt="_images/GMT_registration.png" src="_images/GMT_registration.png" style="width: 500px;" /></a>
<p class="caption"><span class="caption-text">Gridline- and pixel-registration of data nodes.</span></p>
</div>
<div class="math notranslate nohighlight">
\[\begin{split}\begin{array}{ccl}
nx &amp; =  &amp;       (x_{max} - x_{min}) / x_{inc}   \\
ny &amp; =  &amp;       (y_{max} - y_{min}) / y_{inc}
\end{array}\end{split}\]</div>
<p>Thus, given the same region (<strong>-R</strong>) and grid spacing, the
pixel-registered grids have one less column and one less row than the
gridline-registered grids; here we find nx = ny = 3.</p>
</div>
</div>
<div class="section" id="nan-record-treatment-the-s-option">
<h3>12.4.21. NaN-record treatment: The <strong>-s</strong> option<a class="headerlink" href="#nan-record-treatment-the-s-option" title="Permalink to this headline">¶</a></h3>
<p>We can use this option to suppress output for records whose <em>z</em>-value
equals NaN (by default we output all records). Alternatively, append
<strong>r</strong> to reverse the suppression, i.e., only output the records whose
<em>z</em>-value equals NaN. Use <strong>-sa</strong> to suppress output records where one
or more fields (and not necessarily <em>z</em>) equal NaN. Finally, you can
supply a comma-separated list of all columns or column ranges to
consider for this NaN test.</p>
</div>
<div class="section" id="layer-pdf-transparency-the-t-option">
<h3>12.4.22. Layer PDF transparency: The <strong>-t</strong> option<a class="headerlink" href="#layer-pdf-transparency-the-t-option" title="Permalink to this headline">¶</a></h3>
<p>While the <em>PostScript</em> language does not support transparency, PDF does,
and via <em>PostScript</em> extensions one can manipulate the transparency
levels of objects. The <strong>-t</strong> option allows you to change the
transparency level for the current overlay by appending a percentage in
the 0--100 range; the default is 0, or opaque. Transparency may also be
controlled on a feature by feature basis when setting color or fill (see
section <a class="reference internal" href="#specifying-area-fill-attributes">Specifying area fill attributes</a>).</p>
</div>
<div class="section" id="latitude-longitude-or-longitude-latitude-the-option">
<h3>12.4.23. Latitude/Longitude or Longitude/Latitude?: The <strong>-:</strong> option<a class="headerlink" href="#latitude-longitude-or-longitude-latitude-the-option" title="Permalink to this headline">¶</a></h3>
<p>For geographical data, the first column is expected to contain
longitudes and the second to contain latitudes. To reverse this
expectation you must apply the <strong>-:</strong> option. Optionally, append <strong>i</strong>
or <strong>o</strong> to restrict the effect to input or output only. Note that
command line arguments that may take geographic coordinates (e.g.,
<strong>-R</strong>) <em>always</em> expect longitude before latitude. Also, geographical
grids are expected to have the longitude as first (minor) dimension.</p>
</div>
</div>
<div class="section" id="command-line-history">
<h2>12.5. Command line history<a class="headerlink" href="#command-line-history" title="Permalink to this headline">¶</a></h2>
<p>GMT programs “remember” the standardized command line options (See
Section <a class="reference internal" href="#standardized-command-line-options">Standardized command line options</a>) given during their previous invocations and this
provides a shorthand notation for complex options. For example, if a
basemap was created with an oblique Mercator projection, specified as</p>
<blockquote>
<div><div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>-Joc170W/25:30S/33W/56:20N/1:500000
</pre></div>
</div>
</div></blockquote>
<p>then a subsequent <a class="reference internal" href="psxy.html"><span class="doc">psxy</span></a> command to plot
symbols only needs to state <strong>-J</strong>o in order to activate the same
projection. In contrast, note that <strong>-J</strong> by itself will pick the most
recently used projection. Previous commands are maintained in the file <code class="docutils literal notranslate"><span class="pre">gmt.history</span></code>,
of which there will be one in each directory you run the programs from.
This is handy if you create separate directories for separate projects
since chances are that data manipulations and plotting for each project
will share many of the same options. Note that an option spelled out on
the command line will always override the previous entry in the <code class="docutils literal notranslate"><span class="pre">gmt.history</span></code> file and, if
execution is successful, will replace this entry as the previous option
argument in the <code class="docutils literal notranslate"><span class="pre">gmt.history</span></code> file. If you call several GMT modules piped together
then GMT cannot guarantee that the <code class="docutils literal notranslate"><span class="pre">gmt.history</span></code> file is processed in the intended
order from left to right. The only guarantee is that the file will not
be clobbered since GMT uses advisory file locking. The uncertainty in
processing order makes the use of shorthands in pipes unreliable. We
therefore recommend that you only use shorthands in single process
command lines, and spell out the full command option when using chains
of commands connected with pipes.  The history can be cleared by running
<strong>gmt clear history</strong>.</p>
</div>
<div class="section" id="usage-messages-syntax-and-general-error-messages">
<h2>12.6. Usage messages, syntax- and general error messages<a class="headerlink" href="#usage-messages-syntax-and-general-error-messages" title="Permalink to this headline">¶</a></h2>
<p>Each program carries a usage message. If you enter the program name
without any arguments, the program will write the complete usage message
to standard error (your screen, unless you redirect it). This message
explains in detail what all the valid arguments are. If you enter the
program name followed by a <em>hyphen</em> (-) only you will get a shorter
version which only shows the command line syntax and no detailed
explanations. If you incorrectly specify an option or omit a required
option, the program will produce syntax errors and explain what the
correct syntax for these options should be. If an error occurs during
the running of a program, the program will in some cases recognize this
and give you an error message. Usually this will also terminate the run.
The error messages generally begin with the name of the program in which
the error occurred; if you have several programs piped together this
tells you where the trouble is.</p>
</div>
<div class="section" id="standard-input-or-file-header-records">
<h2>12.7. Standard input or file, header records<a class="headerlink" href="#standard-input-or-file-header-records" title="Permalink to this headline">¶</a></h2>
<p>Most of the programs which expect table data input can read either
standard input or input in one or several files. These programs will try
to read <em>stdin</em> unless you type the filename(s) on the command line
without the above hyphens. (If the program sees a hyphen, it reads the
next character as an instruction; if an argument begins without a
hyphen, it tries to open this argument as a filename). This feature
allows you to connect programs with pipes if you like. If your input is
ASCII and has one or more header records that do not begin with #, you
must use the <strong>-h</strong> option (see Section <a class="reference internal" href="#header-data-records-the-h-option">Header data records: The -h
option</a>). ASCII files may in many cases also contain segment-headers
separating data segments. These are called “multi-segment files”. For
binary table data the <strong>-h</strong> option may specify how many bytes should be
skipped before the data section is reached. Binary files may also
contain segment-headers separating data segments. These segment-headers
are simply data records whose fields are all set to NaN; see Chapter
<a class="reference internal" href="#gmt-file-formats">GMT file formats</a> for complete documentation.</p>
<p>If filenames are given for reading, GMT programs will first look for
them in the current directory. If the file is not found, the programs
will look in other directories pointed to by the
<a class="reference internal" href="gmt.conf.html#dir-parameters"><span class="std std-ref">directory parameters</span></a> <strong>DIR_DATA</strong>,
<a class="reference internal" href="gmt.conf.html#dir-parameters"><span class="std std-ref">directory parameters</span></a> <strong>DIR_CACHE</strong> and
or by the environmental parameters <strong>$GMT_USERDIR</strong>, <strong>$GMT_CACHEDIR</strong> and
<strong>$GMT_DATADIR</strong> (if set). They may be set by the user to point to
directories that contain data sets of general use, thus eliminating the
need to specify a full path to these files. Usually, the <strong>DIR_DATA</strong>
directory will hold data sets of a general nature (tables, grids),
whereas the <strong>$GMT_USERDIR</strong> directory (its default value is $HOME/.gmt)
may hold miscellaneous data sets more
specific to the user; this directory also stores GMT defaults and other
configuration files. The <strong>DIR_CACHE</strong> will typically contain data files
downloaded automatically by GMT modules.  See <a class="reference internal" href="gmt.conf.html#dir-parameters"><span class="std std-ref">directory parameters</span></a>
for details. Program output is always written to the current directory
unless a full path has been specified.</p>
</div>
<div class="section" id="urls-and-special-files">
<h2>12.8. URLs and special files<a class="headerlink" href="#urls-and-special-files" title="Permalink to this headline">¶</a></h2>
<p>Three classes of files are given special treatment in GMT.</p>
<ol class="arabic simple">
<li>Some data sets are ubiquitous and used by nearly all GMT users.
At the moment this set is limited to Earth relief grids.  If you reference
files called <strong>earth_relief_</strong><em>res</em><strong>.grd</strong> on a command line then
that grid will automatically be downloaded from the GMT Data Site and placed
in <strong>$GMT_USERDIR</strong> [~/.gmt].  The resolution <em>res</em> allows a choice among
13 command grid spacings: 60m, 30m, 20m, 15m, 10m, 6m, 5m, 4m, 3m, 2m, 1m,
30s, and 15s (with file sizes 111 kb, 376 kb, 782 kb, 1.3 Mb, 2.8 Mb, 7.5 Mb,
11 Mb, 16 Mb, 27 Mb, 58 Mb, 214 Mb, 778 Mb, and 2.6 Gb respectively). Once
one of these have been downloaded any future reference will simply obtain the
file from <strong>$GMT_USERDIR</strong> (except if explicitly removed by the user).
Note: The four highest resolutions are the original data sets SRTM15+, SRTM30+,
ETOPO1 and ETOPO2V2.  Lower resolutions are spherically Gaussian-filtered versions
of ETOPO1.</li>
<li>If a file is given as a full URL, starting with <strong>http://</strong>, <strong>https://</strong>,
or <strong>ftp://</strong>, then the file will be downloaded to <strong>DIR_CACHE</strong> and subsequently
read from there (until removed by the user).  If the URL is actually a CGI Get
command (i.e., ends in ?par=val1&amp;par2=val2…) then we download the file
each time we encounter the URL.</li>
<li>Demonstration files used in online documentation, example scripts, or even the
large test suite may be given in the format &#64;<em>filename</em>.  When such a file is
encountered on the command line it is understood to be a short-hand representation
of the full URL to <em>filename</em> on the GMT Cache Data FTP site.
Since this address may change over time we use the leading
&#64; to simplify access to these files.  Such files will also be downloaded
to <strong>DIR_CACHE</strong> and subsequently read from there (until removed by the user).</li>
</ol>
<p>The user cache (<strong>DIR_CACHE</strong>) and all its contents can be cleared any time
via the command <strong>gmt clear cache</strong>.</p>
</div>
<div class="section" id="verbose-operation">
<h2>12.9. Verbose operation<a class="headerlink" href="#verbose-operation" title="Permalink to this headline">¶</a></h2>
<p>Most of the programs take an optional <strong>-V</strong> argument which will run the
program in the “verbose” mode (see Section <a class="reference internal" href="#verbose-feedback-the-v-option">Verbose feedback: The -V
option</a>). Verbose will write to standard error information about the
progress of the operation you are running. Verbose reports things such
as counts of points read, names of data files processed, convergence of
iterative solutions, and the like. Since these messages are written to
<em>stderr</em>, the verbose talk remains separate from your data output. You
may optionally choose among five models of <em>verbosity</em>; each mode adds
more messages with an increasing level of details. The modes are</p>
<blockquote>
<div><p><strong>q</strong> Complete silence, not even fatal error messages.</p>
<p><strong>n</strong> Warnings and progress messages [Default].</p>
<p><strong>c</strong> Warnings about deprecated usage (if compiled for compatibility).</p>
<p><strong>l</strong> Detailed progress messages.</p>
<p><strong>d</strong> Debugging messages.</p>
</div></blockquote>
<p>The verbosity is cumulative, i.e., mode <strong>l</strong> means all messages of mode
<strong>n</strong> as well. will be reported.</p>
</div>
<div class="section" id="program-output">
<h2>12.10. Program output<a class="headerlink" href="#program-output" title="Permalink to this headline">¶</a></h2>
<p>Most programs write their results, including <em>PostScript</em> plots, to
standard output. The exceptions are those which may create binary netCDF
grid files such as <a class="reference internal" href="surface.html"><span class="doc">surface</span></a> (due to the
design of netCDF a filename must be provided; however, alternative
binary output formats allowing piping are available; see Section
<a class="reference internal" href="#grid-file-format-specifications">Grid file format specifications</a>).
Most operating systems let you can redirect
standard output to a file or pipe it into another process. Error
messages, usage messages, and verbose comments are written to standard
error in all cases. You can usually redirect standard error as well, if
you want to create a log file of what you are doing. The syntax for
redirection differ among the main shells (Bash and C-shell) and is a bit
limited in DOS.</p>
</div>
<div class="section" id="input-data-formats">
<h2>12.11. Input data formats<a class="headerlink" href="#input-data-formats" title="Permalink to this headline">¶</a></h2>
<p>Most of the time, GMT will know what kind of <em>x</em> and <em>y</em>
coordinates it is reading because you have selected a particular
coordinate transformation or map projection. However, there may be times
when you must explicitly specify what you are providing as input using
the <strong>-f</strong> switch. When binary input data are expected (<strong>-bi</strong>) you
must specify exactly the format of the records. However, for ASCII input
there are numerous ways to encode data coordinates (which may be
separated by white-space or commas). Valid input data are generally of
the same form as the arguments to the <strong>-R</strong> option (see
Section <a class="reference internal" href="#data-domain-or-map-region-the-r-option">Data domain or map region: The -R option</a>), with additional flexibility for calendar data.
Geographical coordinates, for example, can be given in decimal degrees
(e.g., -123.45417) or in the
[±]<em>ddd</em>[:<em>mm</em>[:<em>ss</em>[<em>.xxx</em>]]][<strong>W</strong>|<strong>E</strong>|<strong>S</strong>|<strong>N</strong>]
format (e.g., 123:27:15W). With <strong>-fp</strong> you may even supply projected
data like UTM coordinates.</p>
<p>Because of the widespread use of incompatible and ambiguous formats, the
processing of input date components is guided by the template
<a class="reference internal" href="gmt.conf.html#format-date-in"><span class="std std-ref">FORMAT_DATE_IN</span></a> in your <a class="reference internal" href="gmt.conf.html"><span class="doc">gmt.conf</span></a> file; it is by default set to <em>yyyy-mm-dd</em>.
Y2K-challenged input data such as 29/05/89 can be processed by setting
<a class="reference internal" href="gmt.conf.html#format-date-in"><span class="std std-ref">FORMAT_DATE_IN</span></a> to dd/mm/yy. A complete description of possible
formats is given in the <a class="reference internal" href="gmt.conf.html"><span class="doc">gmt.conf</span></a> man
page. The <em>clock</em> string is more standardized but issues like 12- or
24-hour clocks complicate matters as well as the presence or absence of
delimiters between fields. Thus, the processing of input clock
coordinates is guided by the template <a class="reference internal" href="gmt.conf.html#format-clock-in"><span class="std std-ref">FORMAT_CLOCK_IN</span></a> which
defaults to <em>hh:mm:ss.xxx</em>.</p>
<p>GMT programs that require a map projection argument will implicitly
know what kind of data to expect, and the input processing is done
accordingly. However, some programs that simply report on minimum and
maximum values or just do a reformatting of the data will in general not
know what to expect, and furthermore there is no way for the programs to
know what kind of data other columns (beyond the leading <em>x</em> and
<em>y</em> columns) contain. In such instances we must explicitly tell
GMT that we are feeding it data in the specific geographic or calendar
formats (floating point data are assumed by default). We specify the
data type via the <strong>-f</strong> option (which sets both input and output
formats; use <strong>-fi</strong> and <strong>-fo</strong> to set input and output separately).
For instance, to specify that the the first two columns are longitude
and latitude, and that the third column (e.g., <em>z</em>) is absolute
calendar time, we add <strong>-fi</strong>0x,1y,2T to the command line. For more
details, see the man page for the program you need to use.</p>
</div>
<div class="section" id="output-data-formats">
<h2>12.12. Output data formats<a class="headerlink" href="#output-data-formats" title="Permalink to this headline">¶</a></h2>
<p>The numerical output from GMT programs can be binary (when <strong>-bo</strong> is
used) or ASCII [Default]. In the latter case the issue of formatting
becomes important. GMT provides extensive machinery for allowing just
about any imaginable format to be used on output. Analogous to the
processing of input data, several templates guide the formatting
process. These are <a class="reference internal" href="gmt.conf.html#format-date-out"><span class="std std-ref">FORMAT_DATE_OUT</span></a> and <a class="reference internal" href="gmt.conf.html#format-clock-out"><span class="std std-ref">FORMAT_CLOCK_OUT</span></a> for
calendar-time coordinates, <a class="reference internal" href="gmt.conf.html#format-geo-out"><span class="std std-ref">FORMAT_GEO_OUT</span></a> for geographical
coordinates, and <a class="reference internal" href="gmt.conf.html#format-float-out"><span class="std std-ref">FORMAT_FLOAT_OUT</span></a> for generic floating point data.
In addition, the user have control over how columns are separated via
the <a class="reference internal" href="gmt.conf.html#io-col-separator"><span class="std std-ref">IO_COL_SEPARATOR</span></a> parameter. Thus, as an example, it is possible
to create limited FORTRAN-style card records by setting
<a class="reference internal" href="gmt.conf.html#format-float-out"><span class="std std-ref">FORMAT_FLOAT_OUT</span></a> to %7.3lf and <a class="reference internal" href="gmt.conf.html#io-col-separator"><span class="std std-ref">IO_COL_SEPARATOR</span></a> to none
[Default is tab].</p>
</div>
<div class="section" id="postscript-features">
<h2>12.13. <em>PostScript</em> features<a class="headerlink" href="#postscript-features" title="Permalink to this headline">¶</a></h2>
<p><em>PostScript</em> is a command language for driving graphics devices such as
laser printers. It is ASCII text which you can read and edit as you wish
(assuming you have some knowledge of the syntax). We prefer this to
binary metafile plot systems since such files cannot easily be modified
after they have been created. GMT programs also write many comments to
the plot file which make it easier for users to orient themselves should
they need to edit the file (e.g., % Start of x-axis) <a class="footnote-reference" href="#id75" id="id27">[16]</a>. All
GMT programs create <em>PostScript</em> code by calling the <a class="reference internal" href="postscriptlight.html"><span class="doc">PSL</span></a> plot
library (The user may call these functions from his/her own C or FORTRAN
plot programs. See the manual pages for <a class="reference internal" href="postscriptlight.html"><span class="doc">PSL</span></a> syntax). Although
GMT programs can create very individualized plot code, there will
always be cases not covered by these programs. Some knowledge of
<em>PostScript</em> will enable the user to add such features directly into the
plot file. By default, GMT will produce freeform <em>PostScript</em> output
with embedded printer directives. To produce Encapsulated
<em>PostScript</em> (EPS) that can be imported into graphics programs such as
<strong>CorelDraw</strong>, <strong>Illustrator</strong> or <strong>InkScape</strong> for further
embellishment, simply run gmt <a class="reference internal" href="psconvert.html"><span class="doc">psconvert</span></a>
<strong>-Te</strong>. See Chapter <a class="reference internal" href="#including-gmt-graphics-into-your-documents">Including GMT Graphics into your Documents</a> for an extensive discussion of converting
<em>PostScript</em> to other formats.</p>
</div>
<div class="section" id="specifying-pen-attributes">
<span id="wpen-attrib"></span><h2>12.14. Specifying pen attributes<a class="headerlink" href="#specifying-pen-attributes" title="Permalink to this headline">¶</a></h2>
<p>A pen in GMT has three attributes: <em>width</em>, <em>color</em>, and
<em>style</em>. Most programs will accept pen attributes in the form of an
option argument, with commas separating the given attributes, e.g.,</p>
<p><strong>-W</strong>[<em>width</em>[<strong>c|i|p</strong>]],[<em>color</em>],[<em>style</em>[<strong>c|i|p|</strong>]]</p>
<blockquote>
<div><em>Width</em> is by default measured in points (1/72 of an inch). Append
<strong>c</strong>, <strong>i</strong>, or <strong>p</strong> to specify pen width in cm, inch, or points,
respectively. Minimum-thickness pens can be achieved by giving zero
width. The result is device-dependent but typically means that as
you zoom in on the feature in a display, the line thickness stays
at the minimum. Finally, a few predefined
pen names can be used: default, faint, and {thin, thick,
fat}[er|est], and obese. Table <a class="reference internal" href="#tbl-pennames"><span class="std std-ref">pennames</span></a> shows this
list and the corresponding pen widths.</div></blockquote>
<blockquote id="tbl-pennames">
<div><table border="1" class="docutils">
<colgroup>
<col width="29%" />
<col width="22%" />
<col width="29%" />
<col width="20%" />
</colgroup>
<thead valign="bottom">
<tr class="row-odd"><th class="head">&#160;</th>
<th class="head">&#160;</th>
<th class="head">&#160;</th>
<th class="head">&#160;</th>
</tr>
</thead>
<tbody valign="top">
<tr class="row-even"><td>faint</td>
<td>0</td>
<td>thicker</td>
<td>1.5p</td>
</tr>
<tr class="row-odd"><td>default</td>
<td>0.25p</td>
<td>thickest</td>
<td>2p</td>
</tr>
<tr class="row-even"><td>thinnest</td>
<td>0.25p</td>
<td>fat</td>
<td>3p</td>
</tr>
<tr class="row-odd"><td>thinner</td>
<td>0.50p</td>
<td>fatter</td>
<td>6p</td>
</tr>
<tr class="row-even"><td>thin</td>
<td>0.75p</td>
<td>fattest</td>
<td>12p</td>
</tr>
<tr class="row-odd"><td>thick</td>
<td>1.0p</td>
<td>obese</td>
<td>18p</td>
</tr>
</tbody>
</table>
</div></blockquote>
<blockquote id="color-attrib">
<div><p>The <em>color</em> can be specified in five different ways:</p>
<ol class="arabic simple">
<li>Gray. Specify a <em>gray</em> shade in the range 0--255 (linearly going
from black [0] to white [255]).</li>
<li>RGB. Specify <em>r</em>/<em>g</em>/<em>b</em>, each ranging from 0--255. Here 0/0/0 is
black, 255/255/255 is white, 255/0/0 is red, etc.</li>
<li>HSV. Specify <em>hue</em>-<em>saturation</em>-<em>value</em>, with the former in the
0--360 degree range while the latter two take on the range 0--1 <a class="footnote-reference" href="#id76" id="id28">[17]</a>.</li>
<li>CMYK. Specify <em>cyan</em>/<em>magenta</em>/<em>yellow</em>/<em>black</em>, each ranging
from 0--100%.</li>
<li>Name. Specify one of 663 valid color names. Use <strong>man
gmtcolors</strong> to list all valid names. A very small yet versatile
subset consists of the 29 choices <em>white</em>, <em>black</em>, and
[light|dark]{<em>red, orange, yellow, green, cyan, blue,
magenta, gray|grey, brown</em>}. The color names are
case-insensitive, so mixed upper and lower case can be used (like
<em>DarkGreen</em>).</li>
</ol>
<p>The <em>style</em> attribute controls the appearance of the line. Giving “dotted” or “.”
yields a dotted line, whereas a dashed pen is requested with “dashed” or “-“.
Also combinations of dots and dashes, like “.-” for a dot-dashed
line, are allowed. To override a default style and secure a solid line you can
specify “solid” for style.  The lengths of dots and dashes are scaled
relative to the pen width (dots has a length that equals the pen
width while dashes are 8 times as long; gaps between segments are 4
times the pen width). For more detailed attributes including exact
dimensions you may specify <em>string</em>:<em>offset</em>, where <em>string</em> is a
series of numbers separated by underscores. These numbers represent
a pattern by indicating the length of line segments and the gap
between segments. The <em>offset</em> phase-shifts the pattern from the
beginning the line. For example, if you want a yellow line of width
0.1 cm that alternates between long dashes (4 points), an 8 point
gap, then a 5 point dash, then another 8 point gap, with pattern
offset by 2 points from the origin, specify
<strong>-W</strong>0.1c,yellow,4_8_5_8:2p. Just as with pen width, the
default style units are points, but can also be explicitly specified
in cm, inch, or points (see <em>width</em> discussion above).</p>
</div></blockquote>
<p>Table <a class="reference internal" href="#tbl-penex"><span class="std std-ref">penex</span></a> contains additional examples of pen specifications
suitable for, say, <a class="reference internal" href="psxy.html"><span class="doc">psxy</span></a>.</p>
<table border="1" class="docutils" id="tbl-penex">
<colgroup>
<col width="37%" />
<col width="63%" />
</colgroup>
<thead valign="bottom">
<tr class="row-odd"><th class="head">&#160;</th>
<th class="head">&#160;</th>
</tr>
</thead>
<tbody valign="top">
<tr class="row-even"><td><strong>-W</strong>0.5p</td>
<td>0.5 point wide line of default color and style</td>
</tr>
<tr class="row-odd"><td><strong>-W</strong>green</td>
<td>Green line with default width and style</td>
</tr>
<tr class="row-even"><td><strong>-W</strong>thin,red,-</td>
<td>Dashed, thin red line</td>
</tr>
<tr class="row-odd"><td><strong>-W</strong>fat,.</td>
<td>Fat dotted line with default color</td>
</tr>
<tr class="row-even"><td><strong>-W</strong>0.1c,120-1-1</td>
<td>Green (in h-s-v) pen, 1 mm thick</td>
</tr>
<tr class="row-odd"><td><strong>-W</strong>faint,100/0/0/0,..-</td>
<td>Very thin, cyan (in c/m/y/k), dot-dot-dashed line</td>
</tr>
</tbody>
</table>
<p>In addition to these pen settings there are several
<em>PostScript</em> settings that can affect the appearance of lines. These are
controlled via the GMT defaults settings <a class="reference internal" href="gmt.conf.html#ps-line-cap"><span class="std std-ref">PS_LINE_CAP</span></a>,
<a class="reference internal" href="gmt.conf.html#ps-line-join"><span class="std std-ref">PS_LINE_JOIN</span></a>, and <a class="reference internal" href="gmt.conf.html#ps-miter-limit"><span class="std std-ref">PS_MITER_LIMIT</span></a>. They determine how a line
segment ending is rendered, be it at the termination of a solid line or
at the end of all dashed line segments making up a line, and how a
straight lines of finite thickness should behave when joined at a common
point. By default, line segments have rectangular ends, but this can
change to give rounded ends. When <a class="reference internal" href="gmt.conf.html#ps-line-cap"><span class="std std-ref">PS_LINE_CAP</span></a> is set to round the
a segment length of zero will appear as a circle. This can be used to
created circular dotted lines, and by manipulating the phase shift in
the <em>style</em> attribute and plotting the same line twice one can even
alternate the color of adjacent items.
Figure <a class="reference internal" href="#line-appearance"><span class="std std-ref">Line appearance</span></a> shows various lines made in this
fashion. See the <a class="reference internal" href="gmt.conf.html"><span class="doc">gmt.conf</span></a> man page for more information.</p>
<div class="figure align-center" id="id127">
<span id="line-appearance"></span><a class="reference internal image-reference" href="_images/GMT_linecap.png"><img alt="_images/GMT_linecap.png" src="_images/GMT_linecap.png" style="width: 500px;" /></a>
<p class="caption"><span class="caption-text">Line appearance can be varied by using <a class="reference internal" href="gmt.conf.html#ps-line-cap"><span class="std std-ref">PS_LINE_CAP</span></a></span></p>
</div>
</div>
<div class="section" id="specifying-line-attributes">
<h2>12.15. Specifying line attributes<a class="headerlink" href="#specifying-line-attributes" title="Permalink to this headline">¶</a></h2>
<p>A line is drawn with the texture provided by the chosen pen (<a class="reference internal" href="#specifying-pen-attributes">Specifying pen attributes</a>).
However, depending on the module, a line also may have other attributes that can be changed in some modules.
Given as modifiers to a pen specification, one or more modifiers may be appended to a pen
specification. The line attribute modifiers are:</p>
<ul class="simple">
<li><dl class="first docutils">
<dt><strong>+o</strong><em>offset</em>[<strong>u</strong>]</dt>
<dd>Lines are normally drawn from the beginning to the end point. You can modify this behavior
by requesting a gap between these terminal points and the start and end of the
visible line.  Do this by specifying the desired offset between the terminal point and the
start of the visible line.  Unless you are giving distances in Cartesian data units,
please append the distance unit, <strong>u</strong>.  Depending on your desired effect, you can append
plot distance units (i.e., <strong>c</strong>m, <strong>i</strong>nch, <strong>p</strong>oint; Section <a class="reference internal" href="#length-units">Length units</a>)) or map distance units,
such as <strong>k</strong>m, <strong>d</strong>egrees, and many other standard distance units listed in
Section <a class="reference internal" href="#gmt-units">GMT units</a>.  If only one offset is given then it applies equally to both ends of
the line.  Give two slash-separated distances to indicate different offsets at the
beginning and end of the line (and use 0 to indicate no offset at one end).</dd>
</dl>
</li>
</ul>
<div class="figure align-center" id="id128">
<span id="line-offset"></span><a class="reference internal image-reference" href="_images/GMT_lineoffset.png"><img alt="_images/GMT_lineoffset.png" src="_images/GMT_lineoffset.png" style="width: 500px;" /></a>
<p class="caption"><span class="caption-text">The thin red line shows an original line segment, whereas the 2-point thick pen illustrates the effect
of plotting the same line while requesting offsets of 1 cm at the beginning and 500 km
at the end, via <strong>-W</strong>2p<strong>+o</strong>1c/500k.</span></p>
</div>
<ul class="simple">
<li><dl class="first docutils">
<dt><strong>+s</strong></dt>
<dd>Normally, all <em>PostScript</em> line drawing is implemented as a linear spline, i.e., we simply
draw straight line-segments between the given data points.  Use this modifier to render the
line using Bezier splines for a smoother curve.</dd>
</dl>
</li>
</ul>
<div class="figure align-center" id="id129">
<span id="line-bezier"></span><a class="reference internal image-reference" href="_images/GMT_bezier.png"><img alt="_images/GMT_bezier.png" src="_images/GMT_bezier.png" style="width: 500px;" /></a>
<p class="caption"><span class="caption-text">(left) Normal plotting of line given input points (red circles) via <strong>-W</strong>2p. (right) Letting
the points be interpolated by a Bezier cubic spline via <strong>-W</strong>2p<strong>+s</strong>.</span></p>
</div>
<ul class="simple">
<li><dl class="first docutils">
<dt><strong>+v</strong>[<strong>b</strong>|<strong>e</strong>]<em>vspecs</em></dt>
<dd>By default, lines are normally drawn from start to end.  Using the <strong>+v</strong> modifier you can
place arrow-heads pointing outward at one (or both) ends of the line.  Use <strong>+v</strong> if you
want the same vector attributes for both ends, or use <strong>+vb</strong> and <strong>+ve</strong> to specify a vector
only at the beginning or end of the line, respectively.  Finally, these two modifiers may both be given
to specify different attributes for the two vectors.  The vector specification is very rich
and you may place other symbols, such as circle, square, or a terminal cross-line, in lieu of the
vector head (see <a class="reference internal" href="psxy.html"><span class="doc">psxy</span></a> for more details).</dd>
</dl>
</li>
</ul>
<div class="figure align-center" id="id130">
<span id="line-vector"></span><a class="reference internal image-reference" href="_images/GMT_linearrow.png"><img alt="_images/GMT_linearrow.png" src="_images/GMT_linearrow.png" style="width: 500px;" /></a>
<p class="caption"><span class="caption-text">Same line as above but now we have requested a blue vector head at the end of the line and a
red circle at the beginning of the line with <strong>-W</strong>2p<strong>+o</strong>1c/500k<strong>+vb</strong>0.2i<strong>+g</strong>red<strong>+p</strong>faint<strong>+b</strong>c<strong>+ve</strong>0.3i<strong>+g</strong>blue.
Note that we also prescribed the line offsets in addition to the symbol endings.</span></p>
</div>
</div>
<div class="section" id="specifying-area-fill-attributes">
<h2>12.16. Specifying area fill attributes<a class="headerlink" href="#specifying-area-fill-attributes" title="Permalink to this headline">¶</a></h2>
<p>Many plotting programs will allow the user to draw filled polygons or
symbols. The fill specification may take two forms:</p>
<p><strong>-G</strong><em>fill</em></p>
<p><strong>-Gp</strong><em>pattern</em>[<strong>+b</strong><em>color</em>][<strong>+f</strong><em>color</em>][<strong>+r</strong><em>dpi</em>]</p>
<dl class="docutils">
<dt>fill:</dt>
<dd>In the first case we may specify a <em>gray</em> shade (0--255), RGB color
(<em>r</em>/<em>g</em>/<em>b</em> all in the 0--255 range or in hexadecimal <em>#rrggbb</em>),
HSV color (<em>hue</em>-<em>saturation</em>-<em>value</em> in the 0--360, 0--1, 0--1 range),
CMYK color (<em>cyan</em>/<em>magenta</em>/<em>yellow</em>/<em>black</em>, each ranging from
0--100%), or a valid color <em>name</em>; in that respect it is similar to
specifying the pen color settings (see pen color discussion under
Section <a class="reference internal" href="#specifying-pen-attributes">Specifying pen attributes</a>).</dd>
<dt>pattern:</dt>
<dd>The second form allows us to use a predefined bit-image pattern.
<em>pattern</em> can either be a number in the range 1--90 or the name of a
1-, 8-, or 24-bit image raster file. The former will result in one of
the 90 predefined 64 x 64 bit-patterns provided with GMT and
reproduced in Chapter <a class="reference internal" href="#predefined-bit-and-hachure-patterns-in-gmt">Predefined Bit and Hachure Patterns in GMT</a>.
The latter allows the user to create
customized, repeating images using image raster files.
The optional <strong>+r</strong><em>dpi</em> modifier sets the resolution of this image on the page;
the area fill is thus made up of a series of these “tiles”.  The
default resolution is 1200.  By specifying upper case <strong>-GP</strong>
instead of <strong>-Gp</strong> the image will be bit-reversed, i.e., white and
black areas will be interchanged (only applies to 1-bit images or
predefined bit-image patterns). For these patterns and other 1-bit
images one may specify alternative background and foreground colors
(by appending <strong>+b</strong><em>color</em> and/or <strong>+f</strong><em>color</em>) that will replace
the default white and black pixels, respectively. Setting one of the
fore- or background colors to - yields a <em>transparent</em> image where
only the back- <em>or</em> foreground pixels will be painted.</dd>
</dl>
<p>Due to <em>PostScript</em> implementation limitations the raster images used
with <strong>-G</strong> must be less than 146 x 146 pixels in size; for larger
images see <a class="reference internal" href="psimage.html"><span class="doc">psimage</span></a>. The format of Sun raster files <a class="footnote-reference" href="#id77" id="id29">[18]</a> is
outlined in Chapter <a class="reference internal" href="#gmt-file-formats">GMT file formats</a>. However, if you built GMT
with GDAL then other image formats can be used as well. Note that under
<em>PostScript</em> Level 1 the patterns are filled by using the polygon as a
<em>clip path</em>. Complex clip paths may require more memory than the
<em>PostScript</em> interpreter has been assigned. There is therefore the
possibility that some <em>PostScript</em> interpreters (especially those
supplied with older laserwriters) will run out of memory and abort.
Should that occur we recommend that you use a regular gray-shade fill
instead of the patterns. Installing more memory in your printer <em>may or
may not</em> solve the problem!</p>
<p>Table <a class="reference internal" href="#tbl-fillex"><span class="std std-ref">fillex</span></a> contains a few examples of fill specifications.</p>
<table border="1" class="docutils" id="tbl-fillex">
<colgroup>
<col width="48%" />
<col width="52%" />
</colgroup>
<thead valign="bottom">
<tr class="row-odd"><th class="head">&#160;</th>
<th class="head">&#160;</th>
</tr>
</thead>
<tbody valign="top">
<tr class="row-even"><td><strong>-G</strong>128</td>
<td>Solid gray</td>
</tr>
<tr class="row-odd"><td><strong>-G</strong>127/255/0</td>
<td>Chartreuse, R/G/B-style</td>
</tr>
<tr class="row-even"><td><strong>-G</strong>#00ff00</td>
<td>Green, hexadecimal RGB code</td>
</tr>
<tr class="row-odd"><td><strong>-G</strong>25-0.86-0.82</td>
<td>Chocolate, h-s-v-style</td>
</tr>
<tr class="row-even"><td><strong>-G</strong>DarkOliveGreen1</td>
<td>One of the named colors</td>
</tr>
<tr class="row-odd"><td><strong>-Gp</strong>7<strong>+r</strong>300</td>
<td>Simple diagonal hachure pattern in b/w at 300 dpi</td>
</tr>
<tr class="row-even"><td><strong>-Gp</strong>7<strong>+b</strong>red<strong>+r</strong>300</td>
<td>Same, but with red lines on white</td>
</tr>
<tr class="row-odd"><td><strong>-Gp</strong>7<strong>+b</strong>red<strong>+f</strong>-<strong>+r</strong>300</td>
<td>Now the gaps between red lines are transparent</td>
</tr>
<tr class="row-even"><td><strong>-Gp</strong>marble.ras<strong>+r</strong>100</td>
<td>Using user image of marble as the fill at 100 dpi</td>
</tr>
</tbody>
</table>
</div>
<div class="section" id="specifying-fonts">
<h2>12.17. Specifying Fonts<a class="headerlink" href="#specifying-fonts" title="Permalink to this headline">¶</a></h2>
<p>The fonts used by GMT are typically set indirectly via the
GMT defaults parameters. However, some programs, like
<a class="reference internal" href="pstext.html"><span class="doc">pstext</span></a> may wish to have this
information passed directly. A font is specified by a comma-delimited
attribute list of <em>size</em>, <em>fonttype</em> and <em>fill</em>, each of which is
optional. The <em>size</em> is the font size (usually in points) but <strong>c</strong>,
<strong>i</strong> or <strong>p</strong> can be added to indicate a specific unit. The <em>fonttype</em>
is the name (case sensitive!) of the font or its equivalent numerical ID
(e.g., Helvetica-Bold or 1). <em>fill</em> specifies the gray shade, color or
pattern of the text (see section <a class="reference internal" href="#specifying-area-fill-attributes">Specifying area fill attributes</a> above). Optionally, you may
append <strong>=</strong><em>pen</em> to the <em>fill</em> value in order to draw the text
outline with the specified <em>pen</em>; if used you may optionally skip the
filling of the text by setting <em>fill</em> to <strong>-</strong>. If any of the attributes
is omitted their default or previous setting will be retained. See
Chapter <a class="reference internal" href="#postscript-fonts-used-by-gmt">PostScript fonts used by GMT</a> for a list of all fonts recognized by GMT.</p>
</div>
<div class="section" id="stroke-fill-and-font-transparency">
<h2>12.18. Stroke, Fill and Font Transparency<a class="headerlink" href="#stroke-fill-and-font-transparency" title="Permalink to this headline">¶</a></h2>
<p>The <em>PostScript</em> language has no built-in mechanism for transparency.
However, <em>PostScript</em> extensions make it possible to request
transparency, and tools that can render such extensions will produce
transparency effects. We specify transparency in percent: 0 is opaque
[Default] while 100 is fully transparent (i.e., the feature will be invisible). As
noted in section <a class="reference internal" href="#layer-pdf-transparency-the-t-option">Layer PDF transparency: The -t option</a>, we can control transparency on a
layer-by-layer basis using the <strong>-t</strong> option. However, we may also set
transparency as an attribute of stroke or fill (including for fonts)
settings. Here, transparency is requested by appending &#64;<em>transparency</em>
to colors or pattern fills. The transparency <em>mode</em> can be changed by
using the GMT default parameter <a class="reference internal" href="gmt.conf.html#ps-transparency"><span class="std std-ref">PS_TRANSPARENCY</span></a>; the default is
Normal but you can choose among Color, ColorBurn, ColorDodge, Darken,
Difference, Exclusion, HardLight, Hue, Lighten, Luminosity, Multiply,
Normal, Overlay, Saturation, SoftLight, and Screen. For more
information, see for instance (search online for) the Adobe pdfmark
Reference Manual. Most printers and many <em>PostScript</em> viewers can
neither print nor show transparency. They will simply ignore your
attempt to create transparency and will plot any material as opaque.
Ghostscript and its derivatives such as GMT’s
<a class="reference internal" href="psconvert.html"><span class="doc">psconvert</span></a> support transparency (if
compiled with the correct build option). Note: If you use <strong>Acrobat
Distiller</strong> to create a PDF file you must first change some settings to
make transparency effective: change the parameter /AllowTransparency to
true in your *.joboptions file.</p>
</div>
<div class="section" id="placement-of-text">
<h2>12.19. Placement of text<a class="headerlink" href="#placement-of-text" title="Permalink to this headline">¶</a></h2>
<p>Many text labels placed on maps are part of the standard basemap
machinery (e.g., annotations, axis labels, plot titles) and GMT
automatically takes care of where these are placed and how they
are justified.  However, when you wish to add extra text to a plot
in locations of your choice you will need to understand how we
reference text to locations on the map.  Figure <a class="reference internal" href="#text-justify"><span class="std std-ref">Text justification</span></a>
discusses the various ways to do this.</p>
<div class="figure align-center" id="id131">
<span id="text-justify"></span><a class="reference internal image-reference" href="_images/GMT_pstext_justify.png"><img alt="_images/GMT_pstext_justify.png" src="_images/GMT_pstext_justify.png" style="width: 400px;" /></a>
<p class="caption"><span class="caption-text">Text strings are placed on maps by associating an <em>anchor</em> point on
the string with a <em>reference</em> point on the map.  Nine anchor points
relative to any text string may be specified by combining any of
three letter codes for horizontal (<strong>L</strong>eft, <strong>C</strong>enter, <strong>R</strong>ight)
and vertical (<strong>T</strong>op, <strong>M</strong>iddle, <strong>B</strong>ottom) alignments.</span></p>
</div>
<p>Notice how the anchor points refers to the text baseline and do not change
for text whose letters extend below the baseline.</p>
<p>The concept of anchor points extends to entire text paragraphs that you
may want to typeset with <a class="reference internal" href="pstext.html"><span class="doc">pstext</span></a>.</p>
<p>A related point involves the
footprint of the text and any background panel on the map.  We determine
the bounding box for any text string, but very often we wish to extend this
box outwards to allow for some <em>clearance</em> between the text and the space
surrounding it.  Programs that allows for such clearance will let you
specify offsets <em>dx</em> and <em>dy</em> that is used to enlarge the bounding box,
as illustrated in Figure <a class="reference internal" href="#text-clearance"><span class="std std-ref">Text clearance</span></a>.</p>
<div class="figure align-center" id="id132">
<span id="text-clearance"></span><a class="reference internal image-reference" href="_images/GMT_pstext_clearance.png"><img alt="_images/GMT_pstext_clearance.png" src="_images/GMT_pstext_clearance.png" style="width: 300px;" /></a>
<p class="caption"><span class="caption-text">The bounding box of any text string can be enlarged by specifying the
adjustments <em>dx</em> and <em>dy</em> in the horizontal and vertical dimension.  The shape of the
bounding box can be modified as well, including rounded or convex
rectangles.  Here we have chosen a rounded rectangle, requiring the
additional specification of a corner radius, <em>r</em>.</span></p>
</div>
</div>
<div class="section" id="color-palette-tables">
<span id="cpt-section"></span><h2>12.20. Color palette tables<a class="headerlink" href="#color-palette-tables" title="Permalink to this headline">¶</a></h2>
<p>Several programs need to relate user data to colors, shades, or even patterns.
For instance, programs that read 2-D gridded data sets and
create colored images or shaded reliefs  need to be told what colors to
use and over what <em>z</em>-range each color applies. Other programs may need
to associate a user value with a color to be applied to a symbol, line,
or polygon.  This is the purpose of the color palette table (CPT).  For
most applications, you will simply create a CPT using the tool
<a class="reference internal" href="makecpt.html"><span class="doc">makecpt</span></a> which will take an existing <em>dynamic</em> master
color table and stretch it to fit your chosen data range, or use
<a class="reference internal" href="grd2cpt.html"><span class="doc">grd2cpt</span></a> to build a CPT based on
the data distribution in one or more given grid files. However, in rare
situations you may need to make a CPT by hand or using text tools
like <strong>awk</strong> or <strong>perl</strong>. Finally, if you have your own preferred color
table you can convert it into a dynamic CPT and place it in your GMT
user directory and it will be found and behave like other GMT master CPTs.</p>
<p>Color palette tables (CPT) comes in two flavors: (1) Those designed to
work with categorical data (e.g., data where interpolation of values is
undefined) and (2) those designed for regular, continuously-varying
data. In both cases the <em>fill</em> information follows the format given in
Section <a class="reference internal" href="#specifying-area-fill-attributes">Specifying area fill attributes</a>. The z-values in CPTs can
be scaled by using the <strong>+u</strong>|<strong>U</strong><em>unit</em> mechanism.  Append these
modifiers to your CPT names when used in GMT commands.  The <strong>+u</strong><em>unit</em>
modifier will scale z <em>from unit to</em> meters, while <strong>+U</strong><em>unit</em> does
the inverse (scale z <em>from meters to unit</em>).</p>
<p>Since GMT supports several coordinate systems for color specification,
many master (or user) CPTs will contain the special comment</p>
<div class="line-block">
<div class="line"><code class="docutils literal notranslate"><span class="pre">#</span> <span class="pre">COLOR_MODEL</span> <span class="pre">=</span> <span class="pre">model</span></code></div>
</div>
<p>where <em>model</em> specifies how the color-values in the CPT should be interpreted.
By default we assume colors are given as red/green/blue triplets (each in the
0-255 range) separated by
slashes (model = <em>rgb</em>), but alternative representations are the HSV system
of specifying hue-saturation-value triplets (with hue in 0-360 range and
saturation and value ranging from 0-1) separated by hyphens (model = <em>hsv</em>),
or the CMYK system of specifying cyan/magenta/yellow/black quadruples in percent,
separated by slashes (model = <em>cmyk</em>).</p>
<div class="section" id="categorical-cpts">
<h3>12.20.1. Categorical CPTs<a class="headerlink" href="#categorical-cpts" title="Permalink to this headline">¶</a></h3>
<p>Categorical data are information on which normal numerical operations
are not defined. As an example, consider various land classifications
(desert, forest, glacier, etc.) and it is clear that even if we assigned
a numerical value to these categories (e.g., desert = 1, forest = 2,
etc) it would be meaningless to compute average values (what would 1.5
mean?). For such data a special format of the CPTs are provided.
Here, each category is assigned a unique key, a color or pattern, and an
optional label (usually the category name) marked by a leading
semi-colon. Keys must be monotonically increasing but do not need to be
consecutive. The format is</p>
<table border="1" class="docutils">
<colgroup>
<col width="44%" />
<col width="21%" />
<col width="36%" />
</colgroup>
<tbody valign="top">
<tr class="row-odd"><td>key<sub>1</sub></td>
<td><em>Fill</em></td>
<td>[;<em>label</em>]</td>
</tr>
<tr class="row-even"><td>…</td>
<td>&#160;</td>
<td>&#160;</td>
</tr>
<tr class="row-odd"><td>key<sub>n</sub></td>
<td><em>Fill</em></td>
<td>[;<em>label</em>]</td>
</tr>
</tbody>
</table>
<p>The <em>Fill</em> information follows the format given in Section <a class="reference internal" href="#specifying-area-fill-attributes">Specifying area fill attributes</a>.
While not always applicable to categorical data, the background color
(for <em>key</em>-values &lt; <span class="math notranslate nohighlight">\(key_1\)</span>), foreground color (for
<em>key</em>-values &gt; <span class="math notranslate nohighlight">\(key_{n}\)</span>), and not-a-number (NaN)
color (for <em>key</em>-values = NaN) are all defined in the <a class="reference internal" href="gmt.conf.html"><span class="doc">gmt.conf</span></a> file, but can be
overridden by the statements</p>
<table border="1" class="docutils">
<colgroup>
<col width="19%" />
<col width="81%" />
</colgroup>
<tbody valign="top">
<tr class="row-odd"><td>B</td>
<td>Fill<sub>back</sub></td>
</tr>
<tr class="row-even"><td>F</td>
<td>Fill<sub>fore</sub></td>
</tr>
<tr class="row-odd"><td>N</td>
<td>Fill<sub>nan</sub></td>
</tr>
</tbody>
</table>
</div>
<div class="section" id="regular-cpts">
<h3>12.20.2. Regular CPTs<a class="headerlink" href="#regular-cpts" title="Permalink to this headline">¶</a></h3>
<p>Suitable for continuous data types and allowing for color
interpolations, the format of the regular CPTs is:</p>
<table border="1" class="docutils">
<colgroup>
<col width="16%" />
<col width="21%" />
<col width="16%" />
<col width="21%" />
<col width="11%" />
<col width="15%" />
</colgroup>
<tbody valign="top">
<tr class="row-odd"><td>z<sub>0</sub></td>
<td>Color<sub>min</sub></td>
<td>z<sub>1</sub></td>
<td>Color<sub>max</sub></td>
<td>[<strong>A</strong>]</td>
<td>[;<em>label</em>]</td>
</tr>
<tr class="row-even"><td colspan="6">…</td>
</tr>
<tr class="row-odd"><td>z<sub>n-2</sub></td>
<td>Color<sub>min</sub></td>
<td>z<sub>n-1</sub></td>
<td>Color<sub>max</sub></td>
<td>[<strong>A</strong>]</td>
<td>[;<em>label</em>]</td>
</tr>
</tbody>
</table>
<p>Thus, for each “<em>z</em>-slice”, defined as the interval between two
boundaries (e.g., <span class="math notranslate nohighlight">\(z_0\)</span> to <span class="math notranslate nohighlight">\(z_1\)</span>), the color can be
constant (by letting Color<span class="math notranslate nohighlight">\(_{max}\)</span> = Color<span class="math notranslate nohighlight">\(_{min}\)</span> or -)
or a continuous, linear function of <em>z</em>. If patterns are used then the
second (max) pattern must be set to -. The optional flag <strong>A</strong> is used
to indicate annotation of the color scale when plotted using
<a class="reference internal" href="psscale.html"><span class="doc">psscale</span></a>. The optional flag <strong>A</strong> may
be <strong>L</strong>, <strong>U</strong>, or <strong>B</strong> to select annotation of the lower, upper, or
both limits of the particular <em>z</em>-slice, respectively. However,
the standard <strong>-B</strong> option can be used by
<a class="reference internal" href="psscale.html"><span class="doc">psscale</span></a> to affect annotation and
ticking of color scales. Just as other GMT programs, the <em>stride</em> can
be omitted to determine the annotation and tick interval automatically
(e.g., <strong>-Baf</strong>). The optional semicolon followed by a text label will
make <a class="reference internal" href="psscale.html"><span class="doc">psscale</span></a>, when used with the
<strong>-L</strong> option, place the supplied label instead of formatted <em>z</em>-values.</p>
<p>As for categorical tables, the background color (for <em>z</em>-values
&lt; <span class="math notranslate nohighlight">\(z_0\)</span>), foreground color (for <em>z</em>-values &gt;
<span class="math notranslate nohighlight">\(z_{n-1}\)</span>), and not-a-number (NaN) color (for <em>z</em>-values =
NaN) are all defined in the <a class="reference internal" href="gmt.conf.html"><span class="doc">gmt.conf</span></a> file, but can be overridden by the
statements</p>
<table border="1" class="docutils">
<colgroup>
<col width="19%" />
<col width="81%" />
</colgroup>
<tbody valign="top">
<tr class="row-odd"><td>B</td>
<td>Fill<sub>back</sub></td>
</tr>
<tr class="row-even"><td>F</td>
<td>Fill<sub>fore</sub></td>
</tr>
<tr class="row-odd"><td>N</td>
<td>Fill<sub>nan</sub></td>
</tr>
</tbody>
</table>
<p>which can be inserted into the beginning or end of the CPT. If you
prefer the HSV system, set the <a class="reference internal" href="gmt.conf.html"><span class="doc">gmt.conf</span></a> parameter accordingly and replace red,
green, blue with hue, saturation, value. Color palette tables that
contain gray-shades only may replace the <em>r/g/b</em> triplets with a single
gray-shade in the 0--255 range. For CMYK, give <em>c/m/y/k</em> values in the
0--100 range.</p>
<p>A few programs (i.e., those that plot polygons such as
<a class="reference internal" href="grdview.html"><span class="doc">grdview</span></a>, <a class="reference internal" href="psscale.html"><span class="doc">psscale</span></a>,
<a class="reference internal" href="psxy.html"><span class="doc">psxy</span></a> and
<a class="reference internal" href="psxyz.html"><span class="doc">psxyz</span></a>) can accept pattern fills instead
of gray-shades. You must specify the pattern as in Section <a class="reference internal" href="#specifying-area-fill-attributes">Specifying area fill attributes</a>
(no leading <strong>-G</strong> of course), and only the first pattern (for low
<em>z</em>) is used (we cannot interpolate between patterns). Finally,
some programs let you skip features whose <em>z</em>-slice in the CPT
file has gray-shades set to -. As an example, consider</p>
<table border="1" class="docutils">
<colgroup>
<col width="16%" />
<col width="31%" />
<col width="19%" />
<col width="34%" />
</colgroup>
<tbody valign="top">
<tr class="row-odd"><td>30</td>
<td>p16+r200</td>
<td>80</td>
<td>-</td>
</tr>
<tr class="row-even"><td>80</td>
<td>-</td>
<td>100</td>
<td>-</td>
</tr>
<tr class="row-odd"><td>100</td>
<td>200/0/0</td>
<td>200</td>
<td>255/255/0</td>
</tr>
<tr class="row-even"><td>200</td>
<td>yellow</td>
<td>300</td>
<td>green</td>
</tr>
</tbody>
</table>
<p>where slice 30 &lt; z &lt; 80 is painted with pattern # 16 at 200 dpi,
slice 80 &lt; z &lt; 100 is skipped, slice 100 &lt; z &lt; 200 is
painted in a range of dark red to yellow, whereas the slice
200 &lt; z &lt; 300 will linearly yield colors from yellow to green,
depending on the actual value of <em>z</em>.</p>
<p>Some programs like <a class="reference internal" href="grdimage.html"><span class="doc">grdimage</span></a> and
<a class="reference internal" href="grdview.html"><span class="doc">grdview</span></a> apply artificial illumination
to achieve shaded relief maps. This is typically done by finding the
directional gradient in the direction of the artificial light source and
scaling the gradients to have approximately a normal distribution on the
interval [-1,+1]. These intensities are used to add “white” or “black”
to the color as defined by the <em>z</em>-values and the CPT. An intensity
of zero leaves the color unchanged. Higher values will brighten the
color, lower values will darken it, all without changing the original
hue of the color (see Chapter <a class="reference internal" href="#color-space-the-final-frontier">Color Space: The Final Frontier</a> for more details). The
illumination is decoupled from the data grid file in that a separate
grid file holding intensities in the [-1,+1] range must be provided.
Such intensity files can be derived from the data grid using
<a class="reference internal" href="grdgradient.html"><span class="doc">grdgradient</span></a> and modified with
<a class="reference internal" href="grdhisteq.html"><span class="doc">grdhisteq</span></a>, but could equally well be
a separate data set. E.g., some side-scan sonar systems collect both
bathymetry and backscatter intensities, and one may want to use the
latter information to specify the illumination of the colors defined by
the former. Similarly, one could portray magnetic anomalies superimposed
on topography by using the former for colors and the latter for shading.</p>
</div>
<div class="section" id="master-dynamic-cpts">
<h3>12.20.3. Master (dynamic) CPTs<a class="headerlink" href="#master-dynamic-cpts" title="Permalink to this headline">¶</a></h3>
<p>The CPTs distributed with GMT are <em>dynamic</em>.  This means they have several
special properties that modify the behavior of programs that use them.
All dynamic CPTs are normalized in one of two ways: If a CPT was designed
to behave differently across a <em>hinge</em> value (e.g., a CPT designed specifically
for topographic relief may include a discontinuity in color across the
coastline at <em>z = 0</em>), then the CPT’s <em>z</em>-values will range from -1, via 0
at the hinge, to +1 at the other end.  The hinge value is specified via the special
comment</p>
<div class="line-block">
<div class="line"><code class="docutils literal notranslate"><span class="pre">#</span> <span class="pre">HINGE</span> <span class="pre">=</span> <span class="pre">&lt;hinge-value&gt;</span></code></div>
</div>
<p>CPTs without a hinge are instead normalized with <em>z</em>-values from 0 to 1.
Dynamic CPTs will need to be stretched to the user’s preferred range, and there
are two modes of such scaling: Some CPTs designed for a specific application
(again, the topographic relief is a good example) have a <em>default range</em>
specified in the master table via the special comment</p>
<div class="line-block">
<div class="line"><code class="docutils literal notranslate"><span class="pre">#</span> <span class="pre">RANGE</span> <span class="pre">=</span> <span class="pre">&lt;zmin/zmax&gt;</span></code></div>
</div>
<p>and when used by applications the normalized <em>z</em>-values will be stretched to reflect
this natural range.  In contrast, CPTs without a natural range are instead
stretched to fit the range of the data in question (e.g., a grid’s range).
Exceptions to these rules are implemented in the two CPT-producing modules
<a class="reference internal" href="makecpt.html"><span class="doc">makecpt</span></a> and <a class="reference internal" href="grd2cpt.html"><span class="doc">grd2cpt</span></a>, both of which can read dynamic CPTs
and produce <em>static</em> CPTs satisfying a user’s specific range needs.  These
tools can also read static CPTs where the new range must be specified (or computed
from data), reversing the order of colors, and even isolating a section
of an incoming CPT.  Here, <a class="reference internal" href="makecpt.html"><span class="doc">makecpt</span></a> can be told the range of compute it from data tables
while <a class="reference internal" href="grd2cpt.html"><span class="doc">grd2cpt</span></a> can derive the range from one or more grids.</p>
<div class="figure align-center" id="id133">
<a class="reference internal image-reference" href="_images/GMT_hinge.png"><img alt="_images/GMT_hinge.png" src="_images/GMT_hinge.png" style="width: 500px;" /></a>
<p class="caption"><span class="caption-text">The top color bar is a dynamic master CPT (here, globe) with a hinge at sea level and
a natural range from -10,000 to +10,000 meters. However, our data range
is asymmetrical, going from -8,000 meter depths up to +3,000 meter elevations.
Because of the hinge, the two sides of the CPT will be stretched separately
to honor the desired range while utilizing the full color range.</span></p>
</div>
</div>
<div class="section" id="cyclic-wrapped-cpts">
<h3>12.20.4. Cyclic (wrapped) CPTs<a class="headerlink" href="#cyclic-wrapped-cpts" title="Permalink to this headline">¶</a></h3>
<p>Any color table you produce can be turned into a cyclic or <em>wrapped</em> color table.
This is performed by adding the <strong>-Ww</strong> option when running <a class="reference internal" href="makecpt.html"><span class="doc">makecpt</span></a> or
<a class="reference internal" href="grd2cpt.html"><span class="doc">grd2cpt</span></a>.  This option simply adds the special comment</p>
<div class="line-block">
<div class="line"><code class="docutils literal notranslate"><span class="pre">#</span> <span class="pre">CYCLIC</span></code></div>
</div>
<p>to the color table and then GMT knows that when looking up a color from a <em>z</em>
value it will remove an integer multiple of the <em>z</em>-range represented by the
color table so that we are always inside the range of the color table.  This
means that the fore- and back-ground colors can never be activated.  Wrapped
color tables are useful for highlighting small changes.</p>
<div class="figure align-center" id="id134">
<a class="reference internal image-reference" href="_images/GMT_cyclic.png"><img alt="_images/GMT_cyclic.png" src="_images/GMT_cyclic.png" style="width: 500px;" /></a>
<p class="caption"><span class="caption-text">Cyclic color bars are indicated by a cycle symbol on the left side of the bar.</span></p>
</div>
</div>
<div class="section" id="manipulating-cpts">
<span id="id30"></span><h3>12.20.5. Manipulating CPTs<a class="headerlink" href="#manipulating-cpts" title="Permalink to this headline">¶</a></h3>
<p>There are many ways to turn a master CPT into a custom CPT that works for your
particular data range.  The tools <a class="reference internal" href="makecpt.html"><span class="doc">makecpt</span></a> and <a class="reference internal" href="grd2cpt.html"><span class="doc">grd2cpt</span></a> allow
several types of transformations to take place:</p>
<blockquote>
<div><ol class="arabic simple">
<li>You can reverse the <em>z</em>-direction of the CPT using option <strong>-Iz</strong>.
This is useful when your data use a different convention for
positive and negative (e.g., perhaps using positive depths instead of
negative relief).</li>
<li>You can invert the order of the colors in the CPT using option <strong>-Ic</strong>.
This is different from the previous option in that only the colors
are rearranged (it is also possible to issue <strong>-Icz</strong> to combine both effects.)</li>
<li>You can select just a subset of a master CPT with <strong>-G</strong>, in effect creating
a modified master CPT that can be scaled further.</li>
<li>Finally, you can scale and translate the (modified) master CPT range to
your actual data range or a sub-range thereof.</li>
</ol>
</div></blockquote>
<p>The order of these transformations is important.  For instance, if <strong>-Iz</strong> is given
then all other <em>z</em>-values need to be referred to the new sign convention. For most
applications only the last transformation is needed.</p>
<div class="figure align-center" id="id135">
<a class="reference internal image-reference" href="_images/GMT_CPTscale.png"><img alt="_images/GMT_CPTscale.png" src="_images/GMT_CPTscale.png" style="width: 500px;" /></a>
<p class="caption"><span class="caption-text">Examples of two user CPTs for the range -0.5 to 3 created from the same master.  One (left) extracted a
subset of the master before scaling while the other (right) used the entire range.</span></p>
</div>
</div>
</div>
<div class="section" id="the-drawing-of-vectors">
<h2>12.21. The Drawing of Vectors<a class="headerlink" href="#the-drawing-of-vectors" title="Permalink to this headline">¶</a></h2>
<p>GMT supports plotting vectors in various forms. A vector is one of
many symbols that may be plotted by <a class="reference internal" href="psxy.html"><span class="doc">psxy</span></a>
and <a class="reference internal" href="psxyz.html"><span class="doc">psxyz</span></a>, is the main feature in
<a class="reference internal" href="grdvector.html"><span class="doc">grdvector</span></a>, and is indirectly used by
other programs. All vectors plotted by GMT consist of two separate
parts: The vector line (controlled by the chosen pen attributes) and the
optional vector head(s) (controlled by the chosen fill). We distinguish
between three types of vectors:</p>
<ol class="arabic simple">
<li>Cartesian vectors are plotted as straight lines. They can be
specified by a start point and the direction and length (in map
units) of the vector, or by its beginning and end point. They may
also be specified giving the azimuth and length (in km) instead.</li>
<li>Circular vectors are (as the name implies) drawn as circular arcs and
can be used to indicate opening angles. It accepts an origin, a
radius, and the beginning and end angles.</li>
<li>Geo-vectors are drawn using great circle arcs. They are specified by
a beginning point and the azimuth and length (in km) of the vector,
or by its beginning and end point.</li>
</ol>
<div class="figure align-center" id="id136">
<a class="reference internal image-reference" href="_images/GMT_arrows.png"><img alt="_images/GMT_arrows.png" src="_images/GMT_arrows.png" style="width: 500px;" /></a>
<p class="caption"><span class="caption-text">Examples of Cartesian (left), circular (middle), and geo-vectors (right)
for different attribute specifications. Note that both full and half
arrow-heads can be specified, as well as no head at all.</span></p>
</div>
<p>There are numerous attributes you can modify, including how the vector
should be justified relative to the given point (beginning, center, or
end), where heads (if any) should be placed, if the head should just be
the left or right half, if the vector attributes should shrink for
vectors whose length are less than a given cutoff length, and the size
and shape of the head. These attributes are detailed further in the
relevant manual pages.</p>
<div class="figure align-center" id="id137">
<a class="reference internal image-reference" href="_images/GMT_arrows_types.png"><img alt="_images/GMT_arrows_types.png" src="_images/GMT_arrows_types.png" style="width: 500px;" /></a>
<p class="caption"><span class="caption-text">Examples of different vector heads and attributes.  The default is the standard
triangular arrow head, which can be modified by adjusting the apex angle [30] or
changing its shape via the <a class="reference internal" href="gmt.conf.html#map-vector-shape"><span class="std std-ref">MAP_VECTOR_SHAPE</span></a> setting.
Other vector heads are the circle (<strong>c</strong>), the terminal line (<strong>t</strong>), the
arrow fin (<strong>i</strong>) and the plain head (<strong>A</strong>) and tail (<strong>I</strong>); the last two
are line-drawings only and cannot be filled.</span></p>
</div>
</div>
<div class="section" id="character-escape-sequences">
<span id="char-esc-seq"></span><h2>12.22. Character escape sequences<a class="headerlink" href="#character-escape-sequences" title="Permalink to this headline">¶</a></h2>
<p>For annotation labels or text strings plotted with
<a class="reference internal" href="pstext.html"><span class="doc">pstext</span></a>, GMT provides several escape
sequences that allow the user to temporarily switch to the symbol font,
turn on sub- or superscript, etc., within words. These conditions are
toggled on/off by the escape sequence &#64;<strong>x</strong>, where <strong>x</strong> can be one
of several types. The escape sequences recognized in GMT are listed in
Table <a class="reference internal" href="#tbl-escape"><span class="std std-ref">escape</span></a>. Only one level of sub- or superscript is supported.
Note that under Windows the percent symbol indicates a batch variable,
hence you must use two percent-signs for each one required in the escape
sequence for font switching.</p>
<table border="1" class="docutils" id="tbl-escape">
<colgroup>
<col width="23%" />
<col width="77%" />
</colgroup>
<thead valign="bottom">
<tr class="row-odd"><th class="head">&#160;</th>
<th class="head">&#160;</th>
</tr>
</thead>
<tbody valign="top">
<tr class="row-even"><td>&#64;~</td>
<td>Turns symbol font on or off</td>
</tr>
<tr class="row-odd"><td>&#64;+</td>
<td>Turns superscript on or off</td>
</tr>
<tr class="row-even"><td>&#64;-</td>
<td>Turns subscript on or off</td>
</tr>
<tr class="row-odd"><td>&#64;#</td>
<td>Turns small caps on or off</td>
</tr>
<tr class="row-even"><td>&#64;_</td>
<td>Turns underline on or off</td>
</tr>
<tr class="row-odd"><td>&#64;%<em>fontno</em>%</td>
<td>Switches to another font; &#64;%% resets to previous font</td>
</tr>
<tr class="row-even"><td>&#64;:<em>size</em>:</td>
<td>Switches to another font size; &#64;:: resets to previous size</td>
</tr>
<tr class="row-odd"><td>&#64;;<em>color</em>;</td>
<td>Switches to another font color; &#64;;; resets to previous color</td>
</tr>
<tr class="row-even"><td>&#64;!</td>
<td>Creates one composite character of the next two characters</td>
</tr>
<tr class="row-odd"><td>&#64;&#64;</td>
<td>Prints the &#64; sign itself</td>
</tr>
</tbody>
</table>
<p>Shorthand notation for a few special European characters has also been added (for others
you must use the full octal code):</p>
<table border="1" class="docutils">
<colgroup>
<col width="23%" />
<col width="27%" />
<col width="23%" />
<col width="27%" />
</colgroup>
<thead valign="bottom">
<tr class="row-odd"><th class="head"><em>Code</em></th>
<th class="head"><em>Effect</em></th>
<th class="head"><em>Code</em></th>
<th class="head"><em>Effect</em></th>
</tr>
</thead>
<tbody valign="top">
<tr class="row-even"><td>&#64;E</td>
<td>Æ</td>
<td>&#64;e</td>
<td>æ</td>
</tr>
<tr class="row-odd"><td>&#64;O</td>
<td>Ø</td>
<td>&#64;o</td>
<td>ø</td>
</tr>
<tr class="row-even"><td>&#64;A</td>
<td>Å</td>
<td>&#64;a</td>
<td>å</td>
</tr>
<tr class="row-odd"><td>&#64;C</td>
<td>Ç</td>
<td>&#64;c</td>
<td>ç</td>
</tr>
<tr class="row-even"><td>&#64;N</td>
<td>Ñ</td>
<td>&#64;n</td>
<td>ñ</td>
</tr>
<tr class="row-odd"><td>&#64;U</td>
<td>Ü</td>
<td>&#64;u</td>
<td>ü</td>
</tr>
<tr class="row-even"><td>&#64;s</td>
<td>ß</td>
<td>&#64;i</td>
<td>í</td>
</tr>
</tbody>
</table>
<p><em>PostScript</em> fonts used in GMT may be re-encoded to include several
accented characters used in many European languages. To access these,
you must specify the full octal code \xxx allowed for
your choice of character encodings determined by the
<a class="reference internal" href="gmt.conf.html#ps-char-encoding"><span class="std std-ref">PS_CHAR_ENCODING</span></a> setting described in the
<a class="reference internal" href="gmt.conf.html"><span class="doc">gmt.conf</span></a> man page. Only the special
characters belonging to a particular encoding will be available. Many
characters not directly available by using single octal codes may be
constructed with the composite character mechanism &#64;!.</p>
<p>Some examples of escape sequences and embedded octal codes in
GMT strings using the Standard+ encoding:</p>
<div class="line-block">
<div class="line"><code class="docutils literal notranslate"><span class="pre">2&#64;~p&#64;~r&#64;+2&#64;+h&#64;-0&#64;-</span> <span class="pre">E\363tv\363s</span></code> = 2<span class="math notranslate nohighlight">\(\pi r^2h_0\)</span> Eötvös</div>
<div class="line"><code class="docutils literal notranslate"><span class="pre">10&#64;+-3</span> <span class="pre">&#64;Angstr&#64;om</span></code> = 10<span class="math notranslate nohighlight">\(^{-3}\)</span> Ångstrøm</div>
<div class="line"><code class="docutils literal notranslate"><span class="pre">Stresses</span> <span class="pre">are</span> <span class="pre">&#64;~s&#64;~&#64;+*&#64;+&#64;-xx&#64;-</span> <span class="pre">MPa</span></code> = Stresses are <span class="math notranslate nohighlight">\(\sigma^{*}_{xx}\)</span> MPa</div>
<div class="line"><code class="docutils literal notranslate"><span class="pre">Se&#64;nor</span> <span class="pre">Gar&#64;con</span></code> = Señor Garçon</div>
<div class="line"><code class="docutils literal notranslate"><span class="pre">M&#64;!\305anoa</span> <span class="pre">stra&#64;se</span></code> = Manoa straße</div>
<div class="line"><code class="docutils literal notranslate"><span class="pre">A&#64;\#cceleration&#64;\#</span> <span class="pre">(ms&#64;+-2&#64;+)</span></code> = ACCELERATION</div>
</div>
<p>The option in <a class="reference internal" href="pstext.html"><span class="doc">pstext</span></a> to draw a
rectangle surrounding the text will not work for strings with escape
sequences. A chart of characters and their octal codes is given in
Chapter <a class="reference internal" href="#chart-of-octal-codes-for-characters">Chart of Octal Codes for Characters</a>.</p>
</div>
<div class="section" id="plot-embellishments">
<span id="gmt-embellishments"></span><h2>12.23. Plot embellishments<a class="headerlink" href="#plot-embellishments" title="Permalink to this headline">¶</a></h2>
<p>Apart from visualizing your data sets, GMT maps can also be embellished in several ways.
The 8 embellishments currently available are</p>
<ul class="simple">
<li><strong>Map scale</strong> showing the true scale at some location(s) on the map.</li>
<li><strong>Directional rose</strong> showing true north and other cardinal directions.</li>
<li><strong>Magnetic rose</strong> showing magnetic north and declination deviations.</li>
<li><strong>Color bar</strong> relating the colors of your image to the data values.</li>
<li><strong>Map legend</strong> showing the meaning of the symbols on your map.</li>
<li><strong>Image overlay</strong> of raster images or EPS figures (e.g., institutional logos, photos, etc.).</li>
<li><strong>GMT logo</strong> overlay.</li>
<li><strong>Map insert</strong> showing perhaps the location of your detailed area in a regional or global context.</li>
</ul>
<p>Each of these features share a common system for specifying the location on the plot where the
feature will be placed.  They also share a common way for specifying the placement of a rectangular
panel behind the feature (to provide a uniform background, for instance).  Thus, before we discuss
the different features in more detail we will first review the “reference point/anchor point”
system used by GMT to specify such locations in relation to the underlying map, and then discuss
the background panel attribute settings.</p>
<div class="section" id="reference-and-anchor-point-specification">
<h3>12.23.1. Reference and anchor point specification<a class="headerlink" href="#reference-and-anchor-point-specification" title="Permalink to this headline">¶</a></h3>
<div class="figure align-center" id="id138">
<a class="reference internal image-reference" href="_images/GMT_anchor.png"><img alt="_images/GMT_anchor.png" src="_images/GMT_anchor.png" style="width: 500px;" /></a>
<p class="caption"><span class="caption-text">The placement of a map feature (here represented by a green rectangle) in relation
to the underlying map.  The nine named <em>reference</em> points (blue circles) on the map perimeter (and center)
can be used to specify a location.  Using the same system of nine points on the map feature
(cyan circles) we select one of these as our <em>anchor</em> point (here TL, indicated by the orange square).
The anchor point can optionally be shifted away from the reference point by an amount <em>dx/dy</em> in the direction
implied by the anchor point (in this case to the top and left), yielding the adjusted
anchor point (red square).
The feature is then placed such that its adjusted anchor point matches the reference point.</span></p>
</div>
<p>Placing a feature on the map means selecting a <em>reference</em> point somewhere on the map, an
<em>anchor</em> point somewhere on the feature, and then positioning the feature so that the two points overlap.
It may be helpful to consider the analog of a boat dropping an anchor: The boat navigates to the
reference point and then, depending on where on the boat the anchor is located, moves so that the
anchor connection point overlies the reference point, then drops the anchor.
There are four different ways to specify the reference point on a map, allowing for complete freedom
to select any location inside or outside the map.  The reference point syntax is [<strong>g</strong>|<strong>j</strong>|<strong>J</strong>|<strong>n</strong>|<strong>x</strong>]<em>refpoint</em>;
the five codes <strong>g</strong>|<strong>j</strong>|<strong>J</strong>|<strong>n</strong>|<strong>x</strong> refer to the five ways:</p>
<ol class="arabic simple">
<li>[<strong>g</strong>] Specify <em>refpoint</em> using <em>data</em> coordinates, e.g., the longitude and latitude of the reference point.
This mechanism is useful when you want to tie the location of the feature to an actual point
best described by data coordinates.  An example of such a reference point might
be <strong>g</strong>135W/20N.</li>
<li>[<strong>j</strong>] Specify <em>refpoint</em> using one of the nine <em>justification codes</em>, equivalent to the justification
codes for placing text strings in <a class="reference internal" href="pstext.html"><span class="doc">pstext</span></a>.  This mechanism is illustrated in the figure above and
is the preferred mechanism when you just want to place the feature <strong>inside</strong> the basemap at
one of the corners or centered at one of the sides (or even smack in the middle).  Justification codes
are a combination of a horizontal (<strong>L</strong>, <strong>C</strong>, <strong>R</strong>) and a vertical (<strong>T</strong>, <strong>M</strong>, <strong>B</strong>) code.
An example of such a reference point might be <strong>j</strong>TL. When used, the anchor point on the map feature
will default to the same justification, i.e., TL in this example.</li>
<li>[<strong>J</strong>] This is the same as <strong>j</strong> except it implies that the default anchor point is the mirror opposite of the
justification code. Thus, when using <strong>J</strong>TL, the anchor point on the map feature will default to BR.
This is practical for features that are drawn <strong>outside</strong> of the basemap (like color bars often are).</li>
<li>[<strong>x</strong>] Specify <em>refpoint</em> using <em>plot</em> coordinates, i.e., the distances in inches, centimeters, or
points from the lower left plot origin.  This mechanism is preferred when you wish to lay out
map features using familiar measurements of distance from origins. An example of such a reference
point might be <strong>x</strong>2.75i/2c.</li>
<li>[<strong>n</strong>] Specify <em>refpoint</em> using <em>normalized</em> coordinates, i.e., fractional coordinates between 0
and 1 in both the <em>x</em> and <em>y</em> directions.  This mechanism avoids units and is useful if you want to always
place features at locations best referenced as fractions of the plot dimensions.
An example of such a reference point might be <strong>n</strong>0.2/0.1.</li>
</ol>
<p>If no code is specified we default to <strong>x</strong>.</p>
<p>With the reference point taken care of, it is time to select the anchor point.
While the reference point selection gives unlimited flexibility to pick
any point inside or outside the map region, the anchor point selection is limited to the nine justification points
discussed for the <strong>j</strong> reference point code above.  Add <strong>+j</strong><em>anchor</em> to indicate which justification
point of the map feature should be co-registered with the chosen reference point.  If an anchor point is not
specified then it defaults to the justification point set for the reference point (if <strong>j</strong><em>code</em> was
used to set it), or to the mirror opposite of the reference point (if <strong>J</strong><em>code</em> was used); with all other
specifications of the reference point, the anchor point takes on the default value of MC (for map rose and
map scale) or BL (all other map features). Adding <strong>+j</strong><em>anchor</em> overrules those defaults.
For instance, <strong>+j</strong>TR would select the top right point on the map feature as the anchor.</p>
<p>It is likely that you will wish to offset the anchor point away from
your selection by some arbitrary amount, particularly if the reference point is specified with <strong>j</strong>|<strong>J</strong><em>code</em>.
Do so with  <strong>+o</strong><em>dx</em>[/<em>dy</em>], where <em>dy</em> equals <em>dx</em> if it is not provided.
These increments are added to the projected plot coordinates of the anchor point, with
positive values moving the reference point in the same direction as the 2-character code of the anchor point implies.
Finally, the adjusted anchor point is matched with the reference point.</p>
<p>Take for example an anchor point on the top left of the map feature, either by using a reference point <strong>j</strong>TL, or <strong>J</strong>BR,
or explicitly setting <strong>+j</strong>TL.
Then <strong>+o</strong>2c/1c will move the anchor point 2 cm left and 1 cm above the top left corner of the map feature.
In other words, the top left corner of the map feature will end up 2 cm to the right and 1 cm below the selected reference point.</p>
<p>Similarly <strong>+j</strong>BR will align the bottom right corner of the map feature, and <strong>+o</strong>2c/1c will offset it 2 cm to the left
and 1 cm up. When using middle (M) or center (C) justifications, to offset works the same way as bottom (B) or left (L),
respectively, i.e., moving the map feature up or to the right.</p>
</div>
<div class="section" id="the-background-panel">
<h3>12.23.2. The background panel<a class="headerlink" href="#the-background-panel" title="Permalink to this headline">¶</a></h3>
<p>For most maps you will wish to place a background panel of uniform color behind
any of the map features you plan to add.  Because the panel is linked to the map feature
you have selected, the parameters such as location and dimensions are handled automatically.
What remains is to specify the <em>attributes</em> of the panel.  Typically, panels settings are
given via a module’s <strong>-F</strong> option by appending one or more modifiers.  Here is a list of
the attributes that are under your control:</p>
<ol class="arabic simple">
<li>Color or pattern.  You specify the fill you want with <strong>+g</strong><em>fill</em> [Default is no fill].
For instance, paint the panel yellow with <strong>+g</strong>yellow.</li>
<li>Panel frame pen.  Turn on the frame outline with <strong>+p</strong>, using the pen defined via
<a class="reference internal" href="gmt.conf.html#map-frame-pen"><span class="std std-ref">MAP_FRAME_PEN</span></a>.  You may override this choice with <strong>+p</strong><em>pen</em>
[Default is no outline].  A very bold red outline might look like <strong>+p</strong>thick,red.</li>
<li>Rounded versus straight rectangle.  By specifying a corner radius with <strong>+r</strong><em>radius</em>
you can round the corners [Default is no rounding]. Here is a 0.2-inch radius rounding:
<strong>+r</strong>0.2i.</li>
<li>Inner frame.  A secondary, inner frame outline may be added as well with the modifier
<strong>+i</strong>[[<em>gap</em>/]<em>pen</em>].  The default pen is given by <a class="reference internal" href="gmt.conf.html#map-default-pen"><span class="std std-ref">MAP_DEFAULT_PEN</span></a>,
with a default <em>gap</em> between the outer and inner frames of 2 points.  Add arguments to override
these defaults, such as <strong>+i</strong>0.1c/thin,dashed to get a thin, dashed inner frame offset by
0.1 cm from the main (outer) frame.</li>
<li>Panel clearance.  The panel’s dimensions are automatically determined from knowledge of
its contents.  However, it is sometimes required to add some extra clearance around most or
all sides, and you can do so with <strong>+c</strong>[<em>clearance</em>], with a 4-point clearance being
the default.  Add one (uniform), two (different horizontal and vertical clearances), or
four (separate for sides west, east, south, and north) clearances, separated by slashes.  For instance, to add
a 1 cm clearance in x and 5 points in y, use <strong>+c</strong>1c/5p.</li>
<li>Drop-down shadow.  Append <strong>+s</strong> to simulate a gray shadow cast toward the southeast.
You may append [<em>dx</em>/<em>dy</em>/][<em>shade</em>] to change the shade color and the offset of the
shade [Default is 4p/-4p/gray50].  If happy with the placement but desiring a dark blue
shadow, add <strong>+s</strong>darkblue.</li>
</ol>
<div class="figure align-center" id="id139">
<a class="reference internal image-reference" href="_images/GMT_panel.png"><img alt="_images/GMT_panel.png" src="_images/GMT_panel.png" style="width: 400px;" /></a>
<p class="caption"><span class="caption-text">A map panel is a rectangular background placed behind any of the map features.  It has
several attributes that can be changed with panel option modifiers.  The light green rounded
rectangle was specified with <strong>-F+g</strong>lightgreen<strong>+r</strong>, while the white panel on the
lower right was set with <strong>-F+p</strong>1p<strong>+i+s+g</strong>white<strong>+c</strong>0.1i (we added a light
dashed box to indicate the effect of the clearance setting).</span></p>
</div>
</div>
<div class="section" id="placing-map-scales">
<h3>12.23.3. Placing map scales<a class="headerlink" href="#placing-map-scales" title="Permalink to this headline">¶</a></h3>
<p>Traditionally, a map scale is added to maps for helping the reader understand the particular scale
used for this map, i.e., it portrays the relationship between actual distances on the Earth
(in km, miles, meters, etc.) and distances on the map (in cm, inches, points).  Depending on
the map projection the map scale will vary continuously but may be constant along a line of
latitude (e.g., Mercator projection).  Thus, in placing the map scale on the map there are
two locations involved: (1) The <em>reference</em> point where the map scale’s <em>anchor</em> should be
pinned, and (2) the <em>projection</em> point where the scale is computed and thus where the map
scale is true.  Map scales can be plotted by <a class="reference internal" href="psbasemap.html"><span class="doc">psbasemap</span></a> or <a class="reference internal" href="pscoast.html"><span class="doc">pscoast</span></a>, and in
addition to the the required <em>refpoint</em> and anchor arguments specifying where the scale should be placed there
are both required and optional modifiers.  These are given via these modules’ <strong>-L</strong> option.
Here is a list of the attributes that is under your control:</p>
<ol class="arabic simple">
<li>Scale bar length.  Required modifier is given with <strong>+w</strong><em>length</em>[<em>unit</em>], where
<em>unit</em> is one of the recognized distance units.  An example might be <strong>+w</strong>250n for
a bar representing 250 nautical miles at the map scale origin.</li>
<li>Map scale origin.  Required modifier given with <strong>+c</strong>[<em>slon</em>/]<em>slat</em>, where the longitude
of the scale origin is optional for projections with constant scale along parallels.  For
a Mercator projection it may look like <strong>+c</strong>30N while an oblique projection may need <strong>+c</strong>100W/23N,
for instance.</li>
<li>Fancy scale bar.  By default a plain-looking scale bar is plotted.  For a free upgrade to a fancier bar,
append <strong>+f</strong>.  The fancier bar is, well, a bit fancier.</li>
<li>Scale label. Turn on scale labels with <strong>+l</strong>.  By default, the scale label is initialized to
equal the distance unit name.  Use the <strong>+l</strong><em>label</em> argument to supply your own scale label,
such as <strong>+l</strong>”Distances at Equator”.</li>
<li>Scale label alignment.  The default alignment is on top of the bar [<strong>+at</strong>], but you can change
this by selecting another alignment by appending them to the <strong>+a</strong> modifier, including
<strong>b</strong>ottom, <strong>l</strong>eft, or <strong>r</strong>ight.  Here, <strong>+ab</strong> would align on the bottom of the scale.</li>
<li>Append distance unit.  For the fancy scale, adding <strong>+u</strong> will append the distance unit specified
with <strong>+w</strong> to all distance annotations along the bar, while for the plain scale it will replace
the default scale label with the unit abbreviation.</li>
</ol>
<div class="figure align-center" id="id140">
<a class="reference internal image-reference" href="_images/GMT_mapscale.png"><img alt="_images/GMT_mapscale.png" src="_images/GMT_mapscale.png" style="width: 500px;" /></a>
<p class="caption"><span class="caption-text">Example of two map scales for a Mercator projection evaluated at 53 degrees north.
The left-most scale was placed with <strong>-Lj</strong><em>ML</em><strong>+c</strong>53<strong>+w</strong>1000k<strong>+f+l</strong>”Scale at 53\232N”
while the scale on the right was placed with <strong>-Lj</strong><em>BR</em><strong>+c</strong>53<strong>+w</strong>1000k<strong>+l+f</strong>.</span></p>
</div>
<p>Note that for the purpose of anchor justification (<strong>+j</strong>) the footprint of the map scale is
considered the rectangle that contains the scale and all selected labels and annotations, i.e.,
the map scale’s <em>bounding box</em>.</p>
</div>
<div class="section" id="placing-directional-map-roses">
<span id="placing-dir-map-roses"></span><h3>12.23.4. Placing directional map roses<a class="headerlink" href="#placing-directional-map-roses" title="Permalink to this headline">¶</a></h3>
<p>Map roses showing the cardinal directions of a map help the reader orient themselves, especially
for oblique projections where north-south is not vertically aligned.  However, these roses also
have ornamental value and can be used on any map projection.  As for map scales, a directional
map rose is added with <a class="reference internal" href="psbasemap.html"><span class="doc">psbasemap</span></a> or <a class="reference internal" href="pscoast.html"><span class="doc">pscoast</span></a> and selected by the <strong>-Td</strong> option.
This option accepts the <em>reference</em> point where the map rose’s <em>anchor</em> should be
pinned.  In addition to the required <em>refpoint</em> and <em>anchor</em> arguments (and their standard
modifiers discussed earlier) there is one required and two optional modifiers. The required
modifier sets the side:</p>
<ol class="arabic simple">
<li>Size of map rose.  Use <strong>+w</strong><em>size</em> to specify the full width and height of the rose.  A 3 cm
rose would require <strong>+w</strong>3c.</li>
</ol>
<p>The next two modifiers are optional:</p>
<ol class="arabic simple">
<li>Cardinal points.  By default only the four cardinal points (W, E, S, N) are included in the rose.
You can extend that with the <strong>+f</strong><em>level</em> modifier, where <em>level</em> is 1 [Default], 2, or 3.  Selecting
2 will include the two intermediate orientations NW-SE and NE-SW, while 3 adds the four additional
orientations WNW-ESE, NNW-SSE, NNE-SSW, and ENE-WSW.</li>
<li>Add labels.  Do so with <strong>+l</strong>,  which places the current one-letter codes for west, east, south,
and north at the four cardinal points.  These letters depend on the setting of <a class="reference internal" href="gmt.conf.html#gmt-language"><span class="std std-ref">GMT_LANGUAGE</span></a>
and for the default English we use W, E, S, N, respectively.  You can replace these labels with four custom
labels via  <strong>+l</strong><em>w,e,s,n</em>, i.e., four comma-separated labels in the specified order.  You can exclude any
of the cardinal points from being labeled by giving no label in the corresponding order.  E.g., <strong>+l</strong>”,,Down,Up”
would write Down and Up at the south and north cardinal point, respectively.  Note that for the plain
directional rose only the north annotation will be placed.</li>
</ol>
<div class="figure align-center" id="id141">
<a class="reference internal image-reference" href="_images/GMT_dir_rose.png"><img alt="_images/GMT_dir_rose.png" src="_images/GMT_dir_rose.png" style="width: 500px;" /></a>
<p class="caption"><span class="caption-text">Plain and fancy directional map roses. (left) Bare-bones plain rose showing arrow towards north
and a cross indicating the cardinal directions, specified by <strong>-Tdg</strong>0/0<strong>+w</strong>1i. (middle) Fancy rose
obtained by adding <strong>+f</strong> and <strong>+l</strong>,,,N to get the north label.  (right) Fancy directional rose
at level 3 with labels by adding <strong>+f</strong>3<strong>+l</strong>.</span></p>
</div>
</div>
<div class="section" id="placing-magnetic-map-roses">
<span id="placing-mag-map-roses"></span><h3>12.23.5. Placing magnetic map roses<a class="headerlink" href="#placing-magnetic-map-roses" title="Permalink to this headline">¶</a></h3>
<p>Map roses showing the magnetic directions of a map are useful when magnetic data are presented,
or when declinations are significantly nonzero.  However, as for directional roses the magnetic rose
also has ornamental value.  The magnetic rose consists of two concentric angular scales: The first
(outer) ring shows directional angles while the second (inner) ring is optional and portrays the
magnetic directions, which differ for nonzero declination. As for style, the two-ring rose looks a
bit like a standard compass.  As for directional roses, a magnetic
map rose is added with <a class="reference internal" href="psbasemap.html"><span class="doc">psbasemap</span></a> or <a class="reference internal" href="pscoast.html"><span class="doc">pscoast</span></a> and selected by the <strong>-Tm</strong> option.
As for other features, append the required <em>reference</em> point where the magnetic map rose’s <em>anchor</em>
should be pinned.  There is one required and several optional modifiers.  First up is the size:</p>
<ol class="arabic simple">
<li>Specify size of map rose.  Use <strong>+w</strong><em>size</em> to specify the full width of the rose.  A 3 cm
rose would imply <strong>+w</strong>3c.</li>
</ol>
<p>The remaining modifiers are optional:</p>
<ol class="arabic simple">
<li>Specify Declination.  To add the inner angular scale, append <strong>d</strong><em>dec</em>[/<em>dlabel</em>], where
<em>dec</em> is the declination value in decimal or ddd:mm:ss format, and <em>dlabel</em> is an optional string
that replaces the default label (which is “d = <em>dec</em>”, with d being a Greek delta and we format
the specified declination).  Append <strong>d</strong><em>dec</em>/- to indicate you do not want any declination label.
As an example, consider <strong>d</strong>11/”Honolulu declination”.</li>
<li>Draw the secondary (outer) ring outline.  Normally it is not drawn, but you can change that by appending
<strong>+p</strong><em>pen</em>.  For instance, adding <strong>+p</strong>thin will draw the ring with the selected thin pen.</li>
<li>Add labels.  As for directional roses you do so with <strong>+l</strong>, which places the current one-letter codes for west, east, south,
and north at the four cardinal points.  These letters depend on the setting of <a class="reference internal" href="gmt.conf.html#gmt-language"><span class="std std-ref">GMT_LANGUAGE</span></a>
and for the default English we use W, E, S, N, respectively.  You can replace these labels with four custom
labels via  <strong>+l</strong><em>w,e,s,n</em>, i.e., four comma-separated labels in the specified order.  You can exclude any
of the cardinal points from being labeled by giving no label in the corresponding order.  E.g., <strong>+l</strong>”,,Down,Up”
would write Down and Up at the south and north cardinal point, respectively.</li>
<li>Draw the primary (inner) ring outline.  It is also not normally drawn; change that by appending
<strong>+i</strong><em>pen</em>.  For instance, adding <strong>+i</strong>thin,blue will draw the ring with the selected thin, blue pen.</li>
<li>Set annotation, tick and grid intervals.  Each ring has a default annotation [30], tick [5], and grid [1]
interval (although here “grid interval” is just a finer tick interval drawn at half tickmark length).
Adjust these three intervals with <strong>+t</strong><em>intervals</em>.  If you selected <strong>+d</strong> then you must supply
two sets of such intervals (i.e., 6 comma-separated values), where the first (primary) set refers to
the declination-adjusted ring and the second (secondary) set refers to the directional (outer) ring.
If only three intervals are given then we assume you want the same intervals for both rings.  As an example,
to annotate every 90 degrees and tick every 15 and 5 degrees, add <strong>+t</strong>90/15/5.</li>
</ol>
<div class="figure align-center" id="id142">
<a class="reference internal image-reference" href="_images/GMT_mag_rose.png"><img alt="_images/GMT_mag_rose.png" src="_images/GMT_mag_rose.png" style="width: 600px;" /></a>
<p class="caption"><span class="caption-text">Magnetic direction map rose. This symbol is quite complicated and has many items whose attributes are
in part controlled by GMT defaults parameters and in part by the above modifiers.  The color-coded legend
indicates which parameters controls the font, pen, or color of the correspond item of the rose.  This rose
was specified by <strong>-Tmg</strong>-2/0.5<strong>+w</strong>2.5i<strong>+d</strong>-14.5<strong>+t</strong>45/10/5<strong>+i</strong>0.25p,blue<strong>+p</strong>0.25p,red<strong>+l+j</strong>CM.
See <a class="reference internal" href="gmt.conf.html"><span class="doc">gmt.conf</span></a> for more details on the default parameters.</span></p>
</div>
</div>
<div class="section" id="placing-color-scale-bars">
<h3>12.23.6. Placing color scale bars<a class="headerlink" href="#placing-color-scale-bars" title="Permalink to this headline">¶</a></h3>
<p>Color scale bars are used in conjunction with color-coded surfaces, symbols, lines, or even text, to
relate the chosen color to a data value or category.  For instance, color images of topography
or other gridded data will need a mechanism for users to decode what the colors represent.  Typically, we do this
by adding a color scale bar on the outside (or inside) of the map boundaries.  The module
<a class="reference internal" href="psscale.html"><span class="doc">psscale</span></a> places the color scale bar, with location and size determined by the <strong>-D</strong> attributes.
As for other map features we must specify the reference and anchor points and any adjustments to them, then
supply suitable required and optional modifiers:</p>
<ol class="arabic simple">
<li>Give dimensions of color bar.  Use <strong>+w</strong><em>length</em>/<em>width</em> to specify the full width and height of the bar.
For instance, a 10 cm long bar of height 0.5 cm would imply <strong>+w</strong>10c/0.5c.</li>
<li>Set orientation of color bar.  By default, we place a vertically aligned bar.  Select a horizontal bar by
adding <strong>+h</strong>.</li>
<li>Specify color bar label alignment.  By default we place the chosen annotations, scale (i.e., x-axis) label
and unit (i.e., y-axis) label on the opposite side of the color scale bar anchor point.  Change this
with <strong>+m</strong> and append any combination of <strong>a</strong>, <strong>l</strong>, or <strong>u</strong> to flip the annotations or labels
to the opposite side.  Append <strong>c</strong> to plot vertical labels as column text (this cannot be used with
<strong>+h</strong>, obviously).</li>
<li>Extend the color bar.  You can use the <strong>+e</strong> modifier to add sidebar triangles for displaying the
current back- and foreground colors.  Append <strong>b</strong> (background) or <strong>f</strong> (foreground) to get the implied side
only [Default is both].  Optionally, append triangle height [Default is half the bar <em>width</em>].</li>
<li>Add missing data key.  Append <strong>+n</strong> to draw a rectangle with the current NaN color and label it NaN.
Optionally, append a replacement <em>text</em>.  One example might be <strong>+n</strong>”No data”.</li>
</ol>
<div class="figure align-center" id="id143">
<a class="reference internal image-reference" href="_images/GMT_colorbar.png"><img alt="_images/GMT_colorbar.png" src="_images/GMT_colorbar.png" style="width: 500px;" /></a>
<p class="caption"><span class="caption-text">Color bar placed beneath a map (here truncated).  We extended the bar to show background and foreground
colors, and used the frame-annotation machinery to add labels.  The bar was placed with
<strong>-D</strong><em>JBC</em><strong>+o</strong>0/0.35i<strong>+w</strong>4.5i/0.1i<strong>+h</strong>.</span></p>
</div>
</div>
<div class="section" id="placing-map-legends">
<h3>12.23.7. Placing map legends<a class="headerlink" href="#placing-map-legends" title="Permalink to this headline">¶</a></h3>
<p>Adding map legends is the standard way to communicate what various symbols placed on your map
represent.  For instance, you may use this mechanism to convey the information that circles are
earthquake locations, triangles are places where you ate Thai food, and dashed lines indicate
some sort of gang-land demarkation line that you should not cross without paying the locals due respect.
Map legends are placed by the module <a class="reference internal" href="pslegend.html"><span class="doc">pslegend</span></a>, with location and size determined by the
various <strong>-D</strong> attributes. We must again specify the reference and anchor points and any adjustments to them
first, then supply suitable required and optional modifiers:</p>
<ol class="arabic simple">
<li>Give legend dimensions.  You must specify the required legend width, while legend height is optional
and if not given is computed based on the contents of the legend.  The syntax is therefore
<strong>+w</strong><em>width</em>[/<em>height</em>] in your desired plot units.  Thus, <strong>+w</strong>12c sets the legend width
as 12 cm but the hight will become whatever is needed to contain the information.</li>
<li>Set line-spacing.  You may optionally specify the line-spacing used for the setting of the legend.  The legend will
typically consist of several lines that may or may not contain text, but the spacing between
these lines are controlled by the chosen line-spacing factor times the current primary annotation
font setting, i.e., <a class="reference internal" href="gmt.conf.html#font-annot-primary"><span class="std std-ref">FONT_ANNOT_PRIMARY</span></a>.  The default line spacing factor
is 1.1; change this with <strong>+l</strong><em>linefactor</em>.</li>
</ol>
<div class="figure align-center" id="id144">
<a class="reference internal image-reference" href="_images/GMT_legend.png"><img alt="_images/GMT_legend.png" src="_images/GMT_legend.png" style="width: 500px;" /></a>
<p class="caption"><span class="caption-text">Example of a map legend placed with <a class="reference internal" href="pslegend.html"><span class="doc">pslegend</span></a>.  Apart from the placement and dimensions discussed
here, <a class="reference internal" href="pslegend.html"><span class="doc">pslegend</span></a> reads macro commands that specifies each item of the legend, including colors,
widths of columns, the number of columns, and presents a broad selection of items.  Here, we
simply used <strong>-Dx</strong>0/0<strong>+w</strong>5.6i<strong>+j</strong><em>BL</em>.</span></p>
</div>
</div>
<div class="section" id="placing-raster-and-eps-images-on-maps">
<h3>12.23.8. Placing raster and EPS images on maps<a class="headerlink" href="#placing-raster-and-eps-images-on-maps" title="Permalink to this headline">¶</a></h3>
<p>When preparing posters for meetings one will often need to include the organization’s logo,
which may be available to you as an Encapsulated <em>PostScript</em> File (EPS) or as a raster image,
such as PNG or JPG.  At other times, you may wish to place photos or other raster images on
your map.  The module <a class="reference internal" href="psimage.html"><span class="doc">psimage</span></a> can help with this, and like the other map feature
placements it requires a reference point and its optional adjustments via the <strong>-D</strong> option.
In addition, we require one (of two) modifiers to determine the image size.</p>
<ol class="arabic simple">
<li>Specify image width.  This is a required modifier and is set via <strong>+w</strong><em>width</em>[/<em>height</em>].
If <em>height</em> is specified as 0 then we compute the height from <em>width</em> and the aspect
ratio of the image, for instance <strong>+w</strong>4c/0.  If <em>width</em> is negative the we use its absolute value as width
but interpolate the image in <em>PostScript</em> to the device resolution.</li>
<li>Specify image resolution.  For raster images (not EPS) you may instead specify the size of the
plotted image by specifying its resolution in dots per inch, via <strong>+r</strong><em>dpi</em>.  The
actual size of the images is then controlled by its number of pixels times the <em>dpi</em>.</li>
<li>Enable image replication.  For raster images (not EPS) you may optionally append <strong>+n</strong><em>nx</em>[/<em>ny</em>]
to indicate that you want the source image to be replicated that many times in the two
directions, resulting in a tiling of the map using the selected image.  This may be useful
in conjunction with an active clip path set by <a class="reference internal" href="psclip.html"><span class="doc">psclip</span></a>.</li>
</ol>
<div class="figure align-center" id="id145">
<a class="reference internal image-reference" href="_images/GMT_images.png"><img alt="_images/GMT_images.png" src="_images/GMT_images.png" style="width: 500px;" /></a>
<p class="caption"><span class="caption-text">Placement of EPS and raster images. (left) The US National Science Foundation (NSF) has
generously funded the development of GMT and their JPG logo is reproduced here via
<strong>-Dj</strong><em>ML</em><strong>+w</strong>1.5i<strong>+o</strong>0.1i. (right)
The School of Ocean and Earth Science and Technology at the University of Hawaii at Manoa
hosts the gmt server and its EPS logo is shown via <strong>-Dj</strong><em>MR</em><strong>+o</strong>0.1i<strong>+w</strong>2i.</span></p>
</div>
</div>
<div class="section" id="placing-a-gmt-logo-on-maps">
<h3>12.23.9. Placing a GMT logo on maps<a class="headerlink" href="#placing-a-gmt-logo-on-maps" title="Permalink to this headline">¶</a></h3>
<p>It is possible to overlay the GMT logo on maps as well, using the module <a class="reference internal" href="gmtlogo.html"><span class="doc">gmtlogo</span></a>.
Like other features it requires reference and anchor points and their optional adjustments via the <strong>-D</strong> option.
In addition, we require one modifier to set the logo’s size.</p>
<ol class="arabic simple">
<li>Specify logo width.  This is a required modifier and is set via <strong>+w</strong><em>width</em>.
The height is automatically set (it is half the width).  To place a 5 cm wide
GMT logo, append <strong>+w</strong>5c.</li>
</ol>
<div class="figure align-center" id="id146">
<a class="reference internal image-reference" href="_images/GMT_coverlogo.png"><img alt="_images/GMT_coverlogo.png" src="_images/GMT_coverlogo.png" style="width: 300px;" /></a>
<p class="caption"><span class="caption-text">Placement of the GMT logo. The logo itself only has a size modifier but the <a class="reference internal" href="gmtlogo.html"><span class="doc">gmtlogo</span></a>
module allows additional attributes such as a background map panel.</span></p>
</div>
</div>
<div class="section" id="placing-map-inserts">
<h3>12.23.10. Placing map inserts<a class="headerlink" href="#placing-map-inserts" title="Permalink to this headline">¶</a></h3>
<p>Our final map embellishment is the map insert.
A map insert may appear to be the easiest feature to add since it only consists of an empty map panel.
What you put in this panel is up to you (and we will show some examples).  However, unlike
the other map features there are two ways to specify the placement of the map insert.
The first is the standard way of specifying the reference and anchor points and the insert dimensions,
while the second specifies a <em>subregion</em> in the current plot that should be designated the
map insert area.  Depending on the map projection this may or may not be a rectangular area.
Map inserts are produced by the module <a class="reference internal" href="psbasemap.html"><span class="doc">psbasemap</span></a> via the <strong>-D</strong> option. Unless you
use the reference point approach you must first append <em>xmin</em>/<em>xmax</em>/<em>ymin</em>/<em>ymax</em>[<strong>+r</strong>][<strong>+u</strong><em>unit</em>],
where the optional <em>unit</em> modifier <strong>+u</strong> indicates that the four coordinates to follow are projected
distances (e.g., km, miles).  If the unit modifier is missing then we assume the coordinates are
map coordinates (e.g., geographic <em>west</em>, <em>east</em>, <em>south</em>, and <em>north</em>).  For oblique
projections you may wish to specify the domain using the lower-left and upper-right coordinates
instead (similar to how the <strong>-R</strong> option works), by adding <strong>+r</strong>.  Some optional modifiers are available:</p>
<ol class="arabic simple">
<li>Set insert size.  If you specified a reference point then you must also specify the insert dimensions with the
<strong>+w</strong><em>width</em>[<em>unit</em>][/<em>height</em>[<em>unit</em>]], where <em>height</em> defaults to <em>width</em> if not given.
Append the unit of the dimensions, which may be distance units such as km, feet, etc., and
the map projection will be used to determine insert dimensions on the map.  For instance,
<strong>+w</strong>300k/200k is a 300x200 km region (which depends on the projection) while <strong>+w</strong>5c
is a 5cm square box.</li>
<li>Save the location and dimensions.  For all but the simplest of map inserts you will need to
know the exact location of the resulting insert and its dimensions.  For instance, if you
specified the insert using the TR anchor point and a width and height of 100 km you will need to
know what this means in terms of positions on the map in plot units.  In terms of the modifiers
this would be <strong>j</strong>TR<strong>+w</strong>100k.  Running <a class="reference internal" href="psbasemap.html"><span class="doc">psbasemap</span></a>
in verbose mode will provide this information and you can use it accordingly.  However, for
users who wish to script this automatically you can use <strong>+s</strong><em>file</em> to save this information
in a file that your script can ingest and act upon.  The file contains a single record with the
four tab-separated values <em>x0 y0 width height</em> in the current plot units [cm], where <em>x0 y0</em> refers
to the lower-left point on the insert.  See the figure caption for an example.</li>
</ol>
<div class="figure align-center" id="id147">
<a class="reference internal image-reference" href="_images/GMT_insert.png"><img alt="_images/GMT_insert.png" src="_images/GMT_insert.png" style="width: 500px;" /></a>
<p class="caption"><span class="caption-text">Demonstration of how a map insert may be used to place a global overview map as an insert in a
regional map.  Main map shows the regional area of Australia.  We place an insert in the upper
right area with <strong>-Dj</strong>TR<strong>+w</strong>1.5i<strong>+o</strong>0.15i<strong>+s</strong>tmp and then read in the coordinates
of the lower-right corner of the insert and its dimension with UNIX (“read x0 y0 w h &lt; tmp”).
Knowing the placement (we know the size of the circular global map) we can correctly position it
in the insert with <strong>-X$x0</strong> and <strong>-Y$y0</strong>.
See Example <a class="reference internal" href="gallery/ex44.html#example-44"><span class="std std-ref">(44) Map inserts</span></a> for more details.</span></p>
</div>
</div>
</div>
<div class="section" id="grid-file-format-specifications">
<span id="grid-file-format"></span><h2>12.24. Grid file format specifications<a class="headerlink" href="#grid-file-format-specifications" title="Permalink to this headline">¶</a></h2>
<p>GMT has the ability to read and write grids using more than one grid file format
(see Table <a class="reference internal" href="#tbl-grdformats"><span class="std std-ref">grdformats</span></a> for supported format and their IDs).
For reading, GMT will automatically determine the format of grid files, while for
writing you will normally have to append <em>=ID</em> to the filename if you want GMT to
use a different format than the default. The automatic reading procedure follows an heuristic
where certain formats are tentatively decoded with GMT internal drivers and if they fail than
we resort to use the GDAL library to do the readings. This normally works pretty well but in case
of failure (e.g. a GMT driver failed to read binary file with a separate header that also could
have been stored in an ASCII file with embed header) the user should explicitly try to force a
reading via GDAL. That is, to append a <em>=gd</em> suffix to file name.</p>
<p>By default, GMT will create new grid files using the <strong>nf</strong> format;
however, this behavior can be overridden by setting the
<a class="reference internal" href="gmt.conf.html#io-gridfile-format"><span class="std std-ref">IO_GRIDFILE_FORMAT</span></a> defaults parameter to any of the other
recognized values (or by appending <em>=ID</em>).</p>
<p>GMT can also read netCDF grid files produced by other software
packages, provided the grid files satisfy the COARDS and Hadley Centre
conventions for netCDF grids. Thus, products created under those
conventions (provided the grid is 2-, 3-, 4-, or 5-dimensional) can be
read directly by GMT and the netCDF grids written by GMT can be read
by other programs that conform to those conventions. Three such programs are
<a class="reference external" href="http://meteora.ucsd.edu/~pierce/ncview_home_page.html">ncview</a>, <a class="reference external" href="http://www.giss.nasa.gov/tools/panoply/">Panoply</a>, and <a class="reference external" href="http://www.epic.noaa.gov/java/ncBrowse/">ncBrowse</a> ; others can be found on the
<a class="reference external" href="http://www.unidata.ucar.edu/software/netcdf/software.html">netCDF website</a>.
Note that although many additional programs can read netCDF files, some are unable
to read netcdf 4 files (if data compression has been applied).</p>
<p>In addition, users with some C-programming experience may add their own
read/write functions and link them with the GMT library to extend the
number of predefined formats. Technical information on this topic can be
found in the source file <code class="docutils literal notranslate"><span class="pre">gmt_customio.c</span></code>. Users who are considering this approach
should contact the GMT team.</p>
<table border="1" class="docutils" id="tbl-grdformats">
<colgroup>
<col width="14%" />
<col width="86%" />
</colgroup>
<thead valign="bottom">
<tr class="row-odd"><th class="head"><strong>ID</strong></th>
<th class="head"><strong>Explanation</strong></th>
</tr>
</thead>
<tbody valign="top">
<tr class="row-even"><td>&#160;</td>
<td><em>GMT 4 netCDF standard formats</em></td>
</tr>
<tr class="row-odd"><td>nb</td>
<td>GMT netCDF format (8-bit integer, COARDS, CF-1.5)</td>
</tr>
<tr class="row-even"><td>ns</td>
<td>GMT netCDF format (16-bit integer, COARDS, CF-1.5)</td>
</tr>
<tr class="row-odd"><td>ni</td>
<td>GMT netCDF format (32-bit integer, COARDS, CF-1.5)</td>
</tr>
<tr class="row-even"><td>nf</td>
<td>GMT netCDF format (32-bit float, COARDS, CF-1.5)</td>
</tr>
<tr class="row-odd"><td>nd</td>
<td>GMT netCDF format (64-bit float, COARDS, CF-1.5)</td>
</tr>
<tr class="row-even"><td>&#160;</td>
<td><em>GMT 3 netCDF legacy formats</em></td>
</tr>
<tr class="row-odd"><td>cb</td>
<td>GMT netCDF format (8-bit integer, depreciated)</td>
</tr>
<tr class="row-even"><td>cs</td>
<td>GMT netCDF format (16-bit integer, depreciated)</td>
</tr>
<tr class="row-odd"><td>ci</td>
<td>GMT netCDF format (32-bit integer, depreciated)</td>
</tr>
<tr class="row-even"><td>cf</td>
<td>GMT netCDF format (32-bit float, depreciated)</td>
</tr>
<tr class="row-odd"><td>cd</td>
<td>GMT netCDF format (64-bit float, depreciated)</td>
</tr>
<tr class="row-even"><td>&#160;</td>
<td><em>GMT native binary formats</em></td>
</tr>
<tr class="row-odd"><td>bm</td>
<td>GMT native, C-binary format (bit-mask)</td>
</tr>
<tr class="row-even"><td>bb</td>
<td>GMT native, C-binary format (8-bit integer)</td>
</tr>
<tr class="row-odd"><td>bs</td>
<td>GMT native, C-binary format (16-bit integer)</td>
</tr>
<tr class="row-even"><td>bi</td>
<td>GMT native, C-binary format (32-bit integer)</td>
</tr>
<tr class="row-odd"><td>bf</td>
<td>GMT native, C-binary format (32-bit float)</td>
</tr>
<tr class="row-even"><td>bd</td>
<td>GMT native, C-binary format (32-bit float)</td>
</tr>
<tr class="row-odd"><td>&#160;</td>
<td><em>Miscellaneous grid formats</em></td>
</tr>
<tr class="row-even"><td>rb</td>
<td>SUN raster file format (8-bit standard)</td>
</tr>
<tr class="row-odd"><td>rf</td>
<td>GEODAS grid format GRD98 (NGDC)</td>
</tr>
<tr class="row-even"><td>sf</td>
<td>Golden Software Surfer format 6 (32-bit float)</td>
</tr>
<tr class="row-odd"><td>sd</td>
<td>Golden Software Surfer format 7 (64-bit float)</td>
</tr>
<tr class="row-even"><td>af</td>
<td>Atlantic Geoscience Center AGC (32-bit float)</td>
</tr>
<tr class="row-odd"><td>ei</td>
<td>ESRI Arc/Info ASCII Grid Interchange format (ASCII integer)</td>
</tr>
<tr class="row-even"><td>ef</td>
<td>ESRI Arc/Info ASCII Grid Interchange format (ASCII float)</td>
</tr>
<tr class="row-odd"><td>gd</td>
<td>Import/export via GDAL <a class="footnote-reference" href="#id78" id="id31">[19]</a></td>
</tr>
</tbody>
</table>
<p>Because some formats have limitations on the range of values they can
store it is sometimes necessary to provide more than simply the name of
the file and its ID on the command line. For instance, a native short
integer file may use a unique value to signify an empty node or NaN, and
the data may need translation and scaling prior to use. Therefore, all
GMT programs that read or write grid files will decode the given
filename as follows:</p>
<p>name[=<em>ID</em>[<strong>+s</strong><em>scale</em>][<strong>+o</strong><em>offset</em>][<strong>+n</strong><em>invalid</em>]]</p>
<p>where anything in brackets is optional. If you are reading a grid then
no options are needed: just continue to pass the name of the grid file.
However, if you write another format you must append the =<em>ID</em> string,
where <em>ID</em> is the format code listed above. In addition, should you want
to (1) multiply the data by a scale factor, and (2) add a constant
offset you must append the <strong>+s</strong><em>scale</em> and <strong>+o</strong><em>offset</em> modifiers. Finally, if you
need to indicate that a certain data value should be interpreted as a
NaN (not-a-number) you must append <strong>+n</strong><em>invalid</em> modifier to file name.
You may the scale as <em>a</em> for auto-adjusting the scale and/or offset of
packed integer grids (=<em>ID</em><strong>+s</strong><em>a</em> is a shorthand for
=<em>ID</em><strong>+s</strong><em>a</em><strong>+o</strong><em>a</em>).</p>
<p>Some of the grid formats allow writing to standard output and reading
from standard input which means you can connect GMT programs that
operate on grid files with pipes, thereby speeding up execution and
eliminating the need for large, intermediate grid files. You specify
standard input/output by leaving out the filename entirely. That means
the “filename” will begin with “=<em>ID</em>”. Note, that the netCDF format
does not allow piping.</p>
<p>Everything looks clearer after a few examples:</p>
<ul class="simple">
<li>To write a native binary float grid file, specify the name as <code class="docutils literal notranslate"><span class="pre">my_file.f4=bf</span></code> .</li>
<li>To read a native short integer grid file, multiply the data by 10 and
then add 32000, but first let values that equal 32767 be set to NaN,
use the filename <code class="docutils literal notranslate"><span class="pre">my_file.i2=bs+s10+o32000+n32767</span></code>.</li>
<li>To read a Golden Software “surfer” format 6 grid file, just pass the
file name, e.g., <code class="docutils literal notranslate"><span class="pre">my_surferfile.grd</span></code>.</li>
<li>To read a 8-bit standard Sun raster file (with values in the 0--255
range) and convert it to a 1 range, give the name as <code class="docutils literal notranslate"><span class="pre">rasterfile=rb+s7.84313725e-3+o-1</span></code>
(i.e., 1/127.5).</li>
<li>To write a native binary short integer grid file to standard output
after subtracting 32000 and dividing its values by 10, give filename
as <code class="docutils literal notranslate"><span class="pre">=bs+s0.1+o-3200</span></code>.</li>
<li>To write an 8-bit integer netCDF grid file with an auto-adjusted
offset, give filename as <code class="docutils literal notranslate"><span class="pre">=nb+oa</span></code>.</li>
<li>To read a short integer <em>.bil</em> grid file stored in binary and and force
the reading via GDAL, add suffix <em>=gd</em> as in <code class="docutils literal notranslate"><span class="pre">n45_e008_1arc_v3.bil=gd</span></code></li>
</ul>
<p>Programs that both read and/or write more than one grid file may specify
different formats and/or scaling for the files involved. The only
restriction with the embedded grid specification mechanism is that no
grid files may actually use the “=” character as part of their name
(presumably, a small sacrifice).</p>
<p>One can also define special file suffixes to imply a specific file
format; this approach represents a more intuitive and user-friendly way
to specify the various file formats. The user may create a file called
<code class="docutils literal notranslate"><span class="pre">gmt.io</span></code> in the current directory or home directory, or in the directory
<code class="docutils literal notranslate"><span class="pre">~/.gmt</span></code> and define any number of custom formats. The following is an example of
a <code class="docutils literal notranslate"><span class="pre">gmt.io</span></code> file:</p>
<table border="1" class="docutils">
<colgroup>
<col width="10%" />
<col width="7%" />
<col width="7%" />
<col width="4%" />
<col width="10%" />
<col width="61%" />
</colgroup>
<tbody valign="top">
<tr class="row-odd"><td colspan="6"><p class="first"># GMT i/o shorthand file</p>
<p class="last"># It can have any number of comment lines like this one anywhere
# suffix format_id scale offset NaN Comments</p>
</td>
</tr>
<tr class="row-even"><td>grd</td>
<td>nf</td>
<td>-</td>
<td>-</td>
<td>-</td>
<td>Default format</td>
</tr>
<tr class="row-odd"><td>b</td>
<td>bf</td>
<td>-</td>
<td>-</td>
<td>-</td>
<td>Native binary floats</td>
</tr>
<tr class="row-even"><td>i2</td>
<td>bs</td>
<td>-</td>
<td>-</td>
<td>32767</td>
<td>2-byte integers with NaN value</td>
</tr>
<tr class="row-odd"><td>ras</td>
<td>rb</td>
<td>-</td>
<td>-</td>
<td>-</td>
<td>Sun raster files</td>
</tr>
<tr class="row-even"><td>byte</td>
<td>bb</td>
<td>-</td>
<td>-</td>
<td>255</td>
<td>Native binary 1-byte grids</td>
</tr>
<tr class="row-odd"><td>bit</td>
<td>bm</td>
<td>-</td>
<td>-</td>
<td>-</td>
<td>Native binary 0 or 1 grids</td>
</tr>
<tr class="row-even"><td>mask</td>
<td>bm</td>
<td>-</td>
<td>-</td>
<td>0</td>
<td>Native binary 1 or NaN masks</td>
</tr>
<tr class="row-odd"><td>faa</td>
<td>bs</td>
<td>0.1</td>
<td>-</td>
<td>32767</td>
<td>Native binary gravity in 0.1 mGal</td>
</tr>
<tr class="row-even"><td>ns</td>
<td>ns</td>
<td>a</td>
<td>a</td>
<td>-</td>
<td>16-bit integer netCDF grid with
auto-scale and auto-offset</td>
</tr>
</tbody>
</table>
<p>These suffices can be anything that makes sense to the user. To activate
this mechanism, set parameter <a class="reference internal" href="gmt.conf.html#io-gridfile-shorthand"><span class="std std-ref">IO_GRIDFILE_SHORTHAND</span></a> to TRUE in
your <a class="reference internal" href="gmt.conf.html"><span class="doc">gmt.conf</span></a> file. Then, using the filename <code class="docutils literal notranslate"><span class="pre">stuff.i2</span></code> is equivalent to saying <code class="docutils literal notranslate"><span class="pre">stuff.i2=bs+n32767</span></code>, and the
filename <code class="docutils literal notranslate"><span class="pre">wet.mask</span></code> means wet.mask=bm+n0. For a file intended for masking, i.e.,
the nodes are either 1 or NaN, the bit or mask format file may be as
small as 1/32 the size of the corresponding grid float format file.</p>
</div>
<div class="section" id="modifiers-for-changing-units-of-grid-coordinates">
<h2>12.25. Modifiers for changing units of grid coordinates<a class="headerlink" href="#modifiers-for-changing-units-of-grid-coordinates" title="Permalink to this headline">¶</a></h2>
<p>A few GMT tools require that the two horizontal dimensions be
specified in meters. One example is
<a class="reference internal" href="grdfft.html"><span class="doc">grdfft</span></a> which must compute the 2-D
Fourier transform of a grid and evaluate wave numbers in the proper units
(1/meter). There are two situations where the user may need to change
the coordinates of the grid passed to such programs:</p>
<ul class="simple">
<li>You have a geographic grid (i.e., in longitude and latitude). Simply
supply the <strong>-fg</strong> option and your grid coordinates will
automatically be converted to meters via a “Flat Earth” approximation
on the currently selected ellipsoid (Note: this is only possible in
those few programs that require this capability. In general, <strong>-fg</strong>
is used to specify table coordinates).</li>
<li>You have a Cartesian grid but the units are not meters (e.g., they
may perhaps be in km or miles). In this case you may append the file
modifier <strong>+u</strong><em>unit</em>, where <em>unit</em> is one of non-angular units listed
in Table <a class="reference internal" href="#tbl-distunits"><span class="std std-ref">distunits</span></a>. For example, reading in the grid (which has
distance units of km) and converting distances to meters is done by
specifying the filename as <em>filename</em><strong>+u</strong>k. On output, any derived grids will revert
to their original units <em>unless</em> you specify another unit modifier to
the output grid. This may be used, for instance, to save the original
grid with distances in meters using some other unit.</li>
</ul>
<p>For convenience, we also support the inverse translation, i.e.,
<strong>+U</strong><em>unit</em>. This modifier can be used to convert your grid
coordinates <em>from</em> meters <em>to</em> the specified unit. Example <a class="reference internal" href="gallery/ex28.html#example-28"><span class="std std-ref">(28) Mixing UTM and geographic data sets</span></a> shows a
case where this is being used to change an UTM grid in meters to km.
These modifiers are only allowed when map projections are not selected
(or are Cartesian).</p>
</div>
<div class="section" id="modifiers-for-coards-compliant-netcdf-files">
<span id="modifiers-for-cf"></span><h2>12.26. Modifiers for COARDS-compliant netCDF files<a class="headerlink" href="#modifiers-for-coards-compliant-netcdf-files" title="Permalink to this headline">¶</a></h2>
<p>When the netCDF grid file contains more than one 2-dimensional variable,
GMT programs will load the first such variable in the file and ignore
all others. Alternatively, the user can select the required variable by
adding the suffix “?<em>varname</em>” to the grid file name. For example, to
get information on the variable “slp” in file , use:</p>
<blockquote>
<div><div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>gmt grdinfo <span class="s2">&quot;file.nc?slp&quot;</span>
</pre></div>
</div>
</div></blockquote>
<p>Since COARDS-compliant netCDF files are the default, the additional
suffix “=nf” can be omitted.</p>
<p>In case the named grid is 3-dimensional, GMT will load the first
(bottom) layer. If another layer is required, either add “[<em>index</em>]”
or “(<em>level</em>)”, where <em>index</em> is the index of the third (depth) variable
(starting at 0 for the first layer) and <em>level</em> is the numerical value
of the third (depth) variable associated with the requested layer. To
indicate the second layer of the 3-D variable “slp” use as file name: <code class="docutils literal notranslate"><span class="pre">file.nc?slp[1]</span></code>.</p>
<p>When you supply the numerical value for the third variable using
“(<em>level</em>)”, GMT will pick the layer closest to that value. No
interpolation is performed.</p>
<p>Note that the question mark, brackets and parentheses have special
meanings on Unix-based platforms. Therefore, you will need to either
<em>escape</em> these characters, by placing a backslash in front of them, or
place the whole file name plus modifiers between single quotes or double
quotes.</p>
<p>A similar approach is followed for loading 4-dimensional grids. Consider
a 4-dimensional grid with the following variables:</p>
<blockquote>
<div><div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>lat<span class="o">(</span>lat<span class="o">)</span>: <span class="m">0</span>, <span class="m">1</span>, <span class="m">2</span>, <span class="m">3</span>, <span class="m">4</span>, <span class="m">5</span>, <span class="m">6</span>, <span class="m">7</span>, <span class="m">8</span>, <span class="m">9</span>
lon<span class="o">(</span>lon<span class="o">)</span>: <span class="m">0</span>, <span class="m">1</span>, <span class="m">2</span>, <span class="m">3</span>, <span class="m">4</span>, <span class="m">5</span>, <span class="m">6</span>, <span class="m">7</span>, <span class="m">8</span>, <span class="m">9</span>
depth<span class="o">(</span>depth<span class="o">)</span>: <span class="m">0</span>, <span class="m">10</span>, <span class="m">20</span>, <span class="m">30</span>, <span class="m">40</span>, <span class="m">50</span>, <span class="m">60</span>, <span class="m">70</span>, <span class="m">80</span>, <span class="m">90</span>
time<span class="o">(</span><span class="nb">time</span><span class="o">)</span>: <span class="m">0</span>, <span class="m">12</span>, <span class="m">24</span>, <span class="m">36</span>, <span class="m">48</span>
pressure<span class="o">(</span>time,depth,lat,lon<span class="o">)</span>: <span class="o">(</span><span class="m">5000</span> values<span class="o">)</span>
</pre></div>
</div>
</div></blockquote>
<p>To get information on the 10x10 grid of pressure at
depth 10 and at time 24, one would use:</p>
<blockquote>
<div><div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>gmt grdinfo <span class="s2">&quot;file.nc?pressure[2,1]&quot;</span>
</pre></div>
</div>
</div></blockquote>
<p>or (only in case the coordinates increase linearly):</p>
<blockquote>
<div><div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>gmt grdinfo <span class="s2">&quot;file.nc?pressure(24,10)&quot;</span>
</pre></div>
</div>
</div></blockquote>
<p>Programs that generally deal with columns of one-dimensional data, like
or can use multi-dimensional netCDF files in a very similar way. If a
variable in a netCDF file is one-dimensional, there is nothing more
needed than name the variables on the command line. For example:</p>
<blockquote>
<div><div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>gmt psxy <span class="s2">&quot;file.nc?lon/lat&quot;</span> ...
gmt convert <span class="s2">&quot;file.nc?time/lat/lon&quot;</span>
</pre></div>
</div>
</div></blockquote>
<p>If one or more of the selected variables are two-dimensional, and have
the same leading dimension as the other selected variables they will be
plotted in their entirety. For example, if a netCDF files contains 6
time steps recording temperature at 4 points, and the variable <code class="docutils literal notranslate"><span class="pre">temp</span></code> is a 6 by
4 array, then the command <code class="docutils literal notranslate"><span class="pre">gmt</span> <span class="pre">convert</span> <span class="pre">&quot;file.nc?time/temp&quot;</span></code> can result in:</p>
<blockquote>
<div><div class="highlight-bash notranslate"><div class="highlight"><pre><span></span><span class="m">2012</span>-06-25T00:00:00 <span class="m">20</span>.1 <span class="m">20</span>.2 <span class="m">20</span>.1 <span class="m">20</span>.3
<span class="m">2012</span>-06-25T12:00:00 <span class="m">24</span>.2 <span class="m">23</span>.2 <span class="m">24</span>.5 <span class="m">23</span>.5
<span class="m">2012</span>-06-26T00:00:00 <span class="m">16</span>.1 <span class="m">16</span>.2 <span class="m">16</span>.1 <span class="m">16</span>.3
<span class="m">2012</span>-06-26T12:00:00 <span class="m">22</span>.1 <span class="m">23</span>.0 <span class="m">23</span>.9 <span class="m">23</span>.5
<span class="m">2012</span>-06-27T00:00:00 <span class="m">17</span>.5 <span class="m">16</span>.9 <span class="m">17</span>.2 <span class="m">16</span>.8
<span class="m">2012</span>-06-27T12:00:00 <span class="m">27</span>.2 <span class="m">27</span>.2 <span class="m">27</span>.5 <span class="m">27</span>.5
</pre></div>
</div>
</div></blockquote>
<p>If, for example, only the second temperature column is needed, use
<code class="docutils literal notranslate"><span class="pre">gmt</span> <span class="pre">convert</span> <span class="pre">&quot;file.nc?time/temp[1]&quot;</span></code> (indices start counting at 0).</p>
<p>The COARDS conventions set restrictions on the names that can be used
for the units of the variables and coordinates. For example, the units
of longitude and latitude are “degrees_east” and “degrees_north”,
respectively. Here is an example of the header of a COARDS compliant
netCDF file (to be obtained using <strong>ncdump</strong>):</p>
<blockquote>
<div><div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>netcdf M2_fes2004 <span class="o">{</span>
dimensions:
        <span class="nv">lon</span> <span class="o">=</span> <span class="m">2881</span> <span class="p">;</span>
        <span class="nv">lat</span> <span class="o">=</span> <span class="m">1441</span> <span class="p">;</span>
variables:
        float lon<span class="o">(</span>lon<span class="o">)</span> <span class="p">;</span>
                lon:long_name <span class="o">=</span> <span class="s2">&quot;longitude&quot;</span> <span class="p">;</span>
                lon:units <span class="o">=</span> <span class="s2">&quot;degrees_east&quot;</span> <span class="p">;</span>
                lon:actual_range <span class="o">=</span> <span class="m">0</span>., <span class="m">360</span>. <span class="p">;</span>
        float lat<span class="o">(</span>lat<span class="o">)</span> <span class="p">;</span>
                lat:long_name <span class="o">=</span> <span class="s2">&quot;latitude&quot;</span> <span class="p">;</span>
                lat:units <span class="o">=</span> <span class="s2">&quot;degrees_north&quot;</span> <span class="p">;</span>
                lat:actual_range <span class="o">=</span> -90., <span class="m">90</span>. <span class="p">;</span>
        short amp<span class="o">(</span>lat, lon<span class="o">)</span> <span class="p">;</span>
                amp:long_name <span class="o">=</span> <span class="s2">&quot;amplitude&quot;</span> <span class="p">;</span>
                amp:unit <span class="o">=</span> <span class="s2">&quot;m&quot;</span> <span class="p">;</span>
                amp:scale_factor <span class="o">=</span> <span class="m">0</span>.0001 <span class="p">;</span>
                amp:add_offset <span class="o">=</span> <span class="m">3</span>. <span class="p">;</span>
                amp:_FillValue <span class="o">=</span> -32768s <span class="p">;</span>
        short pha<span class="o">(</span>lat, lon<span class="o">)</span> <span class="p">;</span>
                pha:long_name <span class="o">=</span> <span class="s2">&quot;phase&quot;</span> <span class="p">;</span>
                pha:unit <span class="o">=</span> <span class="s2">&quot;degrees&quot;</span> <span class="p">;</span>
                pha:scale_factor <span class="o">=</span> <span class="m">0</span>.01 <span class="p">;</span>
                pha:_FillValue <span class="o">=</span> -32768s <span class="p">;</span>
</pre></div>
</div>
</div></blockquote>
<p>This file contains two grids, which can be plotted separately using the
names <code class="docutils literal notranslate"><span class="pre">M2_fes2004.nc?amp</span></code> and <code class="docutils literal notranslate"><span class="pre">M2_fes2004.nc?pha</span></code>. The attributes <code class="docutils literal notranslate"><span class="pre">long_name</span></code> and <code class="docutils literal notranslate"><span class="pre">unit</span></code> for each variable
are combined in GMT to a single unit string. For example, after
reading the grid <code class="docutils literal notranslate"><span class="pre">y_unit</span></code> equals <code class="docutils literal notranslate"><span class="pre">latitude</span> <span class="pre">[degrees_north]</span></code>. The
same method can be used in reverse to set the proper variable names and
units when writing a grid. However, when the coordinates are set
properly as geographical or time axes, GMT will take care of this. The
user is, however, still responsible for setting the variable name and
unit of the z-coordinate. The default is simply “z”.</p>
</div>
<div class="section" id="modifiers-to-read-and-write-grids-and-images-via-gdal">
<h2>12.27. Modifiers to read and write grids and images via GDAL<a class="headerlink" href="#modifiers-to-read-and-write-grids-and-images-via-gdal" title="Permalink to this headline">¶</a></h2>
<p>If the support has been configured during installation, then GMT can
read and write a variety of grid and image formats via GDAL. This
extends the capability of GMT to handle data sets from a variety of
sources.</p>
<div class="section" id="reading-multi-band-images">
<h3>12.27.1. Reading multi-band images<a class="headerlink" href="#reading-multi-band-images" title="Permalink to this headline">¶</a></h3>
<p><a class="reference internal" href="grdimage.html"><span class="doc">grdimage</span></a> and <a class="reference internal" href="psimage.html"><span class="doc">psimage</span></a> both lets the user select
individual bands in a multi-band image file and treats the result as an
image (that is the values, in the 0--255 range, are treated as colors,
not data). To select individual bands you use the <strong>+b</strong><em>band-number</em>
mechanism that must be appended to the image filename. Here,
<em>band-number</em> can be the number of one individual band (the counting
starts at zero), or it could be a comma-separated list of bands. For example</p>
<blockquote>
<div><div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>gmt psimage jpeg_image_with_three_bands.jpg+b0
</pre></div>
</div>
</div></blockquote>
<p>will plot only the first band (i.e., the red band) of the jpeg image as
a gray-scale image, and</p>
<blockquote>
<div><div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>gmt psimage jpeg_image_with_three_bands.jpg+b2,1,0
</pre></div>
</div>
</div></blockquote>
<p>will plot the same image in color but where the RGB band order has been reversed.</p>
<p>Instead of treating them as images, all other GMT programs that
process grids can read individual bands from an image but will consider
the values to be regular data. For example, let <code class="docutils literal notranslate"><span class="pre">multiband</span></code> be the name of a
multi-band file with a near infrared component in band 4 and red in band
3. We will compute the NDVI (Normalized Difference Vegetation Index),
which is defined as NDVI = (NIR - R) / (NIR + R), as</p>
<blockquote>
<div><div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>gmt grdmath <span class="nv">multiband</span><span class="o">=</span>gd+b3 <span class="nv">multiband</span><span class="o">=</span>gd+b2 SUB <span class="nv">multiband</span><span class="o">=</span>gd+b3 <span class="se">\</span>
            <span class="nv">multiband</span><span class="o">=</span>gd+b2 ADD <span class="nv">DIV</span> <span class="o">=</span> ndvi.nc
</pre></div>
</div>
</div></blockquote>
<p>The resulting grid <code class="docutils literal notranslate"><span class="pre">ndvi.nc</span></code> can then be plotted as usual.</p>
</div>
<div class="section" id="reading-more-complex-multi-band-images-or-grids">
<h3>12.27.2. Reading more complex multi-band IMAGES or GRIDS<a class="headerlink" href="#reading-more-complex-multi-band-images-or-grids" title="Permalink to this headline">¶</a></h3>
<p>It is also possible to access to sub-datasets in a multi-band grid. The
next example shows how we can extract the SST from the MODIS file <code class="docutils literal notranslate"><span class="pre">A20030012003365.L3m_YR_NSST_9</span></code>
that is stored in the HDF “format”. We need to run the GDAL program
<strong>gdalinfo</strong> on the file because we first
must extract the necessary metadata from the file:</p>
<div class="highlight-none notranslate"><div class="highlight"><pre><span></span>gdalinfo A20030012003365.L3m_YR_NSST_9
Driver: HDF4/Hierarchical Data Format Release 4
Files: A20030012003365.L3m_YR_NSST_9
Size is 512, 512
Coordinate System is `&#39;
Metadata:
 Product Name=A20030012003365.L3m_YR_NSST_9
 Sensor Name=MODISA
 Sensor=
 Title=MODISA Level-3 Standard Mapped Image
...
 Scaling=linear
 Scaling Equation=(Slope*l3m_data) + Intercept = Parameter value
 Slope=0.000717185
 Intercept=-2
 Scaled Data Minimum=-2
 Scaled Data Maximum=45
 Data Minimum=-1.999999
 Data Maximum=34.76
Subdatasets:
 SUBDATASET_1_NAME=HDF4_SDS:UNKNOWN:&quot;A20030012003365.L3m_YR_NSST_9&quot;:0
 SUBDATASET_1_DESC=[2160x4320] l3m_data (16-bit unsigned integer)
 SUBDATASET_2_NAME=HDF4_SDS:UNKNOWN:&quot;A20030012003365.L3m_YR_NSST_9&quot;:1
 SUBDATASET_2_DESC=[2160x4320] l3m_qual (8-bit unsigned integer)
</pre></div>
</div>
<p>Now, to access this file with GMT we need to use the =gd mechanism and
append the name of the sub-dataset that we want to extract. Here, a
simple example using <a class="reference internal" href="grdinfo.html"><span class="doc">grdinfo</span></a> would be</p>
<blockquote>
<div><div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>gmt grdinfo A20030012003365.L3m_YR_NSST_9<span class="o">=</span>gd?HDF4_SDS:UNKNOWN:<span class="s2">&quot;A20030012003365.L3m_YR_NSST_9:0&quot;</span>

HDF4_SDS:UNKNOWN:A20030012003365.L3m_YR_NSST_9:0: Title: Grid imported via GDAL
HDF4_SDS:UNKNOWN:A20030012003365.L3m_YR_NSST_9:0: Command:
HDF4_SDS:UNKNOWN:A20030012003365.L3m_YR_NSST_9:0: Remark:
HDF4_SDS:UNKNOWN:A20030012003365.L3m_YR_NSST_9:0: Gridline node registration used
HDF4_SDS:UNKNOWN:A20030012003365.L3m_YR_NSST_9:0: Grid file format: <span class="nv">gd</span> <span class="o">=</span> Import through GDAL <span class="o">(</span>convert to float<span class="o">)</span>
HDF4_SDS:UNKNOWN:A20030012003365.L3m_YR_NSST_9:0: x_min: <span class="m">0</span>.5 x_max: <span class="m">4319</span>.5 x_inc: <span class="m">1</span> name: x nx: <span class="m">4320</span>
HDF4_SDS:UNKNOWN:A20030012003365.L3m_YR_NSST_9:0: y_min: <span class="m">0</span>.5 y_max: <span class="m">2159</span>.5 y_inc: <span class="m">1</span> name: y ny: <span class="m">2160</span>
HDF4_SDS:UNKNOWN:A20030012003365.L3m_YR_NSST_9:0: z_min: <span class="m">0</span> z_max: <span class="m">65535</span> name: z
HDF4_SDS:UNKNOWN:A20030012003365.L3m_YR_NSST_9:0: scale_factor: <span class="m">1</span> add_offset: <span class="m">0</span>
</pre></div>
</div>
</div></blockquote>
<p>Be warned, however, that things are not yet completed because while the
data are scaled according to the equation printed above (“Scaling
Equation=(Slope*l3m_data) + Intercept = Parameter value”), this
scaling is not applied by GDAL on reading so it cannot be done
automatically by GMT. One solution is to do the reading and scaling
via <a class="reference internal" href="grdmath.html"><span class="doc">grdmath</span></a> first, i.e.,</p>
<blockquote>
<div><div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>gmt grdmath A20030012003365.L3m_YR_NSST_9<span class="o">=</span>gd?HDF4_SDS:UNKNOWN:<span class="s2">&quot;A20030012003365.L3m_YR_NSST_9:0&quot;</span> <span class="se">\</span>
            <span class="m">0</span>.000717185 MUL -2 <span class="nv">ADD</span> <span class="o">=</span> sst.nc
</pre></div>
</div>
</div></blockquote>
<p>then plot the <code class="docutils literal notranslate"><span class="pre">sst.nc</span></code> directly.</p>
</div>
<div class="section" id="writing-grids-and-images">
<h3>12.27.3. Writing grids and images<a class="headerlink" href="#writing-grids-and-images" title="Permalink to this headline">¶</a></h3>
<p>Saving images in the common raster formats is possible but, for the time
being, only from <a class="reference internal" href="grdimage.html"><span class="doc">grdimage</span></a> and even
that is restricted to raster type information. That is, vector data (for
instance, coast lines) or text will not be saved. To save an image with
<a class="reference internal" href="grdimage.html"><span class="doc">grdimage</span></a> use the
<strong>-A</strong><em>outimg=driver</em> mechanism, where <em>driver</em> is the driver code
name used by GDAL (e.g. GTiff).</p>
<p>For all other programs that create grids, it is also possible to save
them using GDAL. To do it one need to use the =gd appended with the
necessary information regarding the driver and the data type to use.
Generically, =<strong>gd</strong>[<strong>+s</strong><em>scale</em>][<strong>+o</strong><em>offset</em>][<strong>+n</strong><em>nan</em>][:&lt;<em>driver</em>&gt;[/<em>dataType</em>]]
where <em>driver</em> is the same as explained above and <em>dataType</em> is a 2 or 3
chars code from: u8|u16|i16|u32|i32|float32, and where i|u denotes
signed|unsigned. If not provided the default type is float32. Both
driver names and data types are case insensitive. Note: you will have to
specify a <em>nan</em> value for integer data types unless you wish that all NaN data values
should be replaced by zero.</p>
</div>
</div>
<div class="section" id="the-nan-data-value">
<h2>12.28. The NaN data value<a class="headerlink" href="#the-nan-data-value" title="Permalink to this headline">¶</a></h2>
<p>For a variety of data processing and plotting tasks there is a need to
acknowledge that a data point is missing or unassigned. In the “old
days”, such information was passed by letting a value like -9999.99 take
on the special meaning of “this is not really a value, it is missing”.
The problem with this scheme is that -9999.99 (or any other floating
point value) may be a perfectly reasonable data value and in such a
scenario would be skipped. The solution adopted in GMT is to use the
IEEE concept Not-a-Number (NaN) for this purpose. Mathematically, a NaN
is what you get if you do an undefined mathematical operation like
0/0; in ASCII data files they appear as the textstring NaN. This
value is internally stored with a particular bit pattern defined by IEEE
so that special action can be taken when it is encountered by programs.
In particular, a standard library function called <code class="docutils literal notranslate"><span class="pre">isnan</span></code> is used to
test if a floating point is a NaN. GMT uses these tests extensively to
determine if a value is suitable for plotting or processing (if a NaN is
used in a calculation the result would become NaN as well). Data points
whose values equal NaN are not normally plotted (or plotted with the
special NaN color given in <a class="reference internal" href="gmt.conf.html"><span class="doc">gmt.conf</span></a>). Several tools such as
<a class="reference internal" href="xyz2grd.html"><span class="doc">xyz2grd</span></a>, <a class="reference internal" href="gmtmath.html"><span class="doc">gmtmath</span></a>, and
<a class="reference internal" href="grdmath.html"><span class="doc">grdmath</span></a> can convert user data to NaN
and vice versa, thus facilitating arbitrary masking and clipping of data
sets. Note that a few computers do not have native IEEE hardware
support. At this point, this applies to some of the older Cray
super-computers. Users on such machines may have to adopt the old
‘-9999.99’ scheme to achieve the desired results.</p>
<p>Data records that contain NaN values for the <em>x</em> or <em>y</em> columns (or the
<em>z</em> column for cases when 3-D Cartesian data are expected) are usually
skipped during reading. However, the presence of these bad records can
be interpreted in two different ways, and this behavior is controlled by
the <a class="reference internal" href="gmt.conf.html#io-nan-records"><span class="std std-ref">IO_NAN_RECORDS</span></a> defaults parameter. The default setting (<em>gap</em>)
considers such records to indicate a gap in an otherwise continuous
series of points (e.g., a line), and programs can act upon this
information, e.g., not to draw a line across the gap or to break the
line into separate segments. The alternative setting (<em>bad</em>) makes no
such interpretation and simply reports back how many bad records were
skipped during reading; see Section <a class="reference internal" href="#data-gap-detection-the-g-option">Data gap detection: The -g option</a> for details.</p>
</div>
<div class="section" id="directory-parameters">
<span id="id32"></span><h2>12.29. Directory parameters<a class="headerlink" href="#directory-parameters" title="Permalink to this headline">¶</a></h2>
<p>GMT versions prior to GMT 5 relied solely on several environment variables
($GMT_SHAREDIR, $GMT_DATADIR, $GMT_USERDIR, and $GMT_TMPDIR), pointing
to folders with data files and program settings. Beginning with version
5, some of these locations are now (also or exclusively) configurable
with the <a class="reference internal" href="gmtset.html"><span class="doc">gmtset</span></a> utility.
When an environment variable has an equivalent parameter in the <a class="reference internal" href="gmt.conf.html"><span class="doc">gmt.conf</span></a> file,
then the parameter setting will take precedence over the environment variable.</p>
<dl class="docutils">
<dt>Variable $GMT_SHAREDIR</dt>
<dd>was sometimes required in previous GMT versions to locate the GMT
share directory where all run-time support files such as coastlines,
custom symbols, <em>PostScript</em> macros, color tables, and much more reside.
If this parameter is not set (default), GMT will make a reasonable
guess of the location of its share folder. Setting this variable is
usually not required and recommended only under special circumstances.</dd>
<dt>Variable $GMT_DATADIR and parameter DIR_DATA</dt>
<dd>may point to one or more directories where large and/or widely used
data files can be placed. All GMT programs look in these directories
when a file is specified on the command line and it is not present in
the current directory. This allows maintainers to consolidate large
data files and to simplify scripting that use these files since the
absolute path need not be specified. Separate multiple directories
with colons (:) -- under Windows use semi-colons (;). Any directory
name that ends in a trailing slash (/) will be searched recursively
(not under Windows).</dd>
<dt>Variable $GMT_USERDIR</dt>
<dd>may point to a directory where the user places custom configuration
files (e.g., an alternate <code class="docutils literal notranslate"><span class="pre">coastline.conf</span></code> file, preferred default
settings in <code class="docutils literal notranslate"><span class="pre">gmt.conf</span></code>, custom symbols and color palettes, math
macros for <a class="reference internal" href="gmtmath.html"><span class="doc">gmtmath</span></a> and <a class="reference internal" href="grdmath.html"><span class="doc">grdmath</span></a>, and shorthands for
gridfile extensions via <code class="docutils literal notranslate"><span class="pre">gmt_io</span></code>). When $GMT_USERDIR is not defined,
then the default value $HOME/.gmt will be assumed. Users may also place their own
data files in this directory as GMT programs will search for files
given on the command line in both DIR_DATA and $GMT_USERDIR.</dd>
<dt>Variable $GMT_TMPDIR</dt>
<dd>may indicate the location, where GMT will write its state parameters
via the two files <code class="docutils literal notranslate"><span class="pre">gmt.history</span></code> and <code class="docutils literal notranslate"><span class="pre">gmt.conf</span></code>. If $GMT_TMPDIR is not
set, these files are written to the current directory. See Section
<a class="reference internal" href="#isolation-mode">Isolation mode</a> for more information.</dd>
<dt>Parameter DIR_DCW</dt>
<dd>specifies where to look for the optional Digital Charts of the World
database (for country coloring or selections).</dd>
<dt>Parameter DIR_GSHHG</dt>
<dd>specifies where to look for the required
Global Self-consistent Hierarchical High-resolution Geography database.</dd>
</dl>
<p>Note that files whose full path is given will never be searched for in
any of these directories.</p>
</div>
</div>
<div class="section" id="gmt-coordinate-transformations">
<h1>13. GMT Coordinate Transformations<a class="headerlink" href="#gmt-coordinate-transformations" title="Permalink to this headline">¶</a></h1>
<p>GMT programs read real-world coordinates and convert them to positions
on a plot. This is achieved by selecting one of several coordinate
transformations or projections. We distinguish between three sets of
such conversions:</p>
<ul class="simple">
<li>Cartesian coordinate transformations</li>
<li>Polar coordinate transformations</li>
<li>Map coordinate transformations</li>
</ul>
<p>The next Chapter will be dedicated to GMT map projections in its
entirety. Meanwhile, the present Chapter will summarize the properties
of the Cartesian and Polar coordinate transformations available in
GMT, list which parameters define them, and demonstrate how they are
used to create simple plot axes. We will mostly be using
<a class="reference internal" href="psbasemap.html"><span class="doc">psbasemap</span></a> (and occasionally
<a class="reference internal" href="psxy.html"><span class="doc">psxy</span></a>) to demonstrate the various
transformations. Our illustrations may differ from those you reproduce
with the same commands because of different settings in our <code class="docutils literal notranslate"><span class="pre">gmt.conf</span></code> file.)
Finally, note that while we will specify dimensions in inches (by
appending <strong>i</strong>), you may want to use cm (<strong>c</strong>), or points (<strong>p</strong>) as
unit instead (see the <a class="reference internal" href="gmt.conf.html"><span class="doc">gmt.conf</span></a> man page).</p>
<div class="section" id="cartesian-transformations">
<h2>13.1. Cartesian transformations<a class="headerlink" href="#cartesian-transformations" title="Permalink to this headline">¶</a></h2>
<p>GMT Cartesian coordinate transformations come in three flavors:</p>
<ul class="simple">
<li>Linear coordinate transformation</li>
<li>Log<span class="math notranslate nohighlight">\(_{10}\)</span> coordinate transformation</li>
<li>Power (exponential) coordinate transformation</li>
</ul>
<p>These transformations convert input coordinates <em>(x,y)</em> to
locations <em>(x’, y’)</em> on a plot. There is no coupling between
<em>x</em> and <em>y</em> (i.e., <em>x’ = f(x)</em> and <em>y’ = f(y)</em>);
it is a <strong>one-dimensional</strong> projection. Hence, we may use separate
transformations for the <em>x</em>- and <em>y</em>-axes (and
<em>z</em>-axes for 3-D plots). Below, we will use the expression
<em>u’ = f(u)</em>, where <em>u</em> is either <em>x</em> or <em>y</em> (or
<em>z</em> for 3-D plots). The coefficients in <em>f(u)</em> depend on the
desired plot size (or scale), the chosen <em>(x,y)</em> domain, and the
nature of <em>f</em> itself.</p>
<p>Two subsets of linear will be discussed separately; these are a polar
(cylindrical) projection and a linear projection applied to geographic
coordinates (with a 360º periodicity in the <em>x</em>-coordinate). We
will show examples of all of these projections using dummy data sets
created with <a class="reference internal" href="gmtmath.html"><span class="doc">gmtmath</span></a>, a “Reverse
Polish Notation” (RPN) calculator that operates on or creates table data:</p>
<blockquote>
<div><div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>gmt math -T0/100/1  T <span class="nv">SQRT</span> <span class="o">=</span> sqrt.d
gmt math -T0/100/10 T <span class="nv">SQRT</span> <span class="o">=</span> sqrt.d10
</pre></div>
</div>
</div></blockquote>
<div class="section" id="cartesian-linear-transformation-jx-jx">
<h3>13.1.1. Cartesian linear transformation (<strong>-Jx</strong> <strong>-JX</strong>)<a class="headerlink" href="#cartesian-linear-transformation-jx-jx" title="Permalink to this headline">¶</a></h3>
<p>There are in fact three different uses of the Cartesian linear
transformation, each associated with specific command line options. The
different manifestations result from specific properties of three kinds
of data:</p>
<ol class="arabic">
<li><p class="first">Regular floating point coordinates</p>
</li>
<li><p class="first">Geographic coordinates</p>
</li>
<li><p class="first">Calendar time coordinates</p>
<p>Examples of Cartesian (left), circular (middle), and geo-vectors (right) for different
attribute specifications. Note that both full and half arrow-heads can be specified, as well as no head at all.</p>
</li>
</ol>
<div class="section" id="regular-floating-point-coordinates">
<h4>13.1.1.1. Regular floating point coordinates<a class="headerlink" href="#regular-floating-point-coordinates" title="Permalink to this headline">¶</a></h4>
<p>Selection of the Cartesian linear transformation with regular floating
point coordinates will result in a simple linear scaling
<em>u’ = au + b</em> of the input coordinates. The projection is defined
by stating scale in inches/unit (<strong>-Jx</strong>) or axis length in inches (<strong>-JX</strong>).
If the <em>y</em>-scale or <em>y</em>-axis length is different from that of the
<em>x</em>-axis (which is most often the case), separate the two scales (or
lengths) by a slash, e.g., <strong>-Jx</strong>0.1i/0.5i or <strong>-JX</strong>8i/5i. Thus,
our <span class="math notranslate nohighlight">\(y = \sqrt{x}\)</span> data sets will plot as shown in
Figure <a class="reference internal" href="#gmt-linear"><span class="std std-ref">Linear transformation of Cartesian coordinates</span></a>.</p>
<div class="figure align-center" id="id148">
<span id="gmt-linear"></span><a class="reference internal image-reference" href="_images/GMT_linear.png"><img alt="_images/GMT_linear.png" src="_images/GMT_linear.png" style="width: 400px;" /></a>
<p class="caption"><span class="caption-text">Linear transformation of Cartesian coordinates.</span></p>
</div>
<p>The complete commands given to produce this plot were</p>
<blockquote>
<div><div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>gmt psxy -R0/100/0/10 -JX3i/1.5i -Bag -BWSne+gsnow -Wthick,blue,- -P -K sqrt.d &gt; GMT_linear.ps
gmt psxy -R -J -St0.1i -N -Gred -Wfaint -O sqrt.d10 &gt;&gt; GMT_linear.ps
</pre></div>
</div>
</div></blockquote>
<p>Normally, the user’s <em>x</em>-values will increase to the right and the
<em>y</em>-values will increase upwards. It should be noted that in many
situations it is desirable to have the direction of positive coordinates
be reversed. For example, when plotting depth on the <em>y</em>-axis it makes
more sense to have the positive direction downwards. All that is
required to reverse the sense of positive direction is to supply a
negative scale (or axis length). Finally, sometimes it is convenient to
specify the width (or height) of a map and let the other dimension be
computed based on the implied scale and the range of the other axis. To
do this, simply specify the length to be recomputed as 0.</p>
</div>
<div class="section" id="geographic-coordinates">
<h4>13.1.1.2. Geographic coordinates<a class="headerlink" href="#geographic-coordinates" title="Permalink to this headline">¶</a></h4>
<div class="figure align-center" id="id149">
<span id="gmt-linear-d"></span><a class="reference internal image-reference" href="_images/GMT_linear_d.png"><img alt="_images/GMT_linear_d.png" src="_images/GMT_linear_d.png" style="width: 500px;" /></a>
<p class="caption"><span class="caption-text">Linear transformation of map coordinates.</span></p>
</div>
<p>While the Cartesian linear projection is primarily designed for regular
floating point <em>x</em>,<em>y</em> data, it is sometimes necessary to plot
geographical data in a linear projection. This poses a problem since
longitudes have a 360º periodicity. GMT therefore needs to be informed
that it has been given geographical coordinates even though a linear
transformation has been chosen. We do so by adding a <strong>g</strong> (for
geographical) or <strong>d</strong> (for degrees) directly after <strong>-R</strong> or by
appending a <strong>g</strong> or <strong>d</strong> to the end of the <strong>-Jx</strong> (or <strong>-JX</strong>)
option. As an example, we want to plot a crude world map centered on
125ºE. Our command will be</p>
<blockquote>
<div><div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>gmt <span class="nb">set</span> MAP_GRID_CROSS_SIZE_PRIMARY <span class="m">0</span>.1i MAP_FRAME_TYPE FANCY FORMAT_GEO_MAP ddd:mm:ssF
gmt pscoast -Rg-55/305/-90/90 -Jx0.014i -Bagf -BWSen -Dc -A1000 -Glightbrown -Wthinnest <span class="se">\</span>
        -P -Slightblue &gt; GMT_linear_d.ps
</pre></div>
</div>
</div></blockquote>
<p>with the result reproduced in
Figure <a class="reference internal" href="#gmt-linear-d"><span class="std std-ref">Linear transformation of map coordinates</span></a>.</p>
</div>
<div class="section" id="calendar-time-coordinates">
<h4>13.1.1.3. Calendar time coordinates<a class="headerlink" href="#calendar-time-coordinates" title="Permalink to this headline">¶</a></h4>
<div class="figure align-center" id="id150">
<span id="gmt-linear-cal"></span><a class="reference internal image-reference" href="_images/GMT_linear_cal.png"><img alt="_images/GMT_linear_cal.png" src="_images/GMT_linear_cal.png" style="width: 400px;" /></a>
<p class="caption"><span class="caption-text">Linear transformation of calendar coordinates.</span></p>
</div>
<p>Several particular issues arise when we seek to make linear plots using
calendar date/time as the input coordinates. As far as setting up the
coordinate transformation we must indicate whether our input data have
absolute time coordinates or relative time coordinates. For the former
we append <strong>T</strong> after the axis scale (or width), while for the latter we
append <strong>t</strong> at the end of the <strong>-Jx</strong> (or <strong>-JX</strong>) option. However,
other command line arguments (like the <strong>-R</strong> option) may already
specify whether the time coordinate is absolute or relative. An absolute
time entry must be given as [<em>date</em>]<strong>T</strong>[<em>clock</em>] (with <em>date</em>
given as <em>yyyy</em>[-<em>mm</em>[-<em>dd</em>]], <em>yyyy</em>[-<em>jjj</em>], or
<em>yyyy</em>[-<strong>W</strong><em>ww</em>[-<em>d</em>]], and <em>clock</em> using the
<em>hh</em>[:<em>mm</em>[:<em>ss</em>[<em>.xxx</em>]]] 24-hour clock format) whereas the
relative time is simply given as the units of time since the epoch
followed by <strong>t</strong> (see <a class="reference internal" href="gmt.conf.html#time-unit"><span class="std std-ref">TIME_UNIT</span></a> and <a class="reference internal" href="gmt.conf.html#time-epoch"><span class="std std-ref">TIME_EPOCH</span></a> for
information on specifying the time unit and the epoch). As a simple
example, we will make a plot of a school week calendar
(Figure <a class="reference internal" href="#gmt-linear-cal"><span class="std std-ref">Linear transformation of calendar coordinates</span></a>).</p>
<p>When the coordinate ranges provided by the <strong>-R</strong> option and the
projection type given by <strong>-JX</strong> (including the optional <strong>d</strong>, <strong>g</strong>,
<strong>t</strong> or <strong>T</strong>) conflict, GMT will warn the users about it. In
general, the options provided with <strong>-JX</strong> will prevail.</p>
<blockquote>
<div><div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>gmt <span class="nb">set</span> FORMAT_DATE_MAP o TIME_WEEK_START Sunday <span class="nv">FORMAT_CLOCK_MAP</span><span class="o">=</span>-hham <span class="se">\</span>
        FORMAT_TIME_PRIMARY_MAP full
gmt psbasemap -R2001-9-24T/2001-9-29T/T07:0/T15:0 -JX4i/-2i -Bxa1Kf1kg1d <span class="se">\</span>
              -Bya1Hg1h -BWsNe+glightyellow -P &gt; GMT_linear_cal.ps
</pre></div>
</div>
</div></blockquote>
</div>
</div>
<div class="section" id="cartesian-logarithmic-projection">
<h3>13.1.2. Cartesian logarithmic projection<a class="headerlink" href="#cartesian-logarithmic-projection" title="Permalink to this headline">¶</a></h3>
<div class="figure align-center" id="id151">
<span id="gmt-log"></span><a class="reference internal image-reference" href="_images/GMT_log.png"><img alt="_images/GMT_log.png" src="_images/GMT_log.png" style="width: 400px;" /></a>
<p class="caption"><span class="caption-text">Logarithmic transformation of x--coordinates.</span></p>
</div>
<p>The <span class="math notranslate nohighlight">\(\log_{10}\)</span> transformation is simply
<span class="math notranslate nohighlight">\(u' = a \log_{10}(u) + b\)</span> and is selected by appending an <strong>l</strong>
(lower case L) immediately following the scale (or axis length) value.
Hence, to produce a plot in which the <em>x</em>-axis is logarithmic (the
<em>y</em>-axis remains linear, i.e., a semi-log plot), try (Figure <a class="reference internal" href="#gmt-log"><span class="std std-ref">Logarithmic
transformation</span></a>)</p>
<blockquote>
<div><div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>gmt psxy -R1/100/0/10 -Jx1.5il/0.15i -Bx2g3 -Bya2f1g2 -BWSne+gbisque <span class="se">\</span>
         -Wthick,blue,- -P -K -h sqrt.d &gt; GMT_log.ps
gmt psxy -R -J -Ss0.1i -N -Gred -W -O -h sqrt.d10 &gt;&gt; GMT_log.ps
</pre></div>
</div>
</div></blockquote>
<p>Note that if <em>x</em>- and <em>y</em>-scaling are different and a
<span class="math notranslate nohighlight">\(\log_{10}-\log_{10}\)</span> plot is desired, the <strong>l</strong> must be
appended twice: Once after the <em>x</em>-scale (before the /) and once after
the <em>y</em>-scale.</p>
</div>
<div class="section" id="cartesian-power-projection">
<h3>13.1.3. Cartesian power projection <a class="reference internal" href="gmt.html#jx-full"><span class="std std-ref">…</span></a><a class="headerlink" href="#cartesian-power-projection" title="Permalink to this headline">¶</a></h3>
<div class="figure align-center" id="id152">
<span id="gmt-pow"></span><a class="reference internal image-reference" href="_images/GMT_pow.png"><img alt="_images/GMT_pow.png" src="_images/GMT_pow.png" style="width: 400px;" /></a>
<p class="caption"><span class="caption-text">Exponential or power transformation of x--coordinates.</span></p>
</div>
<p>This projection uses <span class="math notranslate nohighlight">\(u' = a u^b + c\)</span> and allows us to explore
exponential relationships like <span class="math notranslate nohighlight">\(x^p\)</span> versus <span class="math notranslate nohighlight">\(y^q\)</span>.
While <em>p</em> and <em>q</em> can be any values, we will select <em>p
= 0.5</em> and <em>q = 1</em> which means we will plot <em>x</em> versus
<span class="math notranslate nohighlight">\(\sqrt{x}\)</span>. We indicate this scaling by appending a <strong>p</strong> (lower
case P) followed by the desired exponent, in our case 0.5. Since
<em>q = 1</em> we do not need to specify <strong>p</strong>1 since it is identical
to the linear transformation. Thus our command becomes (Figure <a class="reference internal" href="#gmt-pow"><span class="std std-ref">Power
transformation</span></a>)</p>
<blockquote>
<div><div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>gmt psxy -R0/100/0/10 -Jx0.3ip0.5/0.15i -Bxa1p -Bya2f1 -BWSne+givory <span class="se">\</span>
         -Wthick -P -K sqrt.d &gt; GMT_pow.ps
gmt psxy -R -J -Sc0.075i -Ggreen -W -O sqrt.d10 &gt;&gt; GMT_pow.ps
</pre></div>
</div>
</div></blockquote>
</div>
</div>
<div class="section" id="linear-projection-with-polar-coordinates-jp-jp">
<h2>13.2. Linear projection with polar coordinates (<strong>-Jp</strong> <strong>-JP</strong>) <a class="reference internal" href="gmt.html#jp-full"><span class="std std-ref">…</span></a><a class="headerlink" href="#linear-projection-with-polar-coordinates-jp-jp" title="Permalink to this headline">¶</a></h2>
<div class="figure align-center" id="id153">
<span id="gmt-polar"></span><a class="reference internal image-reference" href="_images/GMT_polar.png"><img alt="_images/GMT_polar.png" src="_images/GMT_polar.png" style="width: 400px;" /></a>
<p class="caption"><span class="caption-text">Polar (Cylindrical) transformation of (<span class="math notranslate nohighlight">\(\theta, r\)</span>) coordinates.</span></p>
</div>
<p>This transformation converts polar coordinates (angle <span class="math notranslate nohighlight">\(\theta\)</span> and
radius <em>r</em>) to positions on a plot. Now <span class="math notranslate nohighlight">\(x' = f(\theta,r)\)</span>
and <span class="math notranslate nohighlight">\(y' = g(\theta,r)\)</span>, hence it is similar to a regular map
projection because <em>x</em> and <em>y</em> are coupled and <em>x</em>
(i.e., <span class="math notranslate nohighlight">\(\theta\)</span>) has a 360º periodicity. With input and output
points both in the plane it is a <strong>two-dimensional</strong> projection. The
transformation comes in two flavors:</p>
<ol class="arabic simple">
<li>Normally, <span class="math notranslate nohighlight">\(\theta\)</span> is understood to be directions
counter-clockwise from the horizontal axis, but we may choose to
specify an angular offset [whose default value is zero]. We will call
this offset <span class="math notranslate nohighlight">\(\theta_0\)</span>. Then,
<span class="math notranslate nohighlight">\(x' = f(\theta, r) = ar \cos (\theta-\theta_0) + b\)</span> and
<span class="math notranslate nohighlight">\(y' = g(\theta, r) = ar \sin (\theta-\theta_0) + c\)</span>.</li>
<li>Alternatively, <span class="math notranslate nohighlight">\(\theta\)</span> can be interpreted to be azimuths
clockwise from the vertical axis, yet we may again choose to specify
the angular offset [whose default value is zero]. Then,
<span class="math notranslate nohighlight">\(x' = f(\theta, r) = ar \cos (90 - (\theta-\theta_0)) + b\)</span> and
<span class="math notranslate nohighlight">\(y' = g(\theta, r) = ar \sin (90 - (\theta-\theta_0)) + c\)</span>.</li>
</ol>
<p>Consequently, the polar transformation is defined by providing</p>
<ul class="simple">
<li>scale in inches/unit (<strong>-Jp</strong>) or full width of plot in inches (<strong>-JP</strong>)</li>
<li>Optionally, insert <strong>a</strong> after <strong>p| P</strong> to indicate CW
azimuths rather than CCW directions</li>
<li>Optionally, append /<em>origin</em> in degrees to indicate an angular offset [0]</li>
<li>Optionally, append <strong>r</strong> to reverse the radial direction (here,
<em>south</em> and <em>north</em> must be elevations in 0--90 range).</li>
<li>Optionally, append <strong>z</strong> to annotate depths rather than radius.</li>
</ul>
<p>As an example of this projection we will create a gridded data set in
polar coordinates <span class="math notranslate nohighlight">\(z(\theta, r) = r^2 \cdot \cos{4\theta}\)</span> using
<a class="reference internal" href="grdmath.html"><span class="doc">grdmath</span></a>, a RPN calculator that
operates on or creates grid files.</p>
<blockquote>
<div><div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>gmt grdmath -R0/360/2/4 -I6/0.1 X <span class="m">4</span> MUL PI MUL <span class="m">180</span> DIV COS Y <span class="m">2</span> POW <span class="nv">MUL</span> <span class="o">=</span> tt.nc
gmt grdcontour tt.nc -JP3i -B30 -BNs+ghoneydew -P -C2 -S4 --FORMAT_GEO_MAP<span class="o">=</span>+ddd &gt; GMT_polar.ps
</pre></div>
</div>
</div></blockquote>
<p>We used <a class="reference internal" href="grdcontour.html"><span class="doc">grdcontour</span></a> to make a
contour map of this data. Because the data file only contains values
with <span class="math notranslate nohighlight">\(2 \leq r \leq 4\)</span>, a donut shaped plot appears in
Figure <a class="reference internal" href="#gmt-polar"><span class="std std-ref">Polar transformation</span></a>.</p>
</div>
</div>
<div class="section" id="gmt-map-projections">
<h1>14. GMT Map Projections<a class="headerlink" href="#gmt-map-projections" title="Permalink to this headline">¶</a></h1>
<p>GMT implements more than 30 different projections. They all project
the input coordinates longitude and latitude to positions on a map. In
general, <em>x’ = f(x,y,z)</em> and <em>y’ = g(x,y,z)</em>, where
<em>z</em> is implicitly given as the radial vector length to the
<em>(x,y)</em> point on the chosen ellipsoid. The functions <em>f</em> and
<em>g</em> can be quite nasty and we will refrain from presenting details
in this document. The interested read is referred to <em>Snyder</em>
[1987] <a class="footnote-reference" href="#id79" id="id33">[20]</a>. We will mostly be using the
<a class="reference internal" href="pscoast.html"><span class="doc">pscoast</span></a> command to demonstrate each of
the projections. GMT map projections are grouped into four categories
depending on the nature of the projection. The groups are</p>
<ol class="arabic simple">
<li>Conic map projections</li>
<li>Azimuthal map projections</li>
<li>Cylindrical map projections</li>
<li>Miscellaneous projections</li>
</ol>
<p>Because <em>x</em> and <em>y</em> are coupled we can only specify one
plot-dimensional scale, typically a map <em>scale</em> (for lower-case map
projection code) or a map <em>width</em> (for upper-case map projection code).
However, in some cases it would be more practical to specify map
<em>height</em> instead of <em>width</em>, while in other situations it would be nice
to set either the <em>shortest</em> or <em>longest</em> map dimension. Users may
select these alternatives by appending a character code to their map
dimension. To specify map <em>height</em>, append <strong>h</strong> to the given dimension;
to select the minimum map dimension, append <strong>-</strong>, whereas you may
append <strong>+</strong> to select the maximum map dimension. Without the modifier
the map width is selected by default.</p>
<p>In GMT version 4.3.0 we noticed we ran out of the alphabet for
1-letter (and sometimes 2-letter) projection codes. To allow more
flexibility, and to make it easier to remember the codes, we implemented
the option to use the abbreviations used by the <strong>Proj4</strong> mapping
package. Since some of the GMT projections are not in <strong>Proj4</strong>, we
invented some of our own as well. For a full list of both the old 1- and
2-letter codes, as well as the <strong>Proj4</strong>-equivalents see the quick
reference cards in Section <a class="reference internal" href="#gmt-quick-reference">GMT quick reference</a>. For example, <strong>-JM</strong>15c and
<strong>-JMerc</strong>/15c have the same meaning.</p>
<div class="section" id="conic-projections">
<h2>14.1. Conic projections<a class="headerlink" href="#conic-projections" title="Permalink to this headline">¶</a></h2>
<div class="section" id="albers-conic-equal-area-projection-jb-jb">
<h3>14.1.1. Albers conic equal-area projection (<strong>-Jb</strong> <strong>-JB</strong>) <a class="reference internal" href="gmt.html#jb-full"><span class="std std-ref">…</span></a><a class="headerlink" href="#albers-conic-equal-area-projection-jb-jb" title="Permalink to this headline">¶</a></h3>
<p>This projection, developed by Albers in 1805, is predominantly used to
map regions of large east-west extent, in particular the United States.
It is a conic, equal-area projection, in which parallels are unequally
spaced arcs of concentric circles, more closely spaced at the north and
south edges of the map. Meridians, on the other hand, are equally spaced
radii about a common center, and cut the parallels at right angles.
Distortion in scale and shape vanishes along the two standard parallels.
Between them, the scale along parallels is too small; beyond them it is
too large. The opposite is true for the scale along meridians. To define
the projection in GMT you need to provide the following information:</p>
<ul class="simple">
<li>Longitude and latitude of the projection center.</li>
<li>Two standard parallels.</li>
<li>Map scale in inch/degree or 1:xxxxx notation (<strong>-Jb</strong>), or map width (<strong>-JB</strong>).</li>
</ul>
<p>Note that you must include the “1:” if you choose to specify the scale
that way. E.g., you can say 0.5 which means 0.5 inch/degree or 1:200000
which means 1 inch on the map equals 200,000 inches along the standard
parallels. The projection center defines the origin of the rectangular
map coordinates. As an example we will make a map of the region near
Taiwan. We choose the center of the projection to be at 125ºE/20ºN and
25ºN and 45ºN as our two standard parallels. We desire a map that is 5
inches wide. The complete command needed to generate the map below is
therefore given by:</p>
<blockquote>
<div><div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>gmt <span class="nb">set</span> MAP_GRID_CROSS_SIZE_PRIMARY <span class="m">0</span>
gmt pscoast -R110/140/20/35 -JB125/20/25/45/5i -Bag -Dl -Ggreen -Wthinnest <span class="se">\</span>
            -A250 -P &gt; GMT_albers.ps
</pre></div>
</div>
</div></blockquote>
<div class="figure align-center" id="id154">
<a class="reference internal image-reference" href="_images/GMT_albers.png"><img alt="_images/GMT_albers.png" src="_images/GMT_albers.png" style="width: 500px;" /></a>
<p class="caption"><span class="caption-text">Albers equal-area conic map projection.</span></p>
</div>
</div>
<div class="section" id="equidistant-conic-projection-jd-jd">
<h3>14.1.2. Equidistant conic projection (<strong>-Jd</strong> <strong>-JD</strong>) <a class="reference internal" href="gmt.html#jd-full"><span class="std std-ref">…</span></a><a class="headerlink" href="#equidistant-conic-projection-jd-jd" title="Permalink to this headline">¶</a></h3>
<p>The equidistant conic projection was described by the Greek philosopher
Claudius Ptolemy about A.D. 150. It is neither conformal or equal-area,
but serves as a compromise between them. The scale is true along all
meridians and the standard parallels. To select this projection in
GMT you must provide the same information as for the other conic
projection, i.e.,</p>
<ul class="simple">
<li>Longitude and latitude of the projection center.</li>
<li>Two standard parallels.</li>
<li>Map scale in inch/degree or 1:xxxxx notation (<strong>-Jd</strong>), or map width (<strong>-JD</strong>).</li>
</ul>
<p>The equidistant conic projection is often used for atlases with maps of
small countries. As an example, we generate a map of Cuba:</p>
<blockquote>
<div><div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>gmt <span class="nb">set</span> FORMAT_GEO_MAP ddd:mm:ssF MAP_GRID_CROSS_SIZE_PRIMARY <span class="m">0</span>.05i
gmt pscoast -R-88/-70/18/24 -JD-79/21/19/23/4.5i -Bag -Di -N1/thick,red <span class="se">\</span>
            -Glightgreen -Wthinnest -P &gt; GMT_equidistant_conic.ps
</pre></div>
</div>
</div></blockquote>
<div class="figure align-center" id="id155">
<a class="reference internal image-reference" href="_images/GMT_equidistant_conic.png"><img alt="_images/GMT_equidistant_conic.png" src="_images/GMT_equidistant_conic.png" style="width: 500px;" /></a>
<p class="caption"><span class="caption-text">Equidistant conic map projection.</span></p>
</div>
</div>
<div class="section" id="lambert-conic-conformal-projection-jl-jl">
<h3>14.1.3. Lambert conic conformal projection (<strong>-Jl</strong> <strong>-JL</strong>) <a class="reference internal" href="gmt.html#jl-full"><span class="std std-ref">…</span></a><a class="headerlink" href="#lambert-conic-conformal-projection-jl-jl" title="Permalink to this headline">¶</a></h3>
<p>This conic projection was designed by the Alsatian mathematician Johann
Heinrich Lambert (1772) and has been used extensively for mapping of
regions with predominantly east-west orientation, just like the Albers
projection. Unlike the Albers projection, Lambert’s conformal projection
is not equal-area. The parallels are arcs of circles with a common
origin, and meridians are the equally spaced radii of these circles. As
with Albers projection, it is only the two standard parallels that are
distortion-free. To select this projection in GMT you must provide the
same information as for the Albers projection, i.e.,</p>
<ul class="simple">
<li>Longitude and latitude of the projection center.</li>
<li>Two standard parallels.</li>
<li>Map scale in inch/degree or 1:xxxxx notation (<strong>-Jl</strong>), or map width (<strong>-JL</strong>).</li>
</ul>
<p>The Lambert conformal projection has been used for basemaps for all the
48 contiguous States with the two fixed standard parallels 33ºN and 45ºN.
We will generate a map of the continental USA using these parameters.
Note that with all the projections you have the option of selecting a
rectangular border rather than one defined by meridians and parallels.
Here, we choose the regular WESN region, a “fancy” basemap frame, and
use degrees west for longitudes. The generating commands used were</p>
<blockquote>
<div><div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>gmt <span class="nb">set</span> MAP_FRAME_TYPE FANCY FORMAT_GEO_MAP ddd:mm:ssF MAP_GRID_CROSS_SIZE_PRIMARY <span class="m">0</span>.05i
gmt pscoast -R-130/-70/24/52 -Jl-100/35/33/45/1:50000000 -Bag -Dl -N1/thick,red <span class="se">\</span>
            -N2/thinner -A500 -Gtan -Wthinnest,white -Sblue -P &gt; GMT_lambert_conic.ps
</pre></div>
</div>
</div></blockquote>
<div class="figure align-center" id="id156">
<a class="reference internal image-reference" href="_images/GMT_lambert_conic.png"><img alt="_images/GMT_lambert_conic.png" src="_images/GMT_lambert_conic.png" style="width: 500px;" /></a>
<p class="caption"><span class="caption-text">Lambert conformal conic map projection.</span></p>
</div>
<p>The choice for projection center does not affect the projection but it
indicates which meridian (here 100ºW) will be vertical on the map. The
standard parallels were originally selected by Adams to provide a
maximum scale error between latitudes 30.5ºN and 47.5ºN of 0.5--1%. Some
areas, like Florida, experience scale errors of up to 2.5%.</p>
</div>
<div class="section" id="american-polyconic-projection-jpoly-jpoly">
<h3>14.1.4. (American) polyconic projection (<strong>-Jpoly</strong> <strong>-JPoly</strong>) <a class="reference internal" href="gmt.html#jpoly-full"><span class="std std-ref">…</span></a><a class="headerlink" href="#american-polyconic-projection-jpoly-jpoly" title="Permalink to this headline">¶</a></h3>
<p>The polyconic projection, in Europe usually referred to as the American
polyconic projection, was introduced shortly before 1820 by the
Swiss-American cartographer Ferdinand Rodulph Hassler (1770--1843). As
head of the Survey of the Coast, he was looking for a projection that
would give the least distortion for mapping the coast of the United
States. The projection acquired its name from the construction of each
parallel, which is achieved by projecting the parallel onto the cone
while it is rolled around the globe, along the central meridian, tangent
to that parallel. As a consequence, the projection involves many cones
rather than a single one used in regular conic projections.</p>
<p>The polyconic projection is neither equal-area, nor conformal. It is
true to scale without distortion along the central meridian. Each
parallel is true to scale as well, but the meridians are not as they get
further away from the central meridian. As a consequence, no parallel is
standard because conformity is lost with the lengthening of the meridians.</p>
<p>Below we reproduce the illustration by <em>Snyder</em> [1987], with a gridline
every 10 and annotations only every 30º in longitude:</p>
<blockquote>
<div><div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>gmt pscoast -R-180/-20/0/90 -JPoly/4i -Bx30g10 -By10g10 -Dc -A1000 -Glightgray <span class="se">\</span>
            -Wthinnest -P &gt; GMT_polyconic.ps
</pre></div>
</div>
</div></blockquote>
<div class="figure align-center" id="id157">
<a class="reference internal image-reference" href="_images/GMT_polyconic.png"><img alt="_images/GMT_polyconic.png" src="_images/GMT_polyconic.png" style="width: 500px;" /></a>
<p class="caption"><span class="caption-text">(American) polyconic projection.</span></p>
</div>
</div>
</div>
<div class="section" id="azimuthal-projections">
<h2>14.2. Azimuthal projections<a class="headerlink" href="#azimuthal-projections" title="Permalink to this headline">¶</a></h2>
<div class="section" id="lambert-azimuthal-equal-area-ja-ja">
<h3>14.2.1. Lambert Azimuthal Equal-Area (<strong>-Ja</strong> <strong>-JA</strong>)<a class="headerlink" href="#lambert-azimuthal-equal-area-ja-ja" title="Permalink to this headline">¶</a></h3>
<p>This projection was developed by Lambert in 1772 and is typically used
for mapping large regions like continents and hemispheres. It is an
azimuthal, equal-area projection, but is not perspective. Distortion is
zero at the center of the projection, and increases radially away from
this point. To define this projection in GMT you must provide the
following information:</p>
<ul class="simple">
<li>Longitude and latitude of the projection center.</li>
<li>Optionally, the horizon, i.e., the number of degrees from the center
to the edge (&lt;= 180, default is 90).</li>
<li>Scale as 1:xxxxx or as radius/latitude where radius is the projected
distance on the map from projection center to an oblique latitude where 0
would be the oblique Equator
(<strong>-Ja</strong>), or map width (<strong>-JA</strong>).</li>
</ul>
<p>Two different types of maps can be made with this projection depending
on how the region is specified. We will give examples of both types.</p>
<div class="section" id="rectangular-map">
<h4>14.2.1.1. Rectangular map<a class="headerlink" href="#rectangular-map" title="Permalink to this headline">¶</a></h4>
<p>In this mode we define our region by specifying the longitude/latitude
of the lower left and upper right corners instead of the usual <em>west,
east, south, north</em> boundaries. The reason for specifying our area this
way is that for this and many other projections, lines of equal
longitude and latitude are not straight lines and are thus poor choices
for map boundaries. Instead we require that the map boundaries be
rectangular by defining the corners of a rectangular map boundary. Using
0ºE/40ºS (lower left) and 60ºE/10ºS (upper right) as our corners we try</p>
<blockquote>
<div><div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>gmt <span class="nb">set</span> FORMAT_GEO_MAP ddd:mm:ssF MAP_GRID_CROSS_SIZE_PRIMARY <span class="m">0</span>
gmt pscoast -R0/-40/60/-10r -JA30/-30/4.5i -Bag -Dl -A500 -Gp300/10 <span class="se">\</span>
            -Wthinnest -P &gt; GMT_lambert_az_rect.ps
</pre></div>
</div>
</div></blockquote>
<div class="figure align-center" id="id158">
<a class="reference internal image-reference" href="_images/GMT_lambert_az_rect.png"><img alt="_images/GMT_lambert_az_rect.png" src="_images/GMT_lambert_az_rect.png" style="width: 500px;" /></a>
<p class="caption"><span class="caption-text">Rectangular map using the Lambert azimuthal equal-area projection.</span></p>
</div>
<p>Note that an “r” is appended to the <strong>-R</strong> option to inform GMT that
the region has been selected using the rectangle technique, otherwise it
would try to decode the values as <em>west, east, south, north</em> and report
an error since <em>‘east’</em> &lt; <em>‘west’</em>.</p>
</div>
<div class="section" id="hemisphere-map">
<h4>14.2.1.2. Hemisphere map<a class="headerlink" href="#hemisphere-map" title="Permalink to this headline">¶</a></h4>
<p>Here, you must specify the world as your region (<strong>-Rg</strong> or
<strong>-Rd</strong>). E.g., to obtain a hemisphere view that shows the Americas, try</p>
<blockquote>
<div><div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>gmt pscoast -Rg -JA280/30/3.5i -Bg -Dc -A1000 -Gnavy -P &gt; GMT_lambert_az_hemi.ps
</pre></div>
</div>
</div></blockquote>
<div class="figure align-center" id="id159">
<a class="reference internal image-reference" href="_images/GMT_lambert_az_hemi.png"><img alt="_images/GMT_lambert_az_hemi.png" src="_images/GMT_lambert_az_hemi.png" style="width: 400px;" /></a>
<p class="caption"><span class="caption-text">Hemisphere map using the Lambert azimuthal equal-area projection.</span></p>
</div>
<p>To geologists, the Lambert azimuthal equal-area projection (with origin
at 0/0) is known as the <em>equal-area</em> (Schmidt) stereonet and used for
plotting fold axes, fault planes, and the like. An <em>equal-angle</em> (Wulff)
stereonet can be obtained by using the stereographic projection
(discussed later). The stereonets produced by these two projections appear below.</p>
<div class="figure align-center" id="id160">
<span id="gmt-stereonets"></span><a class="reference internal image-reference" href="_images/GMT_stereonets.png"><img alt="_images/GMT_stereonets.png" src="_images/GMT_stereonets.png" style="width: 500px;" /></a>
<p class="caption"><span class="caption-text">Equal-Area (Schmidt) and Equal-Angle (Wulff) stereo nets.</span></p>
</div>
</div>
</div>
<div class="section" id="stereographic-equal-angle-projection-js-js">
<h3>14.2.2. Stereographic Equal-Angle projection (<strong>-Js</strong> <strong>-JS</strong>) <a class="reference internal" href="gmt.html#js-full"><span class="std std-ref">…</span></a><a class="headerlink" href="#stereographic-equal-angle-projection-js-js" title="Permalink to this headline">¶</a></h3>
<p>This is a conformal, azimuthal projection that dates back to the Greeks.
Its main use is for mapping the polar regions. In the polar aspect all
meridians are straight lines and parallels are arcs of circles. While
this is the most common use it is possible to select any point as the
center of projection. The requirements are</p>
<ul class="simple">
<li>Longitude and latitude of the projection center.</li>
<li>Optionally, the horizon, i.e., the number of degrees from the center
to the edge (&lt; 180, default is 90).</li>
<li>Scale as 1:xxxxx (true scale at pole), slat/1:xxxxx (true scale at
standard parallel slat), or radius/latitude where radius is distance
on map in inches from projection center to a particular
oblique latitude (<strong>-Js</strong>), or simply map width (<strong>-JS</strong>).</li>
</ul>
<p>A default map scale factor of 0.9996 will be applied by default
(although you may change this with <a class="reference internal" href="gmt.conf.html#proj-scale-factor"><span class="std std-ref">PROJ_SCALE_FACTOR</span></a>). However,
the setting is ignored when a standard parallel has been specified since
the scale is then implicitly given. We will look at two different types
of maps.</p>
<div class="section" id="polar-stereographic-map">
<h4>14.2.2.1. Polar Stereographic Map <a class="reference internal" href="gmt.html#js-full"><span class="std std-ref">…</span></a><a class="headerlink" href="#polar-stereographic-map" title="Permalink to this headline">¶</a></h4>
<p>In our first example we will let the projection center be at the north
pole. This means we have a polar stereographic projection and the map
boundaries will coincide with lines of constant longitude and latitude.
An example is given by</p>
<blockquote>
<div><div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>gmt pscoast -R-30/30/60/72 -Js0/90/4.5i/60 -B10g -Dl -A250 -Groyalblue <span class="se">\</span>
            -Sseashell -P &gt; GMT_stereographic_polar.ps
</pre></div>
</div>
</div></blockquote>
<div class="figure align-center" id="id161">
<a class="reference internal image-reference" href="_images/GMT_stereographic_polar.png"><img alt="_images/GMT_stereographic_polar.png" src="_images/GMT_stereographic_polar.png" style="width: 500px;" /></a>
<p class="caption"><span class="caption-text">Polar stereographic conformal projection.</span></p>
</div>
</div>
<div class="section" id="rectangular-stereographic-map">
<h4>14.2.2.2. Rectangular stereographic map<a class="headerlink" href="#rectangular-stereographic-map" title="Permalink to this headline">¶</a></h4>
<p>As with Lambert’s azimuthal equal-area projection we have the option to
use rectangular boundaries rather than the wedge-shape typically
associated with polar projections. This choice is defined by selecting
two points as corners in the rectangle and appending an “r” to the
<strong>-R</strong> option. This command produces a map as presented in
Figure <a class="reference internal" href="#gmt-stereographic-rect"><span class="std std-ref">Polar stereographic</span></a>:</p>
<blockquote>
<div><div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>gmt <span class="nb">set</span> MAP_ANNOT_OBLIQUE <span class="m">30</span>
gmt pscoast -R-25/59/70/72r -JS10/90/11c -B20g -Dl -A250 -Gdarkbrown -Wthinnest <span class="se">\</span>
            -Slightgray -P &gt; GMT_stereographic_rect.ps
</pre></div>
</div>
</div></blockquote>
<div class="figure align-center" id="id162">
<span id="gmt-stereographic-rect"></span><a class="reference internal image-reference" href="_images/GMT_stereographic_rect.png"><img alt="_images/GMT_stereographic_rect.png" src="_images/GMT_stereographic_rect.png" style="width: 500px;" /></a>
<p class="caption"><span class="caption-text">Polar stereographic conformal projection with rectangular borders.</span></p>
</div>
</div>
<div class="section" id="general-stereographic-map">
<h4>14.2.2.3. General stereographic map<a class="headerlink" href="#general-stereographic-map" title="Permalink to this headline">¶</a></h4>
<p>In terms of usage this projection is identical to the Lambert azimuthal
equal-area projection. Thus, one can make both rectangular and
hemispheric maps. Our example shows Australia using a projection pole at
130ºE/30ºS. The command used was</p>
<blockquote>
<div><div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>gmt <span class="nb">set</span> MAP_ANNOT_OBLIQUE <span class="m">0</span>
gmt pscoast -R100/-42/160/-8r -JS130/-30/4i -Bag -Dl -A500 -Ggreen -Slightblue <span class="se">\</span>
            -Wthinnest -P &gt; GMT_stereographic_general.ps
</pre></div>
</div>
</div></blockquote>
<div class="figure align-center" id="id163">
<a class="reference internal image-reference" href="_images/GMT_stereographic_general.png"><img alt="_images/GMT_stereographic_general.png" src="_images/GMT_stereographic_general.png" style="width: 500px;" /></a>
<p class="caption"><span class="caption-text">General stereographic conformal projection with rectangular borders.</span></p>
</div>
<p>By choosing 0/0 as the pole, we obtain the conformal stereonet presented
next to its equal-area cousin in the Section <a class="reference internal" href="#lambert-azimuthal-equal-area-ja-ja">Lambert Azimuthal Equal-Area (-Ja -JA)</a> on the Lambert azimuthal equal-area projection (Figure <a class="reference internal" href="#gmt-stereonets"><span class="std std-ref">Stereonets</span></a>).</p>
</div>
</div>
<div class="section" id="perspective-projection-jg-jg">
<h3>14.2.3. Perspective projection (<strong>-Jg</strong> <strong>-JG</strong>) <a class="reference internal" href="gmt.html#jg-full"><span class="std std-ref">…</span></a><a class="headerlink" href="#perspective-projection-jg-jg" title="Permalink to this headline">¶</a></h3>
<p>The perspective projection imitates in 2 dimensions the 3-dimensional
view of the earth from space. The implementation in GMT is very
flexible, and thus requires many input variables. Those are listed and
explained below, with the values used in
Figure <a class="reference internal" href="#gmt-perspective"><span class="std std-ref">Perspective projection</span></a> between brackets.</p>
<ul class="simple">
<li>Longitude and latitude of the projection center (4ºE/52ºN).</li>
<li>Altitude of the viewer above sea level in kilometers (230 km). If
this value is less than 10, it is assumed to be the distance of the
viewer from the center of the earth in earth radii. If an “r” is
appended, it is the distance from the center of the earth in
kilometers.</li>
<li>Azimuth in degrees (90, due east). This is the direction in which you
are looking, measured clockwise from north.</li>
<li>Tilt in degrees (60). This is the viewing angle relative to zenith.
So a tilt of 0º is looking straight down, 60º is looking from 30º above
the horizon.</li>
<li>Twist in degrees (180). This is the boresight rotation (clockwise) of
the image. The twist of 180º in the example mimics the fact that the
Space Shuttle flies upside down.</li>
<li>Width and height of the viewpoint in degrees (60). This number
depends on whether you are looking with the naked eye (in which case
you view is about 60º wide), or with binoculars, for example.</li>
<li>Scale as 1:xxxxx or as radius/latitude where radius is distance on
map in inches from projection center to a particular
oblique latitude (<strong>-Jg</strong>), or map width (<strong>-JG</strong>) (5 inches).</li>
</ul>
<p>The imagined view of northwest Europe from a Space Shuttle at 230 km
looking due east is thus accomplished by the following
<a class="reference internal" href="pscoast.html"><span class="doc">pscoast</span></a> command:</p>
<blockquote>
<div><div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>gmt pscoast -Rg -JG4/52/230/90/60/180/60/60/5i -Bx2g2 -By1g1 -Ia -Di -Glightbrown <span class="se">\</span>
            -Wthinnest -P -Slightblue --MAP_ANNOT_MIN_SPACING<span class="o">=</span><span class="m">0</span>.25i &gt; GMT_perspective.ps
</pre></div>
</div>
</div></blockquote>
<div class="figure align-center" id="id164">
<span id="gmt-perspective"></span><a class="reference internal image-reference" href="_images/GMT_perspective.png"><img alt="_images/GMT_perspective.png" src="_images/GMT_perspective.png" style="width: 500px;" /></a>
<p class="caption"><span class="caption-text">View from the Space Shuttle in Perspective projection.</span></p>
</div>
</div>
<div class="section" id="orthographic-projection-jg-jg">
<h3>14.2.4. Orthographic projection (<strong>-Jg</strong> <strong>-JG</strong>) <a class="reference internal" href="gmt.html#jg-full"><span class="std std-ref">…</span></a><a class="headerlink" href="#orthographic-projection-jg-jg" title="Permalink to this headline">¶</a></h3>
<p>The orthographic azimuthal projection is a perspective projection from
infinite distance. It is therefore often used to give the appearance of
a globe viewed from outer space. As with Lambert’s equal-area and the
stereographic projection, only one hemisphere can be viewed at any time.
The projection is neither equal-area nor conformal, and much distortion
is introduced near the edge of the hemisphere. The directions from the
center of projection are true. The projection was known to the Egyptians
and Greeks more than 2,000 years ago. Because it is mainly used for
pictorial views at a small scale, only the spherical form is necessary.</p>
<p>To specify the orthographic projection the same options <strong>-Jg</strong> or
<strong>-JG</strong> as the perspective projection are used, but with fewer variables to supply:</p>
<ul class="simple">
<li>Longitude and latitude of the projection center.</li>
<li>Optionally, the horizon, i.e., the number of degrees from the center
to the edge (&lt;= 90, default is 90).</li>
<li>Scale as 1:xxxxx or as radius/latitude where radius is distance on
map in inches from projection center to a particular
oblique latitude (<strong>-Jg</strong>), or map width (<strong>-JG</strong>).</li>
</ul>
<p>Our example of a perspective view centered on 75ºW/40ºN can therefore be
generated by the following <a class="reference internal" href="pscoast.html"><span class="doc">pscoast</span></a> command:</p>
<blockquote>
<div><div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>gmt pscoast -Rg -JG-75/41/4.5i -Bg -Dc -A5000 -Gpink -Sthistle -P &gt; GMT_orthographic.ps
</pre></div>
</div>
</div></blockquote>
<div class="figure align-center" id="id165">
<a class="reference internal image-reference" href="_images/GMT_orthographic.png"><img alt="_images/GMT_orthographic.png" src="_images/GMT_orthographic.png" style="width: 400px;" /></a>
<p class="caption"><span class="caption-text">Hemisphere map using the Orthographic projection.</span></p>
</div>
</div>
<div class="section" id="azimuthal-equidistant-projection-je-je">
<h3>14.2.5. Azimuthal Equidistant projection (<strong>-Je</strong> <strong>-JE</strong>) <a class="reference internal" href="gmt.html#je-full"><span class="std std-ref">…</span></a><a class="headerlink" href="#azimuthal-equidistant-projection-je-je" title="Permalink to this headline">¶</a></h3>
<p>The most noticeable feature of this azimuthal projection is the fact
that distances measured from the center are true. Therefore, a circle
about the projection center defines the locus of points that are equally
far away from the plot origin. Furthermore, directions from the center
are also true. The projection, in the polar aspect, is at least several
centuries old. It is a useful projection for a global view of locations
at various or identical distance from a given point (the map center).</p>
<p>To specify the azimuthal equidistant projection you must supply:</p>
<ul class="simple">
<li>Longitude and latitude of the projection center.</li>
<li>Optionally, the horizon, i.e., the number of degrees from the center
to the edge (&lt;= 180, default is 180).</li>
<li>Scale as 1:xxxxx or as radius/latitude where radius is distance on
map in inches from projection center to a particular
oblique latitude (<strong>-Je</strong>), or map width (<strong>-JE</strong>).</li>
</ul>
<p>Our example of a global view centered on 100ºW/40ºN can therefore be
generated by the following <a class="reference internal" href="pscoast.html"><span class="doc">pscoast</span></a>
command. Note that the antipodal point is 180º away from the center, but
in this projection this point plots as the entire map perimeter:</p>
<blockquote>
<div><div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>gmt pscoast -Rg -JE-100/40/4.5i -Bg -Dc -A10000 -Glightgray -Wthinnest -P <span class="se">\</span>
            &gt; GMT_az_equidistant.ps
</pre></div>
</div>
</div></blockquote>
<div class="figure align-center" id="id166">
<a class="reference internal image-reference" href="_images/GMT_az_equidistant.png"><img alt="_images/GMT_az_equidistant.png" src="_images/GMT_az_equidistant.png" style="width: 400px;" /></a>
<p class="caption"><span class="caption-text">World map using the equidistant azimuthal projection.</span></p>
</div>
</div>
<div class="section" id="gnomonic-projection-jf-jf">
<h3>14.2.6. Gnomonic projection (<strong>-Jf</strong> <strong>-JF</strong>) <a class="reference internal" href="gmt.html#jf-full"><span class="std std-ref">…</span></a><a class="headerlink" href="#gnomonic-projection-jf-jf" title="Permalink to this headline">¶</a></h3>
<p>The Gnomonic azimuthal projection is a perspective projection from the
center onto a plane tangent to the surface. Its origin goes back to the
old Greeks who used it for star maps almost 2500 years ago. The
projection is neither equal-area nor conformal, and much distortion is
introduced near the edge of the hemisphere; in fact, less than a
hemisphere may be shown around a given center. The directions from the
center of projection are true. Great circles project onto straight
lines. Because it is mainly used for pictorial views at a small scale,
only the spherical form is necessary.</p>
<p>To specify the Gnomonic projection you must supply:</p>
<ul class="simple">
<li>Longitude and latitude of the projection center.</li>
<li>Optionally, the horizon, i.e., the number of degrees from the center
to the edge (&lt; 90, default is 60).</li>
<li>Scale as 1:xxxxx or as radius/latitude where radius is distance on
map in inches from projection center to a particular
oblique latitude (<strong>-Jf</strong>), or map width (<strong>-JF</strong>).</li>
</ul>
<p>Using a horizon of 60, our example of this projection centered on
120ºW/35ºN can therefore be generated by the following <a class="reference internal" href="pscoast.html"><span class="doc">pscoast</span></a> command:</p>
<blockquote>
<div><div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>gmt pscoast -Rg -JF-120/35/60/4.5i -B30g15 -Dc -A10000 -Gtan -Scyan -Wthinnest <span class="se">\</span>
            -P &gt; GMT_gnomonic.ps
</pre></div>
</div>
</div></blockquote>
<div class="figure align-center" id="id167">
<a class="reference internal image-reference" href="_images/GMT_gnomonic.png"><img alt="_images/GMT_gnomonic.png" src="_images/GMT_gnomonic.png" style="width: 500px;" /></a>
<p class="caption"><span class="caption-text">Gnomonic azimuthal projection.</span></p>
</div>
</div>
</div>
<div class="section" id="cylindrical-projections">
<h2>14.3. Cylindrical projections<a class="headerlink" href="#cylindrical-projections" title="Permalink to this headline">¶</a></h2>
<p>Cylindrical projections are easily recognized for its shape: maps are
rectangular and meridians and parallels are straight lines crossing at
right angles. But that is where similarities between the cylindrical
projections supported by GMT (Mercator, transverse Mercator, universal
transverse Mercator, oblique Mercator, Cassini, cylindrical equidistant,
cylindrical equal-area, Miller, and cylindrical stereographic
projections) stops. Each have a different way of spacing the meridians
and parallels to obtain certain desirable cartographic properties.</p>
<div class="section" id="mercator-projection-jm-jm">
<h3>14.3.1. Mercator projection (<strong>-Jm</strong> <strong>-JM</strong>) <a class="reference internal" href="gmt.html#jm-full"><span class="std std-ref">…</span></a><a class="headerlink" href="#mercator-projection-jm-jm" title="Permalink to this headline">¶</a></h3>
<p>Probably the most famous of the various map projections, the Mercator
projection takes its name from the Flemish cartographer Gheert Cremer,
better known as Gerardus Mercator, who presented it in 1569. The
projection is a cylindrical and conformal, with no distortion along the
equator. A major navigational feature of the projection is that a line
of constant azimuth is straight. Such a line is called a rhumb line or
<em>loxodrome</em>. Thus, to sail from one point to another one only had to
connect the points with a straight line, determine the azimuth of the
line, and keep this constant course for the entire voyage <a class="footnote-reference" href="#id80" id="id34">[21]</a>. The
Mercator projection has been used extensively for world maps in which
the distortion towards the polar regions grows rather large, thus
incorrectly giving the impression that, for example, Greenland is larger
than South America. In reality, the latter is about eight times the size
of Greenland. Also, the Former Soviet Union looks much bigger than
Africa or South America. One may wonder whether this illusion has had
any influence on U.S. foreign policy.</p>
<p>In the regular Mercator projection, the cylinder touches the globe along
the equator. Other orientations like vertical and oblique give rise to
the Transverse and Oblique Mercator projections, respectively. We will
discuss these generalizations following the regular Mercator projection.</p>
<p>The regular Mercator projection requires a minimum of parameters. To use
it in GMT programs you supply this information (the first two items
are optional and have defaults):</p>
<ul class="simple">
<li>Central meridian [Middle of your map].</li>
<li>Standard parallel for true scale [Equator]. When supplied, central
meridian must be supplied as well.</li>
<li>Scale along the equator in inch/degree or 1:xxxxx (<strong>-Jm</strong>), or map
width (<strong>-JM</strong>).</li>
</ul>
<p>Our example presents a world map at a scale of 0.012 inch pr degree
which will give a map 4.32 inch wide. It was created with the command:</p>
<blockquote>
<div><div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>gmt <span class="nb">set</span> MAP_FRAME_TYPE fancy
gmt pscoast -R0/360/-70/70 -Jm1.2e-2i -Bxa60f15 -Bya30f15 -Dc -A5000 -Gred <span class="se">\</span>
            -P &gt; GMT_mercator.ps
</pre></div>
</div>
</div></blockquote>
<div class="figure align-center" id="id168">
<a class="reference internal image-reference" href="_images/GMT_mercator.png"><img alt="_images/GMT_mercator.png" src="_images/GMT_mercator.png" style="width: 500px;" /></a>
<p class="caption"><span class="caption-text">Simple Mercator map.</span></p>
</div>
<p>While this example is centered on the Dateline, one can easily choose
another configuration with the <strong>-R</strong> option. A map centered on
Greenwich would specify the region with <strong>-R</strong>-180/180/-70/70.</p>
</div>
<div class="section" id="transverse-mercator-projection-jt-jt">
<h3>14.3.2. Transverse Mercator projection (<strong>-Jt</strong> <strong>-JT</strong>) <a class="reference internal" href="gmt.html#jt-full"><span class="std std-ref">…</span></a><a class="headerlink" href="#transverse-mercator-projection-jt-jt" title="Permalink to this headline">¶</a></h3>
<p>The transverse Mercator was invented by Lambert in 1772. In this
projection the cylinder touches a meridian along which there is no
distortion. The distortion increases away from the central meridian and
goes to infinity at 90º from center. The central meridian, each meridian
90º away from the center, and equator are straight lines; other parallels
and meridians are complex curves. The projection is defined by
specifying:</p>
<ul class="simple">
<li>The central meridian.</li>
<li>Optionally, the latitude of origin (default is the equator).</li>
<li>Scale along the equator in inch/degree or 1:xxxxx (<strong>-Jt</strong>), or map
width (<strong>-JT</strong>).</li>
</ul>
<p>The optional latitude of origin defaults to Equator if not specified.
Although defaulting to 1, you can change the map scale factor via the
<a class="reference internal" href="gmt.conf.html#proj-scale-factor"><span class="std std-ref">PROJ_SCALE_FACTOR</span></a> parameter. Our example shows a transverse
Mercator map of south-east Europe and the Middle East with 35ºE as the
central meridian:</p>
<blockquote>
<div><div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>gmt pscoast -R20/30/50/45r -Jt35/0.18i -Bag -Dl -A250 -Glightbrown -Wthinnest <span class="se">\</span>
            -P -Sseashell &gt; GMT_transverse_merc.ps
</pre></div>
</div>
</div></blockquote>
<div class="figure align-center" id="id169">
<a class="reference internal image-reference" href="_images/GMT_transverse_merc.png"><img alt="_images/GMT_transverse_merc.png" src="_images/GMT_transverse_merc.png" style="width: 500px;" /></a>
<p class="caption"><span class="caption-text">Rectangular Transverse Mercator map.</span></p>
</div>
<p>The transverse Mercator can also be used to generate a global map - the
equivalent of the 360º Mercator map. Using the command</p>
<blockquote>
<div><div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>gmt pscoast -R0/360/-80/80 -JT330/-45/3.5i -Ba30g -BWSne -Dc -A2000 <span class="se">\</span>
            -Slightblue -G0 -P &gt; GMT_TM.ps
</pre></div>
</div>
</div></blockquote>
<p>we made the map illustrated in Figure <a class="reference internal" href="#gmt-tm"><span class="std std-ref">Global transverse Mercator</span></a>. Note that
when a world map is given (indicated by <strong>-R</strong><em>0/360/s/n</em>), the
arguments are interpreted to mean oblique degrees, i.e., the 360º range
is understood to mean the extent of the plot along the central meridian,
while the “south” and “north” values represent how far from the central
longitude we want the plot to extend. These values correspond to
latitudes in the regular Mercator projection and must therefore be less
than 90.</p>
<div class="figure align-center" id="id170">
<span id="gmt-tm"></span><a class="reference internal image-reference" href="_images/GMT_TM.png"><img alt="_images/GMT_TM.png" src="_images/GMT_TM.png" style="width: 450px;" /></a>
<p class="caption"><span class="caption-text">A global transverse Mercator map.</span></p>
</div>
</div>
<div class="section" id="universal-transverse-mercator-utm-projection-ju-ju">
<h3>14.3.3. Universal Transverse Mercator (UTM) projection (<strong>-Ju</strong> <strong>-JU</strong>) <a class="reference internal" href="gmt.html#ju-full"><span class="std std-ref">…</span></a><a class="headerlink" href="#universal-transverse-mercator-utm-projection-ju-ju" title="Permalink to this headline">¶</a></h3>
<p>A particular subset of the transverse Mercator is the Universal
Transverse Mercator (UTM) which was adopted by the US Army for
large-scale military maps. Here, the globe is divided into 60 zones
between 84ºS and 84ºN, most of which are 6 wide. Each of these UTM zones
have their unique central meridian. Furthermore, each zone is divided
into latitude bands but these are not needed to specify the projection
for most cases. See Figure <a class="reference internal" href="#gmt-utm-zones"><span class="std std-ref">Universal Transverse Mercator</span></a> for all zone designations.</p>
<div class="figure align-center" id="id171">
<span id="gmt-utm-zones"></span><a class="reference internal image-reference" href="_images/GMT_utm_zones.png"><img alt="_images/GMT_utm_zones.png" src="_images/GMT_utm_zones.png" style="width: 700px;" /></a>
<p class="caption"><span class="caption-text">Universal Transverse Mercator zone layout.</span></p>
</div>
<p>GMT implements both the transverse Mercator and the UTM projection.
When selecting UTM you must specify:</p>
<ul class="simple">
<li>UTM zone (A, B, 1--60, Y, Z). Use negative values for numerical zones
in the southern hemisphere or append the latitude modifiers C--H, J--N,
P--X) to specify an exact UTM grid zone.</li>
<li>Scale along the equator in inch/degree or 1:xxxxx (<strong>-Ju</strong>), or map
width (<strong>-JU</strong>).</li>
</ul>
<p>In order to minimize the distortion in any given zone, a scale factor of
0.9996 has been factored into the formulae. (although a standard, you
can change this with <a class="reference internal" href="gmt.conf.html#proj-scale-factor"><span class="std std-ref">PROJ_SCALE_FACTOR</span></a>). This makes the UTM
projection a <em>secant</em> projection and not a <em>tangent</em> projection like the
transverse Mercator above. The scale only varies by 1 part in 1,000 from
true scale at equator. The ellipsoidal projection expressions are
accurate for map areas that extend less than 10 away from the central
meridian. For larger regions we use the conformal latitude in the
general spherical formulae instead.</p>
</div>
<div class="section" id="oblique-mercator-projection-jo-jo">
<h3>14.3.4. Oblique Mercator projection (<strong>-Jo</strong> <strong>-JO</strong>) <a class="reference internal" href="gmt.html#jo-full"><span class="std std-ref">…</span></a><a class="headerlink" href="#oblique-mercator-projection-jo-jo" title="Permalink to this headline">¶</a></h3>
<p>Oblique configurations of the cylinder give rise to the oblique Mercator
projection. It is particularly useful when mapping regions of large
lateral extent in an oblique direction. Both parallels and meridians are
complex curves. The projection was developed in the early 1900s by
several workers. Several parameters must be provided to define the
projection. GMT offers three different definitions:</p>
<ol class="arabic simple">
<li>Option <strong>-Jo</strong>[<strong>a</strong>|<strong>A</strong>] or <strong>-JO</strong>[<strong>a</strong>|<strong>A</strong>]:<ul>
<li>Longitude and latitude of projection center.</li>
<li>Azimuth of the oblique equator.</li>
<li>Scale in inch/degree or 1:xxxxx along oblique equator (<strong>-Jo</strong>),
or map width (<strong>-JO</strong>).</li>
</ul>
</li>
<li>Option <strong>-Jo</strong>[<strong>b</strong>|<strong>B</strong>] or <strong>-JO</strong>[<strong>b</strong>|<strong>B</strong>]:<ul>
<li>Longitude and latitude of projection center.</li>
<li>Longitude and latitude of second point on oblique equator.</li>
<li>Scale in inch/degree or 1:xxxxx along oblique equator (<strong>-Jo</strong>),
or map width (<strong>-JO</strong>).</li>
</ul>
</li>
<li>Option <strong>-Joc</strong>|<strong>C</strong> or <strong>-JOc</strong>|<strong>C</strong>:<ul>
<li>Longitude and latitude of projection center.</li>
<li>Longitude and latitude of projection pole.</li>
<li>Scale in inch/degree or 1:xxxxx along oblique equator (<strong>-Jo</strong>),
or map width (<strong>-JO</strong>).</li>
</ul>
</li>
</ol>
<p>For all three definitions, the upper case <strong>A</strong>|<strong>B</strong>|<strong>C</strong> means we
will allow projection poles in the southern hemisphere [By default we map any such
poles to their antipodes in the north hemisphere].  Our example was produced by the command</p>
<blockquote>
<div><div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>gmt pscoast -R270/20/305/25r -JOc280/25.5/22/69/4.8i -Bag -Di -A250 -Gburlywood <span class="se">\</span>
            -Wthinnest -P -TdjTR+w0.4i+f2+l+o0.15i -Sazure --FONT_TITLE<span class="o">=</span>8p <span class="se">\</span>
            --MAP_TITLE_OFFSET<span class="o">=</span><span class="m">0</span>.05i &gt; GMT_obl_merc.ps
</pre></div>
</div>
</div></blockquote>
<div class="figure align-center" id="id172">
<a class="reference internal image-reference" href="_images/GMT_obl_merc.png"><img alt="_images/GMT_obl_merc.png" src="_images/GMT_obl_merc.png" style="width: 500px;" /></a>
<p class="caption"><span class="caption-text">Oblique Mercator map using <strong>-Joc</strong>. We make it clear which direction is North by
adding a star rose with the <strong>-Td</strong> option.</span></p>
</div>
<p>It uses definition 3 for an oblique view of some Caribbean islands. Note
that we define our region using the rectangular system described
earlier. If we do not append an “r” to the <strong>-R</strong> string then the
information provided with the <strong>-R</strong> option is assumed to be oblique
degrees about the projection center rather than the usual geographic
coordinates. This interpretation is chosen since in general the
parallels and meridians are not very suitable as map boundaries.</p>
<p>When working with oblique projections such as here, it is often much more convenient
to specify the map domain in the projected coordinates relative to the map center.
The figure below shows two views of New Zealand using the oblique Mercator projection
that in both cases specifies the region using <strong>-Rk</strong>-1000/1000/-500/500.  The leading
unit <strong>k</strong> means the following bounds are in projected km and we let GMT determine the
geographic coordinates of the two diagonal corners internally.</p>
<div class="figure align-center" id="id173">
<a class="reference internal image-reference" href="_images/GMT_obl_nz.png"><img alt="_images/GMT_obl_nz.png" src="_images/GMT_obl_nz.png" style="width: 600px;" /></a>
<p class="caption"><span class="caption-text">(left) Oblique view of New Zealand centered on its geographical center (Nelson)
indicated by the white circle for an oblique Equator with azimuth 35.  This
resulted in the argument <strong>-JOa</strong>173:17:02E/41:16:15S/35/3i.
The map is 2000 km by 1000 km and the Cartesian
coordinate system in the projected units are indicated by the bold axes.  The blue
circle is the point (40S,180E) and it has projected coordinates (<em>x</em> = 426.2, <em>y</em> = -399.7).
(right) Same dimensions but now specifying an azimuth of 215, yielding a projection
pole in the southern hemisphere (hence we used <strong>-JOA</strong> to override the restriction,
i.e., <strong>-JOA</strong>173:17:02E/41:16:15S/215/3i.)
The projected coordinate system is still aligned as before but the Earth has been rotated
180 degrees.  The blue point now has projected coordinates (<em>x</em> = -426.2, <em>y</em> = 399.7).</span></p>
</div>
</div>
<div class="section" id="cassini-cylindrical-projection-jc-jc">
<h3>14.3.5. Cassini cylindrical projection (<strong>-Jc</strong> <strong>-JC</strong>) <a class="reference internal" href="gmt.html#jc-full"><span class="std std-ref">…</span></a><a class="headerlink" href="#cassini-cylindrical-projection-jc-jc" title="Permalink to this headline">¶</a></h3>
<p>This cylindrical projection was developed in 1745 by César-François
Cassini de Thury for the survey of France. It is occasionally called
Cassini-Soldner since the latter provided the more accurate mathematical
analysis that led to the development of the ellipsoidal formulae. The
projection is neither conformal nor equal-area, and behaves as a
compromise between the two end-members. The distortion is zero along the
central meridian. It is best suited for mapping regions of north-south
extent. The central meridian, each meridian 90º away, and equator are
straight lines; all other meridians and parallels are complex curves.
The requirements to define this projection are:</p>
<ul class="simple">
<li>Longitude and latitude of central point.</li>
<li>Scale in inch/degree or as 1:xxxxx (<strong>-Jc</strong>), or map width (<strong>-JC</strong>).</li>
</ul>
<p>A detailed map of the island of Sardinia centered on the 8º45’E meridian
using the Cassini projection can be obtained by running the command:</p>
<blockquote>
<div><div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>gmt pscoast -R7:30/38:30/10:30/41:30r -JC8.75/40/2.5i -Bafg -LjBR+c40+w100+f+o0.15i/0.2i -Gspringgreen <span class="se">\</span>
            -Dh -Sazure -Wthinnest -Ia/thinner -P --FONT_LABEL<span class="o">=</span>12p &gt; GMT_cassini.ps
</pre></div>
</div>
</div></blockquote>
<div class="figure align-center" id="id174">
<a class="reference internal image-reference" href="_images/GMT_cassini.png"><img alt="_images/GMT_cassini.png" src="_images/GMT_cassini.png" style="width: 400px;" /></a>
<p class="caption"><span class="caption-text">Cassini map over Sardinia.</span></p>
</div>
<p>As with the previous projections, the user can choose between a
rectangular boundary (used here) or a geographical (WESN) boundary.</p>
</div>
<div class="section" id="cylindrical-equidistant-projection-jq-jq">
<h3>14.3.6. Cylindrical equidistant projection (<strong>-Jq</strong> <strong>-JQ</strong>) <a class="reference internal" href="gmt.html#jq-full"><span class="std std-ref">…</span></a><a class="headerlink" href="#cylindrical-equidistant-projection-jq-jq" title="Permalink to this headline">¶</a></h3>
<p>This simple cylindrical projection is really a linear scaling of
longitudes and latitudes. The most common form is the Plate Carrée
projection, where the scaling of longitudes and latitudes is the same.
All meridians and parallels are straight lines. The projection can be
defined by:</p>
<ul class="simple">
<li>The central meridian [Middle of your map].</li>
<li>Standard parallel [Equator].</li>
<li>Scale in inch/degree or as 1:xxxxx (<strong>-Jq</strong>), or map width (<strong>-JQ</strong>).</li>
</ul>
<p>The first two of these are optional and have defaults. When the standard
parallel is defined, the central meridian must be supplied as well.</p>
<p>A world map centered on the dateline using this projection can be
obtained by running the command:</p>
<blockquote>
<div><div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>gmt pscoast -Rg -JQ4.5i -B60f30g30 -Dc -A5000 -Gtan4 -Slightcyan -P &gt; GMT_equi_cyl.ps
</pre></div>
</div>
</div></blockquote>
<div class="figure align-center" id="id175">
<a class="reference internal image-reference" href="_images/GMT_equi_cyl.png"><img alt="_images/GMT_equi_cyl.png" src="_images/GMT_equi_cyl.png" style="width: 500px;" /></a>
<p class="caption"><span class="caption-text">World map using the Plate Carrée projection.</span></p>
</div>
<p>Different relative scalings of longitudes and latitudes can be obtained
by selecting a standard parallel different from the equator. Some
selections for standard parallels have practical properties as shown in
Table <a class="reference internal" href="#tbl-jq"><span class="std std-ref">JQ</span></a>.</p>
<table border="1" class="docutils" id="tbl-jq">
<colgroup>
<col width="87%" />
<col width="13%" />
</colgroup>
<thead valign="bottom">
<tr class="row-odd"><th class="head">&#160;</th>
<th class="head">&#160;</th>
</tr>
</thead>
<tbody valign="top">
<tr class="row-even"><td>Grafarend and Niermann, minimum linear distortion</td>
<td>61.7º</td>
</tr>
<tr class="row-odd"><td>Ronald Miller Equirectangular</td>
<td>50.5º</td>
</tr>
<tr class="row-even"><td>Ronald Miller, minimum continental distortion</td>
<td>43.5º</td>
</tr>
<tr class="row-odd"><td>Grafarend and Niermann</td>
<td>42º</td>
</tr>
<tr class="row-even"><td>Ronald Miller, minimum overall distortion</td>
<td>37.5º</td>
</tr>
<tr class="row-odd"><td>Plate Carrée, Simple Cylindrical, Plain/Plane</td>
<td>0º</td>
</tr>
</tbody>
</table>
</div>
<div class="section" id="cylindrical-equal-area-projections-jy-jy">
<h3>14.3.7. Cylindrical equal-area projections (<strong>-Jy</strong> <strong>-JY</strong>) <a class="reference internal" href="gmt.html#jy-full"><span class="std std-ref">…</span></a><a class="headerlink" href="#cylindrical-equal-area-projections-jy-jy" title="Permalink to this headline">¶</a></h3>
<p>This cylindrical projection is actually several projections, depending
on what latitude is selected as the standard parallel. However, they are
all equal area and hence non-conformal. All meridians and parallels are
straight lines. The requirements to define this projection are:</p>
<ul class="simple">
<li>The central meridian.</li>
<li>The standard parallel.</li>
<li>Scale in inch/degree or as 1:xxxxx (<strong>-Jy</strong>), or map width (<strong>-JY</strong>)</li>
</ul>
<p>While you may choose any value for the standard parallel and obtain your
own personal projection, there are seven choices of standard parallels
that result in known (or named) projections. These are listed in Table <a class="reference internal" href="#tbl-jy"><span class="std std-ref">JY</span></a>.</p>
<table border="1" class="docutils" id="tbl-jy">
<colgroup>
<col width="48%" />
<col width="53%" />
</colgroup>
<thead valign="bottom">
<tr class="row-odd"><th class="head">&#160;</th>
<th class="head">&#160;</th>
</tr>
</thead>
<tbody valign="top">
<tr class="row-even"><td>Balthasart</td>
<td>50º</td>
</tr>
<tr class="row-odd"><td>Gall</td>
<td>45º</td>
</tr>
<tr class="row-even"><td>Hobo-Dyer</td>
<td>37º30’ (= 37.5º)</td>
</tr>
<tr class="row-odd"><td>Trystan Edwards</td>
<td>37º24’ (= 37.4º)</td>
</tr>
<tr class="row-even"><td>Caster</td>
<td>37º04’ (= 37.0666º)</td>
</tr>
<tr class="row-odd"><td>Behrman</td>
<td>30º</td>
</tr>
<tr class="row-even"><td>Lambert</td>
<td>0º</td>
</tr>
</tbody>
</table>
<p>For instance, a world map centered on the 35ºE meridian using the Behrman
projection (Figure <a class="reference internal" href="#gmt-general-cyl"><span class="std std-ref">Behrman cylindrical projection</span></a>)
can be obtained by running the command:</p>
<blockquote>
<div><div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>gmt pscoast -R-145/215/-90/90 -JY35/30/4.5i -B45g45 -Dc -A10000 -Sdodgerblue <span class="se">\</span>
            -Wthinnest -P &gt; GMT_general_cyl.ps
</pre></div>
</div>
</div></blockquote>
<div class="figure align-center" id="id176">
<span id="gmt-general-cyl"></span><a class="reference internal image-reference" href="_images/GMT_general_cyl.png"><img alt="_images/GMT_general_cyl.png" src="_images/GMT_general_cyl.png" style="width: 600px;" /></a>
<p class="caption"><span class="caption-text">World map using the Behrman cylindrical equal-area projection.</span></p>
</div>
<p>As one can see there is considerable distortion at high latitudes since
the poles map into lines.</p>
</div>
<div class="section" id="miller-cylindrical-projection-jj-jj">
<h3>14.3.8. Miller Cylindrical projection (<strong>-Jj</strong> <strong>-JJ</strong>) <a class="reference internal" href="gmt.html#jj-full"><span class="std std-ref">…</span></a><a class="headerlink" href="#miller-cylindrical-projection-jj-jj" title="Permalink to this headline">¶</a></h3>
<p>This cylindrical projection, presented by Osborn Maitland Miller of the
American Geographic Society in 1942, is neither equal nor conformal. All
meridians and parallels are straight lines. The projection was designed
to be a compromise between Mercator and other cylindrical projections.
Specifically, Miller spaced the parallels by using Mercator’s formula
with 0.8 times the actual latitude, thus avoiding the singular poles;
the result was then divided by 0.8. There is only a spherical form for
this projection. Specify the projection by:</p>
<ul class="simple">
<li>Optionally, the central meridian (default is the middle of your map).</li>
<li>Scale in inch/degree or as 1:xxxxx (<strong>-Jj</strong>), or map width (<strong>-JJ</strong>).</li>
</ul>
<p>For instance, a world map centered on the 90ºE meridian at a map scale of
1:400,000,000 (Figure <a class="reference internal" href="#gmt-miller"><span class="std std-ref">Miller projection</span></a>) can be obtained as
follows:</p>
<blockquote>
<div><div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>gmt pscoast -R-90/270/-80/90 -Jj1:400000000 -Bx45g45 -By30g30 -Dc -A10000 <span class="se">\</span>
            -Gkhaki -Wthinnest -P -Sazure &gt; GMT_miller.ps
</pre></div>
</div>
</div></blockquote>
<div class="figure align-center" id="id177">
<span id="gmt-miller"></span><a class="reference internal image-reference" href="_images/GMT_miller.png"><img alt="_images/GMT_miller.png" src="_images/GMT_miller.png" style="width: 500px;" /></a>
<p class="caption"><span class="caption-text">World map using the Miller cylindrical projection.</span></p>
</div>
</div>
<div class="section" id="cylindrical-stereographic-projections-jcyl-stere-jcyl-stere">
<h3>14.3.9. Cylindrical stereographic projections (<strong>-Jcyl_stere</strong> <strong>-JCyl_stere</strong>) <a class="reference internal" href="gmt.html#jcyl-stere-full"><span class="std std-ref">…</span></a><a class="headerlink" href="#cylindrical-stereographic-projections-jcyl-stere-jcyl-stere" title="Permalink to this headline">¶</a></h3>
<p>The cylindrical stereographic projections are certainly not as notable
as other cylindrical projections, but are still used because of their
relative simplicity and their ability to overcome some of the downsides
of other cylindrical projections, like extreme distortions of the higher
latitudes. The stereographic projections are perspective projections,
projecting the sphere onto a cylinder in the direction of the antipodal
point on the equator. The cylinder crosses the sphere at two standard
parallels, equidistant from the equator. The projections are defined by:</p>
<ul class="simple">
<li>The central meridian (uses the middle of the map when omitted).</li>
<li>The standard parallel (default is the Equator). When used, central
meridian needs to be given as well.</li>
<li>Scale in inch/degree or as 1:xxxxx (<strong>-Jcyl_stere</strong>), or map width
(<strong>-JCyl_stere</strong>)</li>
</ul>
<p>Some of the selections of the standard parallel are named for the
cartographer or publication that popularized the projection
(Table <a class="reference internal" href="#tbl-jcylstere"><span class="std std-ref">JCylstere</span></a>).</p>
<table border="1" class="docutils" id="tbl-jcylstere">
<colgroup>
<col width="81%" />
<col width="19%" />
</colgroup>
<thead valign="bottom">
<tr class="row-odd"><th class="head">&#160;</th>
<th class="head">&#160;</th>
</tr>
</thead>
<tbody valign="top">
<tr class="row-even"><td>Miller’s modified Gall</td>
<td>66.159467º</td>
</tr>
<tr class="row-odd"><td>Kamenetskiy’s First</td>
<td>55º</td>
</tr>
<tr class="row-even"><td>Gall’s stereographic</td>
<td>45º</td>
</tr>
<tr class="row-odd"><td>Bolshoi Sovietskii Atlas Mira or Kamenetskiy’s Second</td>
<td>30º</td>
</tr>
<tr class="row-even"><td>Braun’s cylindrical</td>
<td>0º</td>
</tr>
</tbody>
</table>
<p>A map of the world, centered on the Greenwich meridian, using the Gall’s
stereographic projection (standard parallel is 45º,
Figure <a class="reference internal" href="#gmt-gall-stereo"><span class="std std-ref">Gall’s stereographic projection</span></a>),
is obtained as follows:</p>
<blockquote>
<div><div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>gmt <span class="nb">set</span> FORMAT_GEO_MAP dddA
gmt pscoast -R-180/180/-60/80 -JCyl_stere/0/45/4.5i -Bxa60f30g30 -Bya30g30 -Dc -A5000 <span class="se">\</span>
            -Wblack -Gseashell4 -Santiquewhite1 -P &gt; GMT_gall_stereo.ps
</pre></div>
</div>
</div></blockquote>
<div class="figure align-center" id="id178">
<span id="gmt-gall-stereo"></span><a class="reference internal image-reference" href="_images/GMT_gall_stereo.png"><img alt="_images/GMT_gall_stereo.png" src="_images/GMT_gall_stereo.png" style="width: 500px;" /></a>
<p class="caption"><span class="caption-text">World map using Gall’s stereographic projection.</span></p>
</div>
</div>
</div>
<div class="section" id="miscellaneous-projections">
<h2>14.4. Miscellaneous projections<a class="headerlink" href="#miscellaneous-projections" title="Permalink to this headline">¶</a></h2>
<p>GMT supports 8 common projections for global presentation of data or
models. These are the Hammer, Mollweide, Winkel Tripel, Robinson, Eckert
IV and VI, Sinusoidal, and Van der Grinten projections. Due to the small
scale used for global maps these projections all use the spherical
approximation rather than more elaborate elliptical formulae.</p>
<p>In all cases, the specification of the central meridian can be skipped.
The default is the middle of the longitude range of the plot, specified
by the (<strong>-R</strong>) option.</p>
<div class="section" id="hammer-projection-jh-jh">
<h3>14.4.1. Hammer projection (<strong>-Jh</strong> <strong>-JH</strong>) <a class="reference internal" href="gmt.html#jh-full"><span class="std std-ref">…</span></a><a class="headerlink" href="#hammer-projection-jh-jh" title="Permalink to this headline">¶</a></h3>
<p>The equal-area Hammer projection, first presented by the German
mathematician Ernst von Hammer in 1892, is also known as Hammer-Aitoff
(the Aitoff projection looks similar, but is not equal-area). The border
is an ellipse, equator and central meridian are straight lines, while
other parallels and meridians are complex curves. The projection is
defined by selecting:</p>
<ul class="simple">
<li>The central meridian [Middle of your map].</li>
<li>Scale along equator in inch/degree or 1:xxxxx (<strong>-Jh</strong>), or map width (<strong>-JH</strong>).</li>
</ul>
<p>A view of the Pacific ocean using the Dateline as central meridian is accomplished thus</p>
<blockquote>
<div><div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>gmt pscoast -Rg -JH4.5i -Bg -Dc -A10000 -Gblack -Scornsilk -P &gt; GMT_hammer.ps
</pre></div>
</div>
</div></blockquote>
<div class="figure align-center" id="id179">
<a class="reference internal image-reference" href="_images/GMT_hammer.png"><img alt="_images/GMT_hammer.png" src="_images/GMT_hammer.png" style="width: 500px;" /></a>
<p class="caption"><span class="caption-text">World map using the Hammer projection.</span></p>
</div>
</div>
<div class="section" id="mollweide-projection-jw-jw">
<h3>14.4.2. Mollweide projection (<strong>-Jw</strong> <strong>-JW</strong>) <a class="reference internal" href="gmt.html#jw-full"><span class="std std-ref">…</span></a><a class="headerlink" href="#mollweide-projection-jw-jw" title="Permalink to this headline">¶</a></h3>
<p>This pseudo-cylindrical, equal-area projection was developed by the
German mathematician and astronomer Karl Brandan Mollweide in 1805.
Parallels are unequally spaced straight lines with the meridians being
equally spaced elliptical arcs. The scale is only true along latitudes
4044’ north and south. The projection is used mainly for global maps
showing data distributions. It is occasionally referenced under the name
homalographic projection. Like the Hammer projection, outlined above, we
need to specify only two parameters to completely define the mapping of
longitudes and latitudes into rectangular <em>x</em>/<em>y</em> coordinates:</p>
<ul class="simple">
<li>The central meridian [Middle of your map].</li>
<li>Scale along equator in inch/degree or 1:xxxxx (<strong>-Jw</strong>), or map width (<strong>-JW</strong>).</li>
</ul>
<p>An example centered on Greenwich can be generated thus:</p>
<blockquote>
<div><div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>gmt pscoast -Rd -JW4.5i -Bg -Dc -A10000 -Gtomato1 -Sskyblue -P &gt; GMT_mollweide.ps
</pre></div>
</div>
</div></blockquote>
<div class="figure align-center" id="id180">
<a class="reference internal image-reference" href="_images/GMT_mollweide.png"><img alt="_images/GMT_mollweide.png" src="_images/GMT_mollweide.png" style="width: 500px;" /></a>
<p class="caption"><span class="caption-text">World map using the Mollweide projection.</span></p>
</div>
</div>
<div class="section" id="winkel-tripel-projection-jr-jr">
<h3>14.4.3. Winkel Tripel projection (<strong>-Jr</strong> <strong>-JR</strong>) <a class="reference internal" href="gmt.html#jr-full"><span class="std std-ref">…</span></a><a class="headerlink" href="#winkel-tripel-projection-jr-jr" title="Permalink to this headline">¶</a></h3>
<p>In 1921, the German mathematician Oswald Winkel a projection that was to
strike a compromise between the properties of three elements (area,
angle and distance). The German word “tripel” refers to this junction of
where each of these elements are least distorted when plotting global
maps. The projection was popularized when Bartholomew and Son started to
use it in its world-renowned “The Times Atlas of the World” in the mid
20th century. In 1998, the National Geographic Society made the Winkel
Tripel as its map projection of choice for global maps.</p>
<p>Naturally, this projection is neither conformal, nor equal-area. Central
meridian and equator are straight lines; other parallels and meridians
are curved. The projection is obtained by averaging the coordinates of
the Equidistant Cylindrical and Aitoff (not Hammer-Aitoff) projections.
The poles map into straight lines 0.4 times the length of equator. To
use it you must enter</p>
<ul class="simple">
<li>The central meridian [Middle of your map].</li>
<li>Scale along equator in inch/degree or 1:xxxxx (<strong>-Jr</strong>), or map width (<strong>-JR</strong>).</li>
</ul>
<p>Centered on Greenwich, the example in Figure <a class="reference internal" href="#gmt-winkel"><span class="std std-ref">Winkel Tripel projection</span></a> was created by this command:</p>
<blockquote>
<div><div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>gmt pscoast -Rd -JR4.5i -Bg -Dc -A10000 -Gburlywood4 -Swheat1 -P &gt; GMT_winkel.ps
</pre></div>
</div>
</div></blockquote>
<div class="figure align-center" id="id181">
<span id="gmt-winkel"></span><a class="reference internal image-reference" href="_images/GMT_winkel.png"><img alt="_images/GMT_winkel.png" src="_images/GMT_winkel.png" style="width: 500px;" /></a>
<p class="caption"><span class="caption-text">World map using the Winkel Tripel projection.</span></p>
</div>
</div>
<div class="section" id="robinson-projection-jn-jn">
<h3>14.4.4. Robinson projection (<strong>-Jn</strong> <strong>-JN</strong>) <a class="reference internal" href="gmt.html#jn-full"><span class="std std-ref">…</span></a><a class="headerlink" href="#robinson-projection-jn-jn" title="Permalink to this headline">¶</a></h3>
<p>The Robinson projection, presented by the American geographer and
cartographer Arthur H. Robinson in 1963, is a modified cylindrical
projection that is neither conformal nor equal-area. Central meridian
and all parallels are straight lines; other meridians are curved. It
uses lookup tables rather than analytic expressions to make the world
map “look” right <a class="footnote-reference" href="#id81" id="id35">[22]</a>. The scale is true along latitudes 38. The
projection was originally developed for use by Rand McNally and is
currently used by the National Geographic Society. To use it you must
enter</p>
<ul class="simple">
<li>The central meridian [Middle of your map].</li>
<li>Scale along equator in inch/degree or 1:xxxxx (<strong>-Jn</strong>), or map width
(<strong>-JN</strong>).</li>
</ul>
<p>Again centered on Greenwich, the example below was created by this command:</p>
<blockquote>
<div><div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>gmt pscoast -Rd -JN4.5i -Bg -Dc -A10000 -Ggoldenrod -Ssnow2 -P &gt; GMT_robinson.ps
</pre></div>
</div>
</div></blockquote>
<div class="figure align-center" id="id182">
<a class="reference internal image-reference" href="_images/GMT_robinson.png"><img alt="_images/GMT_robinson.png" src="_images/GMT_robinson.png" style="width: 500px;" /></a>
<p class="caption"><span class="caption-text">World map using the Robinson projection.</span></p>
</div>
</div>
<div class="section" id="eckert-iv-and-vi-projection-jk-jk">
<h3>14.4.5. Eckert IV and VI projection (<strong>-Jk</strong> <strong>-JK</strong>) <a class="reference internal" href="gmt.html#jk-full"><span class="std std-ref">…</span></a><a class="headerlink" href="#eckert-iv-and-vi-projection-jk-jk" title="Permalink to this headline">¶</a></h3>
<p>The Eckert IV and VI projections, presented by the German cartographer
Max Eckert-Greiffendorff in 1906, are pseudo-cylindrical equal-area
projections. Central meridian and all parallels are straight lines;
other meridians are equally spaced elliptical arcs (IV) or sinusoids
(VI). The scale is true along latitudes 40º30’ (IV) and 49º16’ (VI). Their
main use is in thematic world maps. To select Eckert IV you must use
<strong>-JKf</strong> (<strong>f</strong> for “four”) while Eckert VI is selected with <strong>-JKs</strong>
(<strong>s</strong> for “six”). If no modifier is given it defaults to Eckert VI. In
addition, you must enter</p>
<ul class="simple">
<li>The central meridian [Middle of your map].</li>
<li>Scale along equator in inch/degree or 1:xxxxx (<strong>-Jk</strong>), or map width
(<strong>-JK</strong>).</li>
</ul>
<p>Centered on the Dateline, the Eckert IV example below was created by
this command:</p>
<blockquote>
<div><div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>gmt pscoast -Rg -JKf4.5i -Bg -Dc -A10000 -Wthinnest -Givory -Sbisque3 -P &gt; GMT_eckert4.ps
</pre></div>
</div>
</div></blockquote>
<div class="figure align-center" id="id183">
<a class="reference internal image-reference" href="_images/GMT_eckert4.png"><img alt="_images/GMT_eckert4.png" src="_images/GMT_eckert4.png" style="width: 500px;" /></a>
<p class="caption"><span class="caption-text">World map using the Eckert IV projection.</span></p>
</div>
<p>The same script, with <strong>s</strong> instead of <strong>f</strong>, yields the Eckert VI map:</p>
<div class="figure align-center" id="id184">
<a class="reference internal image-reference" href="_images/GMT_eckert6.png"><img alt="_images/GMT_eckert6.png" src="_images/GMT_eckert6.png" style="width: 500px;" /></a>
<p class="caption"><span class="caption-text">World map using the Eckert VI projection.</span></p>
</div>
</div>
<div class="section" id="sinusoidal-projection-ji-ji">
<h3>14.4.6. Sinusoidal projection (<strong>-Ji</strong> <strong>-JI</strong>) <a class="reference internal" href="gmt.html#ji-full"><span class="std std-ref">…</span></a><a class="headerlink" href="#sinusoidal-projection-ji-ji" title="Permalink to this headline">¶</a></h3>
<p>The sinusoidal projection is one of the oldest known projections, is
equal-area, and has been used since the mid-16th century. It has also
been called the “Equal-area Mercator” projection. The central meridian
is a straight line; all other meridians are sinusoidal curves. Parallels
are all equally spaced straight lines, with scale being true along all
parallels (and central meridian). To use it, you need to select:</p>
<ul class="simple">
<li>The central meridian [Middle of your map].</li>
<li>Scale along equator in inch/degree or 1:xxxxx (<strong>-Ji</strong>), or map width
(<strong>-JI</strong>).</li>
</ul>
<p>A simple world map using the sinusoidal projection is therefore obtained by</p>
<blockquote>
<div><div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>gmt pscoast -Rd -JI4.5i -Bxg30 -Byg15 -Dc -A10000 -Ggray -P &gt; GMT_sinusoidal.ps
</pre></div>
</div>
</div></blockquote>
<div class="figure align-center" id="id185">
<a class="reference internal image-reference" href="_images/GMT_sinusoidal.png"><img alt="_images/GMT_sinusoidal.png" src="_images/GMT_sinusoidal.png" style="width: 500px;" /></a>
<p class="caption"><span class="caption-text">World map using the Sinusoidal projection.</span></p>
</div>
<p>To reduce distortion of shape the interrupted sinusoidal projection was
introduced in 1927. Here, three symmetrical segments are used to cover
the entire world. Traditionally, the interruptions are at 160ºW, 20ºW, and
60ºE. To make the interrupted map we must call
<a class="reference internal" href="pscoast.html"><span class="doc">pscoast</span></a> for each segment and superpose
the results. To produce an interrupted world map (with the traditional
boundaries just mentioned) that is 5.04 inches wide we use the scale
5.04/360 = 0.014 and offset the subsequent plots horizontally by their
widths (140<span class="math notranslate nohighlight">\(\cdot\)</span>0.014 and 80<span class="math notranslate nohighlight">\(\cdot\)</span>0.014):</p>
<blockquote>
<div><div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>gmt pscoast -R200/340/-90/90 -Ji0.014i -Bxg30 -Byg15 -A10000 -Dc <span class="se">\</span>
            -Gblack -K -P &gt; GMT_sinus_int.ps
gmt pscoast -R-20/60/-90/90 -Ji0.014i -Bxg30 -Byg15 -Dc -A10000 <span class="se">\</span>
            -Gblack -X1.96i -O -K &gt;&gt; GMT_sinus_int.ps
gmt pscoast -R60/200/-90/90 -Ji0.014i -Bxg30 -Byg15 -Dc -A10000 <span class="se">\</span>
            -Gblack -X1.12i -O &gt;&gt; GMT_sinus_int.ps
</pre></div>
</div>
</div></blockquote>
<div class="figure align-center" id="id186">
<a class="reference internal image-reference" href="_images/GMT_sinus_int.png"><img alt="_images/GMT_sinus_int.png" src="_images/GMT_sinus_int.png" style="width: 500px;" /></a>
<p class="caption"><span class="caption-text">World map using the Interrupted Sinusoidal projection.</span></p>
</div>
<p>The usefulness of the interrupted sinusoidal projection is basically
limited to display of global, discontinuous data distributions like
hydrocarbon and mineral resources, etc.</p>
</div>
<div class="section" id="van-der-grinten-projection-jv-jv">
<h3>14.4.7. Van der Grinten projection (<strong>-Jv</strong> <strong>-JV</strong>) <a class="reference internal" href="gmt.html#jv-full"><span class="std std-ref">…</span></a><a class="headerlink" href="#van-der-grinten-projection-jv-jv" title="Permalink to this headline">¶</a></h3>
<p>The Van der Grinten projection, presented by Alphons J. van der Grinten
in 1904, is neither equal-area nor conformal. Central meridian and
Equator are straight lines; other meridians are arcs of circles. The
scale is true along the Equator only. Its main use is to show the entire
world enclosed in a circle. To use it you must enter</p>
<ul class="simple">
<li>The central meridian [Middle of your map].</li>
<li>Scale along equator in inch/degree or 1:xxxxx (<strong>-Jv</strong>), or map width (<strong>-JV</strong>).</li>
</ul>
<p>Centered on the Dateline, the example below was created by this command:</p>
<blockquote>
<div><div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>gmt pscoast -Rg -JV4i -Bxg30 -Byg15 -Dc -Glightgray -A10000 <span class="se">\</span>
            -Wthinnest -P &gt; GMT_grinten.ps
</pre></div>
</div>
</div></blockquote>
<div class="figure align-center" id="id187">
<a class="reference internal image-reference" href="_images/GMT_grinten.png"><img alt="_images/GMT_grinten.png" src="_images/GMT_grinten.png" style="width: 400px;" /></a>
<p class="caption"><span class="caption-text">World map using the Van der Grinten projection.</span></p>
</div>
</div>
</div>
</div>
<div class="section" id="creating-gmt-graphics">
<h1>15. Creating GMT Graphics<a class="headerlink" href="#creating-gmt-graphics" title="Permalink to this headline">¶</a></h1>
<p>See separate entry for GMT Examples under <a class="reference internal" href="Gallery.html#example-gallery"><span class="std std-ref">Gallery</span></a>.</p>
</div>
<div class="section" id="creating-gmt-animations">
<h1>16. Creating GMT Animations<a class="headerlink" href="#creating-gmt-animations" title="Permalink to this headline">¶</a></h1>
<p>See separate entry for GMT Animations under <a class="reference internal" href="Gallery.html#example-gallery"><span class="std std-ref">Gallery</span></a>.</p>
</div>
<div class="section" id="gmt-supplemental-packages">
<h1>17. GMT Supplemental Packages<a class="headerlink" href="#gmt-supplemental-packages" title="Permalink to this headline">¶</a></h1>
<p>These packages are for the most part written and supported by us, but
there are some exceptions. They provide extensions of GMT that are
needed for particular rather than general applications.
Questions or bug reports for this software
should be addressed to the person(s) listed in the <code class="docutils literal notranslate"><span class="pre">README</span></code> file associated with
the particular program. It is not guaranteed that these programs are
fully ANSI-C, Y2K, or POSIX compliant, or that they necessarily will
install smoothly on all platforms, but most do. Note that the data sets
some of these programs work on are not distributed with these packages;
they must be obtained separately. The contents of the supplemental
archive may change without notice; at this writing it contains these directories:</p>
<div class="section" id="gshhg-gshhg-data-extractor">
<h2>17.1. gshhg: GSHHG data extractor<a class="headerlink" href="#gshhg-gshhg-data-extractor" title="Permalink to this headline">¶</a></h2>
<p>This package contains <a class="reference internal" href="supplements/gshhg/gshhg.html"><span class="doc">gshhg</span></a> which you
can use to extract shoreline polygons from the Global Self-consistent
Hierarchical High-resolution Shorelines (GSHHG) available separately
from or the (GSHHG is the polygon data base from which the
GMT coastlines derive). The package is maintained by Paul Wessel.</p>
</div>
<div class="section" id="img-gridded-altimetry-extractor">
<h2>17.2. img: gridded altimetry extractor<a class="headerlink" href="#img-gridded-altimetry-extractor" title="Permalink to this headline">¶</a></h2>
<p>This package consists of the program
<a class="reference internal" href="supplements/img/img2grd.html"><span class="doc">img2grd</span></a> to extract subsets of the
global gravity and predicted topography solutions derived from satellite
altimetry <a class="footnote-reference" href="#id87" id="id42">[28]</a>. The package is maintained by Walter Smith and Paul Wessel.</p>
</div>
<div class="section" id="meca-seismology-and-geodesy-symbols">
<h2>17.3. meca: seismology and geodesy symbols<a class="headerlink" href="#meca-seismology-and-geodesy-symbols" title="Permalink to this headline">¶</a></h2>
<p>This package contains the programs
<a class="reference internal" href="supplements/meca/pscoupe.html"><span class="doc">pscoupe</span></a>,
<a class="reference internal" href="supplements/meca/psmeca.html"><span class="doc">psmeca</span></a>,
<a class="reference internal" href="supplements/meca/pspolar.html"><span class="doc">pspolar</span></a>,
<a class="reference internal" href="supplements/meca/psvelo.html"><span class="doc">psvelo</span></a>, and
<a class="reference internal" href="supplements/meca/pssac.html"><span class="doc">pssac</span></a> which are used by seismologists
and geodesists for plotting focal mechanisms (including cross-sections
and polarities), error ellipses, velocity arrows, rotational wedges, and
more. The package was developed by Kurt Feigl and Genevieve
Patau with contributions from Dongdong Tian but is now maintained by the GMT team.</p>
</div>
<div class="section" id="mgd77-mgd77-extractor-and-plotting-tools">
<h2>17.4. mgd77: MGD77 extractor and plotting tools<a class="headerlink" href="#mgd77-mgd77-extractor-and-plotting-tools" title="Permalink to this headline">¶</a></h2>
<p>This package currently holds the programs
<a class="reference internal" href="supplements/mgd77/mgd77convert.html"><span class="doc">mgd77convert</span></a>,
<a class="reference internal" href="supplements/mgd77/mgd77header.html"><span class="doc">mgd77header</span></a>,
<a class="reference internal" href="supplements/mgd77/mgd77info.html"><span class="doc">mgd77info</span></a>,
<a class="reference internal" href="supplements/mgd77/mgd77list.html"><span class="doc">mgd77list</span></a>,
<a class="reference internal" href="supplements/mgd77/mgd77magref.html"><span class="doc">mgd77magref</span></a>,
<a class="reference internal" href="supplements/mgd77/mgd77manage.html"><span class="doc">mgd77manage</span></a>,
<a class="reference internal" href="supplements/mgd77/mgd77path.html"><span class="doc">mgd77path</span></a>,
<a class="reference internal" href="supplements/mgd77/mgd77sniffer.html"><span class="doc">mgd77sniffer</span></a>, and
<a class="reference internal" href="supplements/mgd77/mgd77track.html"><span class="doc">mgd77track</span></a> which can be used to
extract information or data values from or plot marine geophysical data
files in the ASCII MGD77 or netCDF MGD77+ formats <a class="footnote-reference" href="#id88" id="id43">[29]</a>). This package
has replaced the old <strong>mgg</strong> package. The package is maintained by Paul Wessel and Mike Chandler.</p>
</div>
<div class="section" id="misc-miscellaneous-tools">
<h2>17.5. misc: Miscellaneous tools<a class="headerlink" href="#misc-miscellaneous-tools" title="Permalink to this headline">¶</a></h2>
<p>At the moment, this package contains the program
<a class="reference internal" href="supplements/misc/dimfilter.html"><span class="doc">dimfilter</span></a>, which is an extension of
<a class="reference internal" href="grdfilter.html"><span class="doc">grdfilter</span></a> in that it allows for spatial directional filtering.
The package is maintained by Paul Wessel.</p>
</div>
<div class="section" id="potential-geopotential-tools">
<h2>17.6. potential: Geopotential tools<a class="headerlink" href="#potential-geopotential-tools" title="Permalink to this headline">¶</a></h2>
<p>At the moment, this package contains the programs
<a class="reference internal" href="supplements/potential/gravfft.html"><span class="doc">gravfft</span></a>, which performs gravity,
isostasy, and admittance calculation for grids,
<a class="reference internal" href="supplements/potential/grdredpol.html"><span class="doc">grdredpol</span></a>, which compute the
continuous reduction to the pole, AKA differential RTP for magnetic
data, <a class="reference internal" href="supplements/potential/grdseamount.html"><span class="doc">grdseamount</span></a>, which computes
synthetic bathymetry over various seamount shapes, and
<a class="reference internal" href="supplements/potential/gmtgravmag3d.html"><span class="doc">gmtgravmag3d</span></a> and
<a class="reference internal" href="supplements/potential/grdgravmag3d.html"><span class="doc">grdgravmag3d</span></a>,
which computes the gravity or
magnetic anomaly of a body by the method of Okabe <a class="footnote-reference" href="#id90" id="id44">[30]</a>, and
<a class="reference internal" href="supplements/potential/talwani2d.html"><span class="doc">talwani2d</span></a> and
<a class="reference internal" href="supplements/potential/talwani3d.html"><span class="doc">talwani3d</span></a> and
which uses the methods of Talwani to compute various geopotential components
from 2-D <a class="footnote-reference" href="#id91" id="id45">[31]</a> or 3-D <a class="footnote-reference" href="#id92" id="id46">[32]</a> bodies.
The package is maintained by Joaquim Luis and Paul Wessel.</p>
</div>
<div class="section" id="segyprogs-plotting-segy-seismic-data">
<h2>17.7. segyprogs: plotting SEGY seismic data<a class="headerlink" href="#segyprogs-plotting-segy-seismic-data" title="Permalink to this headline">¶</a></h2>
<p>This package contains programs to plot SEGY seismic data files using the
GMT mapping transformations and postscript library.
<a class="reference internal" href="supplements/segy/pssegy.html"><span class="doc">pssegy</span></a> generates a 2-D plot (x:location
and y:time/depth) while <a class="reference internal" href="supplements/segy/pssegyz.html"><span class="doc">pssegyz</span></a>
generates a 3-D plot (x and y: location coordinates, z: time/depth).
Locations may be read from predefined or arbitrary portions of each
trace header. Finally, <a class="reference internal" href="supplements/segy/segy2grd.html"><span class="doc">segy2grd</span></a> can
convert SEGY data to a GMT grid file. The package is maintained by Tim Henstock <a class="footnote-reference" href="#id93" id="id47">[33]</a>.</p>
</div>
<div class="section" id="spotter-backtracking-and-hotspotting">
<h2>17.8. spotter: backtracking and hotspotting<a class="headerlink" href="#spotter-backtracking-and-hotspotting" title="Permalink to this headline">¶</a></h2>
<p>This package contains the plate tectonic programs
<a class="reference internal" href="supplements/spotter/backtracker.html"><span class="doc">backtracker</span></a>, which you can use to
move geologic markers forward or backward in time,
<a class="reference internal" href="supplements/spotter/grdpmodeler.html"><span class="doc">grdpmodeler</span></a> which evaluates
predictions of a plate motion model on a grid,
<a class="reference internal" href="supplements/spotter/grdrotater.html"><span class="doc">grdrotater</span></a> which rotates entire
grids using a finite rotation,
<a class="reference internal" href="supplements/spotter/hotspotter.html"><span class="doc">hotspotter</span></a> which generates CVA
grids based on seamount locations and a set of absolute plate motion
stage poles (<a class="reference internal" href="supplements/spotter/grdspotter.html"><span class="doc">grdspotter</span></a> does the
same using a bathymetry grid instead of seamount locations),
<a class="reference internal" href="supplements/spotter/originator.html"><span class="doc">originator</span></a>, which associates
seamounts with the most likely hotspot origins, and
<a class="reference internal" href="supplements/spotter/rotconverter.html"><span class="doc">rotconverter</span></a> which does various
operations involving finite rotations on a sphere. The package is
maintained by Paul Wessel.</p>
</div>
<div class="section" id="x2sys-track-crossover-error-estimation">
<h2>17.9. x2sys: track crossover error estimation<a class="headerlink" href="#x2sys-track-crossover-error-estimation" title="Permalink to this headline">¶</a></h2>
<p>This package contains the tools
<a class="reference internal" href="supplements/x2sys/x2sys_datalist.html"><span class="doc">x2sys_datalist</span></a>, which allows
you to extract data from almost any binary or ASCII data file, and
<a class="reference internal" href="supplements/x2sys/x2sys_cross.html"><span class="doc">x2sys_cross</span></a> which determines
crossover locations and errors generated by one or several geospatial
tracks. Newly added are the tools
<a class="reference internal" href="supplements/x2sys/x2sys_init.html"><span class="doc">x2sys_init</span></a>,
<a class="reference internal" href="supplements/x2sys/x2sys_binlist.html"><span class="doc">x2sys_binlist</span></a>,
<a class="reference internal" href="supplements/x2sys/x2sys_get.html"><span class="doc">x2sys_get</span></a>,
<a class="reference internal" href="supplements/x2sys/x2sys_list.html"><span class="doc">x2sys_list</span></a>,
<a class="reference internal" href="supplements/x2sys/x2sys_put.html"><span class="doc">x2sys_put</span></a>,
<a class="reference internal" href="supplements/x2sys/x2sys_report.html"><span class="doc">x2sys_report</span></a>,
<a class="reference internal" href="supplements/x2sys/x2sys_solve.html"><span class="doc">x2sys_solve</span></a> and
<a class="reference internal" href="supplements/x2sys/x2sys_merge.html"><span class="doc">x2sys_merge</span></a> which extends the
track-management system employed by the mgg supplement to generic track
data of any format. This package represents a new generation of tools
and replaces the old <strong>x_system</strong> package. The package is maintained by
Paul Wessel.</p>
</div>
</div>
<div class="section" id="gmt-file-formats">
<span id="app-file-formats"></span><h1>18. GMT File Formats<a class="headerlink" href="#gmt-file-formats" title="Permalink to this headline">¶</a></h1>
<div class="section" id="table-data">
<h2>18.1. Table data<a class="headerlink" href="#table-data" title="Permalink to this headline">¶</a></h2>
<p>These files have <em>N</em> records which have <em>M</em> fields each. All programs
that handle tables can read multicolumn files. GMT can read both
ASCII, native binary, and netCDF table data.  For other formats (e.g.,
ESRI shapefiles), convert them to GMT/OGR format via GDAL’s ogr2ogr tool
first.</p>
<div class="section" id="ascii-tables">
<h3>18.1.1. ASCII tables<a class="headerlink" href="#ascii-tables" title="Permalink to this headline">¶</a></h3>
<div class="section" id="optional-file-header-records">
<h4>18.1.1.1. Optional file header records<a class="headerlink" href="#optional-file-header-records" title="Permalink to this headline">¶</a></h4>
<p>The first data record may be preceded by one or more header records. Any
records that begins with ‘#’ is considered a header or comment line and
are always processed correctly. If your data file has leading header
records that do <em>not</em> start with ‘#’ then you must make sure to use the
<strong>-h</strong> option and set the parameter <a class="reference internal" href="gmt.conf.html#io-n-header-recs"><span class="std std-ref">IO_N_HEADER_RECS</span></a> in the <a class="reference internal" href="gmt.conf.html"><span class="doc">gmt.conf</span></a> file
(GMT default is one header record if <strong>-h</strong> is given; you may also use
<strong>-h</strong><em>nrecs</em> directly). Fields within a record must be separated by
spaces, tabs, commas, or semi-colons. Each field can be an integer or floating-point
number or a geographic coordinate string using the
[±]dd[:mm[:ss]][W:|S|N|E|w|s|n|e]
format. Thus, 12:30:44.5W, 17.5S, 1:00:05, and 200:45E are all valid
input strings. GMT is expected to handle most CVS (Comma-Separated Values)
files, including numbers given in double quotes.  On output, fields will be separated by the character
given by the parameter <a class="reference internal" href="gmt.conf.html#io-col-separator"><span class="std std-ref">IO_COL_SEPARATOR</span></a>, which by default is a TAB.</p>
</div>
<div class="section" id="optional-segment-header-records">
<h4>18.1.1.2. Optional segment header records<a class="headerlink" href="#optional-segment-header-records" title="Permalink to this headline">¶</a></h4>
<p>When dealing with time- or (<em>x,y</em>)-series it is usually convenient to
have each profile in separate files. However, this may sometimes prove
impractical due to large numbers of profiles. An example is files of
digitized lineations where the number of individual features may range
into the thousands. One file per feature would in this case be
unreasonable and furthermore clog up the directory. GMT provides a
mechanism for keeping more than one profile in a file. Such files are
called <em>multiple segment files</em> and are identical to the ones just
outlined except that they have segment headers interspersed with data
records that signal the start of a new segment. The segment headers may
be of any format, but all must have the same character in the first
column. The unique character is by default ‘&gt;’, but you can
override that by modifying the <a class="reference internal" href="gmt.conf.html#io-segment-marker"><span class="std std-ref">IO_SEGMENT_MARKER</span></a> default setting.
Programs can examine the segment headers to see if they contain <strong>-D</strong>
for a distance value, <strong>-W</strong> and <strong>-G</strong> options for specifying pen and
fill attributes for individual segments, <strong>-Z</strong> to change color via a
CPT, <strong>-L</strong> for label specifications, or <strong>-T</strong> for general-purpose
text descriptions. These settings (and occasionally others) will
override the corresponding command line options. GMT also provides for
two special values for <a class="reference internal" href="gmt.conf.html#io-segment-marker"><span class="std std-ref">IO_SEGMENT_MARKER</span></a> that can make
interoperability with other software packages easier. Choose the marker
<strong>B</strong> to have blank lines recognized as segment breaks, or use <strong>N</strong> to
have data records whose fields equal NaN mean segment breaks (e.g., as
used by Matlab or Octave). When these markers are used then no other
segment header will be considered. Note that <a class="reference internal" href="gmt.conf.html#io-segment-marker"><span class="std std-ref">IO_SEGMENT_MARKER</span></a> can
be set differently for input and output.  Finally, if a segment represents
a closed polygon that is a hole inside another polygon you indicate this
with <strong>-Ph</strong>.  This setting will be read and processed if converting a
file to the OGR format.</p>
</div>
</div>
<div class="section" id="binary-tables">
<h3>18.1.2. Binary tables<a class="headerlink" href="#binary-tables" title="Permalink to this headline">¶</a></h3>
<p>GMT programs also support native binary tables to speed up
input-output for i/o-intensive tasks like gridding and preprocessing.
This is discussed in more detail in section <a class="reference internal" href="#binary-table-i-o-the-b-option">Binary table i/o: The -b option</a>.</p>
</div>
<div class="section" id="netcdf-tables">
<h3>18.1.3. NetCDF tables<a class="headerlink" href="#netcdf-tables" title="Permalink to this headline">¶</a></h3>
<p>More and more programs are now producing binary data in the netCDF
format, and so GMT programs started to support tabular netCDF data
(files containing one or more 1-dimensional arrays) starting with
GMT version 4.3.0. Because of the meta data contained in those files,
reading them is much less complex than reading native binary tables, and
even than ASCII tables. GMT programs will read as many 1-dimensional
columns as are needed by the program, starting with the first
1-dimensional it can find in the file. To specifically specify which
variables are to be read, append the suffix
<strong>?</strong><em>var1</em><strong>/</strong><em>var2</em><strong>/</strong><em>…</em> to the netCDF file name or
add the option <strong>-bic</strong><em>var1</em><strong>/</strong><em>var2</em><strong>/</strong><em>…</em>, where
<em>var1</em>, <em>var2</em>, etc.are the names of the variables to be processed. The
latter option is particularly practical when more than one file is read:
the <strong>-bic</strong> option will apply to all files. Currently, GMT only
reads, but does not write, netCDF tabular data.</p>
</div>
</div>
<div class="section" id="grid-files">
<h2>18.2. Grid files<a class="headerlink" href="#grid-files" title="Permalink to this headline">¶</a></h2>
<p>GMT allows numerous grid formats to be read. In addition to the default
netCDF format it can use binary floating points, short integers, bytes, and
bits, as well as 8-bit Sun raster files (colormap ignored).  Additional
formats may be used by supplying read/write functions and linking these with
the GMT libraries. The source file <code class="docutils literal notranslate"><span class="pre">gmt_customio.c</span></code> has the information
that programmers will need to augment GMT to read custom grid files. See
Section <a class="reference internal" href="#grid-file-format-specifications">Grid file format specifications</a> for more information.</p>
<div class="section" id="netcdf-files">
<h3>18.2.1. NetCDF files<a class="headerlink" href="#netcdf-files" title="Permalink to this headline">¶</a></h3>
<p>By default, GMT stores 2-D grids as COARDS-compliant netCDF files.
COARDS (which stands for Cooperative Ocean/Atmosphere Research Data
Service) is a convention used by many agencies distributing gridded data
for ocean and atmosphere research. Sticking to this convention allows
GMT to read gridded data provided by other institutes and other
programs. Conversely, other general domain programs will be able to read
grids created by GMT. COARDS is a subset of a more extensive
convention for netCDF data called CF-1.5 (Climate and Forecast, version
1.5). Hence, GMT grids are also automatically CF-1.5-compliant.
However, since CF-1.5 has more general application than COARDS, not all
CF-1.5 compliant netCDF files can be read by GMT.</p>
<p>The netCDF grid file in GMT has several attributes (See Table
<a class="reference internal" href="#tbl-netcdf-format"><span class="std std-ref">netcdf-format</span></a>) to describe the content. The routine
that deals with netCDF grid files is sufficiently flexible so that grid files
slightly deviating from the standards used by GMT can also be read.</p>
<table border="1" class="docutils" id="tbl-netcdf-format">
<colgroup>
<col width="24%" />
<col width="76%" />
</colgroup>
<thead valign="bottom">
<tr class="row-odd"><th class="head"><strong>Attribute</strong></th>
<th class="head"><strong>Description</strong></th>
</tr>
</thead>
<tbody valign="top">
<tr class="row-even"><td>&#160;</td>
<td><em>Global attributes</em></td>
</tr>
<tr class="row-odd"><td>Conventions</td>
<td>COARDS, CF-1.5 (optional)</td>
</tr>
<tr class="row-even"><td>title</td>
<td>Title (optional)</td>
</tr>
<tr class="row-odd"><td>source</td>
<td>How file was created (optional)</td>
</tr>
<tr class="row-even"><td>node_offset</td>
<td>0 for gridline node registration (default),
1 for pixel registration</td>
</tr>
<tr class="row-odd"><td>&#160;</td>
<td><em>x- and y-variable attributes</em></td>
</tr>
<tr class="row-even"><td>long_name</td>
<td>Coordinate name (e.g., “Longitude” and “Latitude”)</td>
</tr>
<tr class="row-odd"><td>units</td>
<td>Unit of the coordinate (e.g., “degrees_east” and “degrees_north”)</td>
</tr>
<tr class="row-even"><td>actual range
(or valid range)</td>
<td>Minimum and maximum <em>x</em> and <em>y</em> of region; if absent the
first and last <em>x</em>- and <em>y</em>-values are queried</td>
</tr>
<tr class="row-odd"><td>&#160;</td>
<td><em>z-variable attributes</em></td>
</tr>
<tr class="row-even"><td>long_name</td>
<td>Name of the variable (default: “z”)</td>
</tr>
<tr class="row-odd"><td>units</td>
<td>Unit of the variable</td>
</tr>
<tr class="row-even"><td>scale_factor</td>
<td>Factor to multiply <em>z</em> with (default: 1)</td>
</tr>
<tr class="row-odd"><td>add_offset</td>
<td>Offset to add to scaled <em>z</em> (default: 0)</td>
</tr>
<tr class="row-even"><td>actual_range</td>
<td>Minimum and maximum <em>z</em> (in unpacked units, optional) and <em>z</em></td>
</tr>
<tr class="row-odd"><td>_FillValue
(or missing_value)</td>
<td>Value associated with missing or invalid data points; if absent an
appropriate default value is assumed, depending on data type.</td>
</tr>
</tbody>
</table>
<p>By default, the first 2-dimensional variable in a netCDF file will be read as
the <em>z</em> variable and the coordinate axes <em>x</em> and <em>y</em> will be determined from
the dimensions of the <em>z</em> variable. GMT will recognize whether the <em>y</em>
(latitude) variable increases or decreases. Both forms of data storage are
handled appropriately.</p>
<p>For more information on the use of COARDS-compliant netCDF files, and on how
to load multi-dimensional grids, read Section <a class="reference internal" href="#modifiers-for-coards-compliant-netcdf-files">Modifiers for COARDS-compliant netCDF files</a>.</p>
</div>
<div class="section" id="chunking-and-compression-with-netcdf">
<h3>18.2.2. Chunking and compression with netCDF<a class="headerlink" href="#chunking-and-compression-with-netcdf" title="Permalink to this headline">¶</a></h3>
<p>GMT supports reading and writing of netCDF-4 files since release 5.0.  For
performance reasons with ever-increasing grid sizes, the default output format
of GMT is netCDF-4 with chunking enabled for grids with more than 16384 cells.
Chunking means that the data are not stored sequentially in rows along latitude
but rather split up into tiles.  Figure <a class="reference internal" href="#netcdf-chunking"><span class="std std-ref">Grid split into 3 by 3 chunks</span></a> illustrates
the layout in a chunked netCDF file.  To access a subset of the data (e.g.,
the four blue tiles in the lower left), netCDF only reads those tiles
(“chunks”) instead of extracting data from long rows.</p>
<div class="figure align-center" id="id188">
<span id="netcdf-chunking"></span><img alt="_images/GMT_chunking.png" src="_images/GMT_chunking.png" />
<p class="caption"><span class="caption-text">Grid split into 3 by 3 chunks</span></p>
</div>
<p>Gridded datasets in the earth sciences usually exhibit a strong spatial
dependence (e.g. topography, potential fields, illustrated by blue and white
cells in Figure <a class="reference internal" href="#netcdf-chunking"><span class="std std-ref">Grid split into 3 by 3 chunks</span></a>) and deflation can greatly reduce the
file size and hence the file access time (deflating/inflating is faster than
hard disk I/O).  It is therefore convenient to deflate grids with spatial
dependence (levels 1--3 give the best speed/size-tradeoff).</p>
<p>You may control the size of the chunks of data and compression with the
configuration parameters <a class="reference internal" href="gmt.conf.html#io-nc4-chunk-size"><span class="std std-ref">IO_NC4_CHUNK_SIZE</span></a>
and <a class="reference internal" href="gmt.conf.html#io-nc4-deflation-level"><span class="std std-ref">IO_NC 4_DEFLATION_LEVEL</span></a> as specified in
<a class="reference internal" href="gmt.conf.html"><span class="doc">gmt.conf</span></a> and you can check the netCDF format with <a class="reference internal" href="grdinfo.html"><span class="doc">grdinfo</span></a>.</p>
<p>Classic netCDF files were the <em>de facto</em> standard until netCDF 4.0 was released
in 2008.  Most programs supporting netCDF by now are using the netCDF-4
library and are thus capable of reading netCDF files generated with GMT 5,
this includes official GMT releases since revision 4.5.8.  In rare occasions,
when you have to load netCDF files with old software, you may be forced to
export your grids in the old classic format.  This can be achieved by setting
<a class="reference internal" href="gmt.conf.html#io-nc4-chunk-size"><span class="std std-ref">IO_NC4_CHUNK_SIZE</span></a> to <strong>c</strong>lassic.</p>
<p>Further reading:</p>
<ul class="simple">
<li><a class="reference external" href="http://www.unidata.ucar.edu/software/netcdf/workshops/most-recent/performance/index.html">Unidata NetCDF Workshop: NetCDF Formats and Performance</a></li>
<li><a class="reference external" href="http://www.unidata.ucar.edu/software/netcdf/workshops/most-recent/nc4chunking/WhatIsChunking.html">Unidata NetCDF Workshop: What is Chunking?</a></li>
<li><a class="reference external" href="http://www.hdfgroup.org/pubs/papers/2008-06_netcdf4_perf_report.pdf">HDF NetCDF-4 Performance Report</a></li>
</ul>
</div>
<div class="section" id="gridline-and-pixel-node-registration">
<h3>18.2.3. Gridline and Pixel node registration<a class="headerlink" href="#gridline-and-pixel-node-registration" title="Permalink to this headline">¶</a></h3>
<p>Scanline format means that the data are stored in rows (<em>y</em> = constant)
going from the “top” (<span class="math notranslate nohighlight">\(y = y_{max}\)</span> (north)) to the “bottom”
(<span class="math notranslate nohighlight">\(y = y_{min}\)</span> (south)). Data within each row are ordered from
“left” (<span class="math notranslate nohighlight">\(x = x_{min}\)</span> (west)) to “right” (<span class="math notranslate nohighlight">\(x = x_{max}\)</span>
(east)). The <em>registration</em> signals how the nodes are laid out. The grid
is always defined as the intersections of all
<em>x</em> ( <span class="math notranslate nohighlight">\(x = x_{min}, x_{min} + x_{inc}, x_{min} + 2 \cdot x_{inc}, \ldots, x_{max}\)</span> )
and <em>y</em> ( <span class="math notranslate nohighlight">\(y = y_{min}, y_{min} + y_{inc}, y_{min} + 2 \cdot y_{inc}, \ldots, y_{max}\)</span> )
lines. The two scenarios differ as to which area each data point
represents. The default node registration in GMT is gridline node
registration. Most programs can handle both types, and for some programs
like <a class="reference internal" href="grdimage.html"><span class="doc">grdimage</span></a> a pixel registered file
makes more sense. Utility programs like
<a class="reference internal" href="grdsample.html"><span class="doc">grdsample</span></a> and
<a class="reference internal" href="grdproject.html"><span class="doc">grdproject</span></a> will allow you to
convert from one format to the other;
<a class="reference internal" href="grdedit.html"><span class="doc">grdedit</span></a> can make changes to the grid
header and convert a pixel- to a gridline-registered grid, or <em>vice
versa</em>. The grid registration is determined by the common GMT <strong>-r</strong>
option (see Section <a class="reference internal" href="#grid-registration-the-r-option">Grid registration: The -r option</a>).</p>
</div>
<div class="section" id="boundary-conditions-for-operations-on-grids">
<h3>18.2.4. Boundary Conditions for operations on grids<a class="headerlink" href="#boundary-conditions-for-operations-on-grids" title="Permalink to this headline">¶</a></h3>
<p>GMT has the option to specify boundary conditions in some programs
that operate on grids (e.g.,
<a class="reference internal" href="grdsample.html"><span class="doc">grdsample</span></a>, <a class="reference internal" href="grdgradient.html"><span class="doc">grdgradient</span></a>,
<a class="reference internal" href="grdtrack.html"><span class="doc">grdtrack</span></a>, <a class="reference internal" href="nearneighbor.html"><span class="doc">nearneighbor</span></a>, and
<a class="reference internal" href="grdview.html"><span class="doc">grdview</span></a>, to name a few. The desired
condition can be set with the common GMT option <strong>-n</strong>; see Section
<a class="reference internal" href="#grid-interpolation-parameters-the-n-option">Grid interpolation parameters: The -n option</a>. The boundary conditions come into play when
interpolating or computing derivatives near the limits of the region
covered by the grid. The <em>default</em> boundary conditions used are those
which are “natural” for the boundary of a minimum curvature
interpolating surface. If the user knows that the data are periodic in
<em>x</em> (and/or <em>y</em>), or that the data cover a sphere with <em>x</em>,<em>y</em>
representing <em>longitude</em>,<em>latitude</em>, then there are better choices for
the boundary conditions. Periodic conditions on <em>x</em> (and/or <em>y</em>) are
chosen by specifying <em>x</em> (and/or <em>y</em>) as the boundary condition flags;
global spherical cases are specified using the <em>g</em> (geographical) flag.
Behavior of these conditions is as follows:</p>
<dl class="docutils">
<dt>Periodic</dt>
<dd>conditions on <em>x</em> indicate that the data are periodic in the
distance (<span class="math notranslate nohighlight">\(x_{max} - x_{min}\)</span>) and thus repeat values after
every <span class="math notranslate nohighlight">\(N = (x_{max} - x_{min})/x_{inc}\)</span>. Note that this
implies that in a grid-registered file the values in the first and
last columns are equal, since these are located at
<span class="math notranslate nohighlight">\(x = x_{min}\)</span> and <span class="math notranslate nohighlight">\(x = x_{max}\)</span>, and there are
<em>N + 1</em> columns in the file. This is not the case in a
pixel-registered file, where there are only <em>N</em> and the first
and last columns are located at <span class="math notranslate nohighlight">\(x_{min} + x_{inc}/2\)</span> and
<span class="math notranslate nohighlight">\(x_{max} - x_{inc}/2\)</span>. If <em>y</em> is periodic all the same
holds for <em>y</em>.</dd>
<dt>Geographical</dt>
<dd><p class="first">conditions indicate the following:</p>
<ol class="arabic simple">
<li>If <span class="math notranslate nohighlight">\((x_{max} - x_{min}) \geq 360\)</span> and also 180 modulo
<span class="math notranslate nohighlight">\(x_{inc} = 0\)</span> then a periodic condition is used on
<em>x</em> with a period of 360; else a default condition is used
on the <em>x</em> boundaries.</li>
<li>If condition 1 is true and also <span class="math notranslate nohighlight">\(y_{max} = 90\)</span> then a
“north pole condition” is used at <span class="math notranslate nohighlight">\(y_{max}\)</span>, else a default
condition is used there.</li>
<li>If condition 1 is true and also <span class="math notranslate nohighlight">\(y_{min} = -90\)</span> then a
“south pole condition” is used at <span class="math notranslate nohighlight">\(y_{min}\)</span>, else a default
condition is used there.</li>
</ol>
<p class="last">“Pole conditions” use a 180º phase-shift of the data, requiring 180
modulo <span class="math notranslate nohighlight">\(x_{inc} = 0\)</span>.</p>
</dd>
<dt>Default</dt>
<dd><p class="first">boundary conditions are</p>
<div class="math notranslate nohighlight">
\[\nabla^2 f = \frac{\partial}{\partial n} \nabla^2 f = 0\]</div>
<p>on the boundary, where <span class="math notranslate nohighlight">\(f(x, y)\)</span> is represented by the values
in the grid file, and <span class="math notranslate nohighlight">\(\partial/\partial n\)</span> is the derivative
in the direction normal to a boundary, and</p>
<div class="math notranslate nohighlight">
\[\nabla^2 = \left(\frac{\partial^2}{\partial x^2} + \frac{\partial^2}{\partial y^2}\right)\]</div>
<p class="last">is the two-dimensional Laplacian operator.</p>
</dd>
</dl>
</div>
<div class="section" id="native-binary-grid-files">
<h3>18.2.5. Native binary grid files<a class="headerlink" href="#native-binary-grid-files" title="Permalink to this headline">¶</a></h3>
<p>The old-style native grid file format that was common in earlier version
of GMT is still supported, although the use of netCDF files is
strongly recommended. The file starts with a header of 892 bytes
containing a number of attributes defining the content. The
<a class="reference internal" href="grdedit.html"><span class="doc">grdedit</span></a> utility program will allow you
to edit parts of the header of an existing grid file. The attributes
listed in Table <a class="reference internal" href="#tbl-grdheader"><span class="std std-ref">grdheader</span></a> are contained within the header record
in the order given (except the <em>z</em>-array which is not part of the
header structure, but makes up the rest of the file). As this header was
designed long before 64-bit architectures became available, the jump
from the first three integers to the subsequent doubles in the structure
does not occur on a 16-byte alignment. While GMT handles the reading
of these structures correctly, enterprising programmers must take care
to read this header correctly (see our code for details).</p>
<table border="1" class="docutils" id="tbl-grdheader">
<colgroup>
<col width="39%" />
<col width="61%" />
</colgroup>
<thead valign="bottom">
<tr class="row-odd"><th class="head"><strong>Parameter</strong></th>
<th class="head"><strong>Description</strong></th>
</tr>
</thead>
<tbody valign="top">
<tr class="row-even"><td><strong>int</strong> <em>n_columns</em></td>
<td>Number of nodes in the <em>x</em>-dimension</td>
</tr>
<tr class="row-odd"><td><strong>int</strong> <em>n_rows</em></td>
<td>Number of nodes in the <em>y</em>-dimension</td>
</tr>
<tr class="row-even"><td><strong>int</strong> <em>registration</em></td>
<td>0 for grid line registration, 1 for pixel registration</td>
</tr>
<tr class="row-odd"><td><strong>double</strong> <em>x_min</em></td>
<td>Minimum <em>x</em>-value of region</td>
</tr>
<tr class="row-even"><td><strong>double</strong> <em>x_max</em></td>
<td>Maximum <em>x</em>-value of region</td>
</tr>
<tr class="row-odd"><td><strong>double</strong> <em>y_min</em></td>
<td>Minimum <em>y</em>-value of region</td>
</tr>
<tr class="row-even"><td><strong>double</strong> <em>y_max</em></td>
<td>Maximum <em>y</em>-value of region</td>
</tr>
<tr class="row-odd"><td><strong>double</strong> <em>z_min</em></td>
<td>Minimum <em>z</em>-value in data set</td>
</tr>
<tr class="row-even"><td><strong>double</strong> <em>z_max</em></td>
<td>Maximum <em>z</em>-value in data set</td>
</tr>
<tr class="row-odd"><td><strong>double</strong> <em>x_inc</em></td>
<td>Node spacing in <em>x</em>-dimension</td>
</tr>
<tr class="row-even"><td><strong>double</strong> <em>y_inc</em></td>
<td>Node spacing in <em>y</em>-dimension</td>
</tr>
<tr class="row-odd"><td><strong>double</strong> <em>z_scale_factor</em></td>
<td>Factor to multiply <em>z</em>-values after read</td>
</tr>
<tr class="row-even"><td><strong>double</strong> <em>z_add_offset</em></td>
<td>Offset to add to scaled <em>z</em>-values</td>
</tr>
<tr class="row-odd"><td><strong>char</strong> <em>x_units</em>[80]</td>
<td>Units of the <em>x</em>-dimension</td>
</tr>
<tr class="row-even"><td><strong>char</strong> <em>y_units</em>[80]</td>
<td>Units of the <em>y</em>-dimension</td>
</tr>
<tr class="row-odd"><td><strong>char</strong> <em>z_units</em>[80]</td>
<td>Units of the <em>z</em>-dimension</td>
</tr>
<tr class="row-even"><td><strong>char</strong> <em>title</em>[80]</td>
<td>Descriptive title of the data set</td>
</tr>
<tr class="row-odd"><td><strong>char</strong> <em>command</em>[320]</td>
<td>Command line that produced the grid file</td>
</tr>
<tr class="row-even"><td><strong>char</strong> <em>remark</em>[160]</td>
<td>Any additional comments</td>
</tr>
<tr class="row-odd"><td><strong>float</strong> <em>z</em>[n_columns*n_rows]</td>
<td>1-D array with <em>z</em>-values in scanline format</td>
</tr>
</tbody>
</table>
</div>
</div>
<div class="section" id="sun-raster-files">
<h2>18.3. Sun raster files<a class="headerlink" href="#sun-raster-files" title="Permalink to this headline">¶</a></h2>
<p>The Sun raster file format consists of a header followed by a series of
unsigned 1-byte integers that represents the bit-pattern. Bits are
scanline oriented, and each row must contain an even number of bytes.
The predefined 1-bit patterns in GMT have dimensions of 64 by 64, but
other sizes will be accepted when using the <strong>-Gp|P</strong> option. The Sun
header structure is outline in Table <a class="reference internal" href="#tbl-sunheader"><span class="std std-ref">sunheader</span></a>.</p>
<table border="1" class="docutils" id="tbl-sunheader">
<colgroup>
<col width="42%" />
<col width="58%" />
</colgroup>
<thead valign="bottom">
<tr class="row-odd"><th class="head"><strong>Parameter</strong></th>
<th class="head"><strong>Description</strong></th>
</tr>
</thead>
<tbody valign="top">
<tr class="row-even"><td><strong>int</strong> <em>ras_magic</em></td>
<td>Magic number</td>
</tr>
<tr class="row-odd"><td><strong>int</strong> <em>ras_width</em></td>
<td>Width (pixels) of image</td>
</tr>
<tr class="row-even"><td><strong>int</strong> <em>ras_height</em></td>
<td>Height (pixels) of image</td>
</tr>
<tr class="row-odd"><td><strong>int</strong> <em>ras_depth</em></td>
<td>Depth (1, 8, 24, 32 bits) of pixel</td>
</tr>
<tr class="row-even"><td><strong>int</strong> <em>ras_length</em></td>
<td>Length (bytes) of image</td>
</tr>
<tr class="row-odd"><td><strong>int</strong> <em>ras_type</em></td>
<td>Type of file; see RT_ below</td>
</tr>
<tr class="row-even"><td><strong>int</strong> <em>ras_maptype</em></td>
<td>Type of colormap; see RMT_ below</td>
</tr>
<tr class="row-odd"><td><strong>int</strong> <em>ras_maplength</em></td>
<td>Length (bytes) of following map</td>
</tr>
</tbody>
</table>
<p>After the header, the color map (if <em>ras_maptype</em> is not RMT_NONE)
follows for <em>ras_maplength</em> bytes, followed by an image of
<em>ras_length</em> bytes. Some related definitions are given in
Table <a class="reference internal" href="#tbl-sundef"><span class="std std-ref">sundef</span></a>.</p>
<table border="1" class="docutils" id="tbl-sundef">
<colgroup>
<col width="33%" />
<col width="67%" />
</colgroup>
<thead valign="bottom">
<tr class="row-odd"><th class="head"><strong>Macro name</strong></th>
<th class="head"><strong>Description</strong></th>
</tr>
</thead>
<tbody valign="top">
<tr class="row-even"><td>RAS_MAGIC</td>
<td>0x59a66a95</td>
</tr>
<tr class="row-odd"><td>RT_STANDARD</td>
<td>1 (Raw pixrect image in 68000 byte order)</td>
</tr>
<tr class="row-even"><td>RT_BYTE_ENCODED</td>
<td>2 (Run-length compression of bytes)</td>
</tr>
<tr class="row-odd"><td>RT_FORMAT_RGB</td>
<td>3 ([X]RGB instead of [X]BGR)</td>
</tr>
<tr class="row-even"><td>RMT_NONE</td>
<td>0 (ras_maplength is expected to be 0)</td>
</tr>
<tr class="row-odd"><td>RMT_EQUAL_RGB</td>
<td>1 (red[ras_maplength/3],green[],blue[])</td>
</tr>
</tbody>
</table>
<p>Numerous public-domain programs exist, such as <strong>xv</strong> and
<strong>convert</strong> (in the GraphicsMagick or ImageMagick package), that will translate between
various raster file formats such as tiff, gif, jpeg, and Sun raster.
Raster patterns may be created with GMT plotting tools by generating
<em>PostScript</em> plots that can be rasterized by ghostscript and
translated into the right raster format.</p>
</div>
</div>
<div class="section" id="including-gmt-graphics-into-your-documents">
<span id="include-gmt-graphics"></span><h1>19. Including GMT Graphics into your Documents<a class="headerlink" href="#including-gmt-graphics-into-your-documents" title="Permalink to this headline">¶</a></h1>
<p>Now that you made some nice graphics with GMT, it is time to add them
to a document, an article, a report, your dissertation, a poster, a web
page, or a presentation. Of course, you could try the old-fashioned
scissors and glue stick. More likely, you want to incorporate your
graphics electronically into the document. Depending on the application,
the GMT <em>PostScript</em> file will need to be converted to Encapsulated
<em>PostScript</em> (EPS), Portable Document Format (PDF), or some raster
format (e.g., JPEG, PNG, or TIFF) in order to incorporate them into the
document.</p>
<ul class="simple">
<li>When creating a document intended for printing (article,
dissertation, or poster) it is best to preserve the scalable vector
characteristics of the <em>PostScript</em> file. Many applications can
directly incorporate <em>PostScript</em> in the form of EPS files. Modern
programs will often allow the inclusion of PDF files. Either way, the
sharpness of lines and fonts will be preserved and can be scaled up
or down as required.</li>
<li>When the aim is to display the graphics on a computer screen or
present it using a projector, it is wise to convert the
<em>PostScript</em> into a raster format. Although applications like
PowerPoint can do this for you, you can best take the
conversion into your own hands for the best results.</li>
</ul>
<p>A large number of questions to the GMT-Help mailing list are related to
these rendering issues, showing that something as seemingly
straightforward as incorporating a <em>PostScript</em> file into a document is
a far from trivial exercise. This Chapter will show how to include
GMT graphics into documents and how to achieve the best quality results.</p>
<div class="section" id="making-gmt-encapsulated-postscript-files">
<h2>19.1. Making GMT Encapsulated <em>PostScript</em> Files<a class="headerlink" href="#making-gmt-encapsulated-postscript-files" title="Permalink to this headline">¶</a></h2>
<p>GMT produces freeform <em>PostScript</em> files. Note that a freeform
<em>PostScript</em> file may contain special operators (such as
<code class="docutils literal notranslate"><span class="pre">Setpagedevice</span></code>) that is specific to printers (e.g., selection of
paper tray). Some previewers may not
understand these valid instructions and may fail to image the file.
Also, embedding freeform <em>PostScript</em> with such instructions in it into
a larger document can cause printing to fail. While you could choose
another viewer (we recommend <strong>ghostview</strong>) to view single plots
prepared by GMT, it is generally wiser to convert <em>PostScript</em> to EPS
output when you are creating a plot intended for inclusion into a larger
document. Some programs (and some publishers as well) do not allow the
use of instructions like <code class="docutils literal notranslate"><span class="pre">Setpagedevice</span></code> as part of embedded graphics.</p>
<p>An EPS file that is to be placed into another document needs to have
correct bounding box parameters. These are found in the
<em>PostScript</em> Document Comment %%BoundingBox. Applications that generate
EPS files should set these parameters correctly. Because GMTmakes
the <em>PostScript</em> files on the fly, often with several overlays, it is
not possible to do so accurately. Therefore, if you need and EPS version
with a “tight” BoundingBox you need to post-process your
<em>PostScript</em> file. There are several ways in which this can be
accomplished.</p>
<ul>
<li><p class="first">Programs such as Adobe Illustrator, Aldus Freehand, and
Corel Draw will allow you to edit the BoundingBox graphically.</p>
</li>
<li><p class="first">A command-line alternative is to use freely-available program
<strong>epstool</strong> from the makers of Aladdin ghostscript. Running</p>
<blockquote>
<div><div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>epstool -c -b myplot.ps
</pre></div>
</div>
</div></blockquote>
<p>should give a tight BoundingBox; <strong>epstool</strong> assumes the plot is
page size and not a huge poster.</p>
</li>
<li><p class="first">Another option is to use <strong>ps2epsi</strong> which also comes with the
ghostscript package. Running</p>
<blockquote>
<div><div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>ps2epsi myplot.ps myplot.eps
</pre></div>
</div>
</div></blockquote>
<p>should also do the trick. The downside is that this program adds an
“image” of the plot in the preamble of the EPS file, thus increasing
the file size significantly. This image is a rough rendering of your
<em>PostScript</em> graphics that some programs will show on screen while
you are editing your document. This image is basically a placeholder
for the <em>PostScript</em> graphics that will actually be printed.</p>
</li>
<li><p class="first">However, the preferred option is to use the GMT utility
<a class="reference internal" href="psconvert.html"><span class="doc">psconvert</span></a>. Its <strong>-A</strong> option will
figure out the tightest BoundingBox, again using ghostscript in
the background. For example, running</p>
<blockquote>
<div><div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>gmt psconvert -A -Te myplot.ps
</pre></div>
</div>
</div></blockquote>
<p>will convert the <em>PostScript</em> file <code class="docutils literal notranslate"><span class="pre">myplot.ps</span></code> into an encapsulated
<em>PostScript</em> file <code class="docutils literal notranslate"><span class="pre">myplot.eps</span></code> which is exactly cropped to the tightest possible
BoundingBox.</p>
</li>
</ul>
<p>If you do not want to modify your illustration but just include it in a
text document: many word processors (such as Microsoft Word  or Apple Pages) will let you include a
<em>PostScript</em> file that you may place but not edit. Newer versions of
those programs also allow you to include PDF versions of your graphics.
Except for Pages, you will not be able to view the EPS figure
on-screen, but it will print correctly.</p>
</div>
<div class="section" id="converting-gmt-postscript-to-pdf-or-raster-images">
<h2>19.2. Converting GMT <em>PostScript</em> to PDF or raster images<a class="headerlink" href="#converting-gmt-postscript-to-pdf-or-raster-images" title="Permalink to this headline">¶</a></h2>
<p>Since Adobe’s PDF (Portable Document Format) seems to have become the
<em>de facto</em> standard for vector graphics, you are often well off
converting GMT produced <em>PostScript</em> files to PDF. Being both vector
formats (i.e., they basically describe all objects, text and graphics as
lines and curves), such conversion sounds awfully straightforward and
not worth a full section in this document. But experience has shown
differently, since most converters cut corners by using the same tool
(Aladdin’s ghostscript) with basic default options that are not
devised to produce the best quality PDF files.</p>
<p>For some applications it is practical or even essential that you convert
your <em>PostScript</em> file into a raster format, such as GIF (Graphics
Interchange Format), TIFF (Tagged Image File Format), PNG (Portable
Network Graphics), or JPEG (Joint Photographic Experts Group). A web
page is better served with a raster image that will immediately show on
a web browser, than with a <em>PostScript</em> file that needs to be downloaded
to view, despite the better printing quality of the <em>PostScript</em> image.
A less obvious reason to convert your image to a raster format is to
by-pass PowerPoint’s rendering engine in case you want to embed
the image into a presentation.</p>
<p>The are a number of programs that will convert <em>PostScript</em> files to PDF
or raster formats, like Aladdin’s <strong>pstopdf</strong>, pbmplus’ <strong>pstoimg</strong>,
or GraphicsMagick’s and ImageMagick’s <strong>convert</strong>, most of which run ghostscript
behind the scenes. The same is true for viewers like <strong>ghostview</strong> and
Apple’s <strong>Preview</strong>. So a lot of the times when people report that
their <em>PostScript</em> plot does not look right but prints fine, it is the
way ghostscript is used with its most basic settings that is to blame.</p>
<div class="section" id="when-converting-or-viewing-postscript-goes-awry">
<h3>19.2.1. When converting or viewing <em>PostScript</em> goes awry<a class="headerlink" href="#when-converting-or-viewing-postscript-goes-awry" title="Permalink to this headline">¶</a></h3>
<p>Here are some notorious pitfalls with ghostscript (and other
rendering programs for that matter).</p>
<dl class="docutils">
<dt>Rendering.</dt>
<dd>When you are converting to a raster format, make sure you use a high
enough resolution so that the pixels do not show when it is enlarged
onto a screen or using a projector. The right choice of resolution
depends on the application, but do not feel limited to the default
72 dpi (dots-per-inch) that is offered by most converters.</dd>
<dt>Image compression.</dt>
<dd>There are <em>lossy</em> and <em>non-lossy</em> compressions. A compression
algorithm is called “lossy” when information is lost in the
conversion: there is no way back to get the full original. The
effect can be seen when there are sharp color transitions in your
image: the edges will get blurry in order to allow a more efficient
compression. JPEG uses a lossy compression, PNG is non-lossy, and
TIFF generally does not use compression at all. We therefore
recommend you convert to PNG if you need to rasterize your plot, and
leave JPEG to photographs.</dd>
<dt>Embedded image compression.</dt>
<dd>When your GMT plot includes objects produced by
<a class="reference internal" href="grdimage.html"><span class="doc">grdimage</span></a>, <a class="reference internal" href="psimage.html"><span class="doc">psimage</span></a> or
<a class="reference internal" href="pslegend.html"><span class="doc">pslegend</span></a>, they are seen as
“images”. The default options of ghostscript will use a
<em>lossy</em> compression (similar to JPEG) on those images when
converting them to PDF objects. This can be avoided, however, by
inhibiting the compression altogether, or using the non-lossy
<em>flate</em> compression, similar to the one used in the old
<strong>compress</strong> program. This compression is fully reversible, so
that your image does not suffer any loss.</dd>
<dt>Auto-rotation.</dt>
<dd>The ghostscript engine has the annoying habit to automatically
rotate an image produced with portrait orientation (using the <strong>-P</strong>
option) so that the height is always larger than the width. So if
you have an image that was printed in portrait mode but happens to
have a width larger than height (for example a global map), it would
suddenly get rotated. Again, this function needs to be switched off.
Apple’s Preview uses the ghostscript engine and suffers
from the same annoying habit. Oddly enough, ghostscript does
not force landscape plots to be “horizontal”.</dd>
<dt>Anti-aliasing.</dt>
<dd><p class="first">This is not something to worry about when converting to PDF, but
certainly when producing raster images (discussed below).
<em>Anti-aliasing</em> in this context means that the rendering tries to
avoid <em>aliasing</em>, for example, sampling only the blacks in a
black-and-white hachure. It does so by first oversampling the image
and then using “gray-shades” when a target pixel is only partially
white or black.</p>
<p>Clearly, this can lead to some unwanted results. First, all edges
and lines get blurry and second, the assumption of a white
background causes the gray shades to stand out when transferring the
image to background with a different color (like the popular
sleep-inducing blue in PowerPoint presentations). A more
surprising effect of anti-aliasing is that the seams between tiles
that make up the land mask when using
<a class="reference internal" href="pscoast.html"><span class="doc">pscoast</span></a> will become visible. The
anti-aliasing somehow decides to blur the edges of all polygons,
even when they are seamlessly connected to other polygons.</p>
<p class="last">It is therefore wise to overrule the default anti-aliasing option
and over-sample the image yourself by choosing a higher resolution.</p>
</dd>
<dt>Including fonts.</dt>
<dd>When you are producing print-ready copy to publishers, they will
often (and justifiably) ask that you include all fonts in your PDF
document. Again, ghostscript (and all converters relying on
that engine) will not do so by default.</dd>
</dl>
</div>
<div class="section" id="using-psconvert">
<h3>19.2.2. Using <a class="reference internal" href="psconvert.html"><span class="doc">psconvert</span></a><a class="headerlink" href="#using-psconvert" title="Permalink to this headline">¶</a></h3>
<p>The remedy to all the problems mentioned in the previous section is
readily available to you in the form of the GMT utility
<a class="reference internal" href="psconvert.html"><span class="doc">psconvert</span></a>. It is designed to provide
the best quality PDF and raster files using ghostscript as a
rendering engine. The program <a class="reference internal" href="psconvert.html"><span class="doc">psconvert</span></a> avoids anti-aliasing and
lossy compression techniques that are default to ghostscript and
includes the fonts into the resulting PDF file to ensure portability. By
default the fonts are rendered at 720 dots-per-inch in a PDF file and
images are sampled to 300 dpi, but that can be changed with the <strong>-E</strong>
option. Simply run</p>
<blockquote>
<div><div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>gmt psconvert -A -P -Tf *.ps
</pre></div>
</div>
</div></blockquote>
<p>to convert all <em>PostScript</em> files to PDF while cropping it to the
smallest possible BoundingBox. Or use the <strong>-Tg</strong> option to convert your
files to PNG.</p>
<p>The <strong>-P</strong> option of <a class="reference internal" href="psconvert.html"><span class="doc">psconvert</span></a> may
also come in handy. When you have <em>not</em> supplied the <strong>-P</strong> option in
your first GMT plot command, your plot will be in Landscape mode. That
means that the plot will be rotated 90º (anti-clockwise) to fit
on a Portrait mode page when coming out of the printer. The <strong>-P</strong>
option of <a class="reference internal" href="psconvert.html"><span class="doc">psconvert</span></a> will undo that
rotation, so that you do not have to do so within your document. This
will only affect Landscape plots; Portrait plots will not be rotated.
We should note that the <strong>-A</strong> option in <a class="reference internal" href="psconvert.html"><span class="doc">psconvert</span></a> has many modifiers
that can be used to control background color, framing, padding, and overall
scaling of the result.</p>
</div>
</div>
<div class="section" id="examples">
<h2>19.3. Examples<a class="headerlink" href="#examples" title="Permalink to this headline">¶</a></h2>
<div class="section" id="gmt-graphics-in-latex">
<h3>19.3.1. GMT graphics in LaTeX<a class="headerlink" href="#gmt-graphics-in-latex" title="Permalink to this headline">¶</a></h3>
<p>To add the graphics into a LaTeX document we use the
<code class="docutils literal notranslate"><span class="pre">\includegraphics</span></code> command supplied by the package. In the preamble of
your LaTeX document you will need to include the line</p>
<blockquote>
<div><div class="highlight-bash notranslate"><div class="highlight"><pre><span></span><span class="se">\u</span>sepackage<span class="o">{</span>graphicx<span class="o">}</span>
</pre></div>
</div>
</div></blockquote>
<p>The inclusion of the graphics will probably be inside a floating figure
environment; something like this</p>
<blockquote>
<div><div class="highlight-bash notranslate"><div class="highlight"><pre><span></span><span class="se">\b</span>egin<span class="o">{</span>figure<span class="o">}</span>
   <span class="se">\i</span>ncludegraphics<span class="o">{</span>myplot<span class="o">}</span>
   <span class="se">\c</span>aption<span class="o">{</span>This is my first plot in <span class="se">\L</span>aTeX.<span class="o">}</span>
   <span class="se">\l</span>abel<span class="o">{</span>fig:myplot<span class="o">}</span>
<span class="se">\e</span>nd<span class="o">{</span>figure<span class="o">}</span>
</pre></div>
</div>
</div></blockquote>
<p>Note that the <code class="docutils literal notranslate"><span class="pre">\includegraphics</span></code> command does not require you to add
the suffix <code class="docutils literal notranslate"><span class="pre">.pdf</span></code> to the file name. If you run <strong>pdflatex</strong>, it will
look automatically for <code class="docutils literal notranslate"><span class="pre">myplot.pdf</span></code>. If you run <strong>latex</strong>, it will use <code class="docutils literal notranslate"><span class="pre">myplot.eps</span></code> instead.</p>
<p>You can scale your plot using the options <code class="docutils literal notranslate"><span class="pre">width=</span></code>, <code class="docutils literal notranslate"><span class="pre">height=</span></code>, or
<code class="docutils literal notranslate"><span class="pre">scale=</span></code>. In addition, if your original graphics was produced in
Landscape mode (i.e., you did <em>not</em> use GMT’s <strong>-P</strong> option: not
while plotting, nor in <a class="reference internal" href="psconvert.html"><span class="doc">psconvert</span></a>),
you will need to rotate the plot as well. For example,</p>
<blockquote>
<div><div class="highlight-bash notranslate"><div class="highlight"><pre><span></span><span class="se">\i</span>ncludegraphics<span class="o">[</span><span class="nv">angle</span><span class="o">=</span>-90,width<span class="o">=</span><span class="m">0</span>.8<span class="se">\t</span>extwidth<span class="o">]{</span>myplot<span class="o">}</span>
</pre></div>
</div>
</div></blockquote>
<p>will rotate the image 90º clockwise and scale it such that its width
(after rotation) will be 80% of the width of the text column.</p>
</div>
<div class="section" id="gmt-graphics-in-powerpoint">
<h3>19.3.2. GMT graphics in <strong>PowerPoint</strong><a class="headerlink" href="#gmt-graphics-in-powerpoint" title="Permalink to this headline">¶</a></h3>
<div class="figure align-center" id="id189">
<span id="rendering"></span><a class="reference internal image-reference" href="_images/rendering.png"><img alt="_images/rendering.png" src="_images/rendering.png" style="width: 360.0px; height: 270.0px;" /></a>
<p class="caption"><span class="caption-text">Examples of rendered images in a PowerPoint presentation</span></p>
</div>
<div class="figure align-center" id="id190">
<span id="powerpoint-dialogue"></span><a class="reference internal image-reference" href="_images/formatpicture.png"><img alt="_images/formatpicture.png" src="_images/formatpicture.png" style="width: 272.5px; height: 258.0px;" /></a>
<p class="caption"><span class="caption-text">PowerPoint’s Format Picture dialogue to set scale and rotation.</span></p>
</div>
<p>In Figure <a class="reference internal" href="#rendering"><span class="std std-ref">Rendered images</span></a> we have attempted to include
Example <a class="reference internal" href="gallery/ex20.html#example-20"><span class="std std-ref">(20) Custom plot symbols</span></a> into a PowerPoint presentation.
First the <em>PostScript</em> file was converted to PDF (using
<a class="reference internal" href="psconvert.html"><span class="doc">psconvert</span></a>), then loaded into
PowerPoint and the white background color was made transparent
using the formatting toolbar (shown on the left side of
Figure <a class="reference internal" href="#rendering"><span class="std std-ref">Rendered images</span></a>). Clearly, when we let PowerPoint
do the rendering, we do not get the best result:</p>
<ul class="simple">
<li>The anti-aliasing causes the tiles that make up the land to stand
out. This is because the anti-aliasing algorithm blurs all edges,
even when the tiles join seamlessly.</li>
<li>The background color was assumed to be white, hence the text is
“smoothed” using gray shades. Instead, shades of blue which would be
appropriate for the background we are using.</li>
</ul>
<p>On the central column of Figure <a class="reference internal" href="#rendering"><span class="std std-ref">Rendered images</span></a> we have
included PNG
versions of a portion of the same example. This shows the workings of
anti-aliasing and different resolutions. All samples were obtained with
<strong>convert</strong>. The one on the top uses all default settings, resulting
in an anti-aliased image at 72 dpi resolution (very much like the PDF
included directly into PowerPoint).</p>
<p>Just switching anti-aliasing off (middle) is clearly not an option
either. It is true that we got rid of the gray blurring and the seams
between the tiles, but without anti-aliasing the image becomes very
blocky. The solution is to render the image at a higher resolution
(e.g., 300 dpi) without anti-aliasing and then shrink the image to the
appropriate size (bottom of the central column in
Figure <a class="reference internal" href="#rendering"><span class="std std-ref">Rendered images</span></a>). The scaling, rotation as well as
the selection
of the transparent color can be accomplished through the “Formatting”
tool bar and the “Format Picture” dialogue box of PowerPoint
(Figure <a class="reference internal" href="#powerpoint-dialogue"><span class="std std-ref">PowerPoint dialogue box</span></a>), which can be
found by double clicking the
included image (or selecting and right-clicking or control-clicking on a
one-button mouse).</p>
</div>
</div>
<div class="section" id="concluding-remarks">
<h2>19.4. Concluding remarks<a class="headerlink" href="#concluding-remarks" title="Permalink to this headline">¶</a></h2>
<p>These examples do not constitute endorsements of the products mentioned
above; they only represent our limited experience with adding
<em>PostScript</em> to various types of documents. For other solutions and
further help, please post messages to the GMT user forum.</p>
</div>
</div>
<div class="section" id="predefined-bit-and-hachure-patterns-in-gmt">
<h1>20. Predefined Bit and Hachure Patterns in GMT<a class="headerlink" href="#predefined-bit-and-hachure-patterns-in-gmt" title="Permalink to this headline">¶</a></h1>
<p>GMT provides 90 different bit and hachure patterns that can be
selected with the <strong>-Gp</strong> or <strong>-GP</strong> option in most plotting programs.
The left side of each image was created using <strong>-Gp</strong>, the right side
shows the inverted version using <strong>-GP</strong>. These patterns are reproduced
below at 300 dpi using the default black and white shades.</p>
<div class="figure align-center">
<a class="reference internal image-reference" href="_images/GMT_App_E.png"><img alt="_images/GMT_App_E.png" src="_images/GMT_App_E.png" style="width: 500px;" /></a>
</div>
</div>
<div class="section" id="chart-of-octal-codes-for-characters">
<span id="chart-octal-codes-for-chars"></span><h1>21. Chart of Octal Codes for Characters<a class="headerlink" href="#chart-of-octal-codes-for-characters" title="Permalink to this headline">¶</a></h1>
<p>The characters and their octal codes in the Standard and ISOLatin1
encoded fonts are shown in
Figure <a class="reference internal" href="#octal-codes-stand-iso"><span class="std std-ref">Octal codes for Standard and ISO</span></a>. Light red areas signify
codes reserved for control characters. In order to use all the extended
characters (shown in the light green boxes) you need to set
<a class="reference internal" href="gmt.conf.html#ps-char-encoding"><span class="std std-ref">PS_CHAR_ENCODING</span></a> to Standard+ or ISOLatin1+ in your <a class="reference internal" href="gmt.conf.html"><span class="doc">gmt.conf</span></a> file <a class="footnote-reference" href="#id94" id="id48">[34]</a>.</p>
<div class="figure align-center" id="id191">
<span id="octal-codes-stand-iso"></span><a class="reference internal image-reference" href="_images/GMT_App_F_stand+_iso+.png"><img alt="_images/GMT_App_F_stand+_iso+.png" src="_images/GMT_App_F_stand+_iso+.png" style="width: 500px;" /></a>
<p class="caption"><span class="caption-text">Octal codes and corresponding symbols for StandardEncoding (left) and ISOLatin1Encoding (right) fonts.</span></p>
</div>
<p>The chart for the Symbol character set (GMT font number 12) and Pifont
ZapfDingbats character set (font number 34) are presented in
Figure <a class="reference internal" href="#octal-codes-symbol-zap"><span class="std std-ref">Octal codes for Symbol and ZapfDingbats</span></a> below. The octal code
is obtained by appending the column value to the \??
value, e.g., <span class="math notranslate nohighlight">\(\partial\)</span> is \266 in the Symbol
font. The euro currency symbol is \240 in the Symbol
font and will print if your printer supports it (older printer’s
firmware will not know about the euro).</p>
<div class="figure align-center" id="id192">
<span id="octal-codes-symbol-zap"></span><a class="reference internal image-reference" href="_images/GMT_App_F_symbol_dingbats.png"><img alt="_images/GMT_App_F_symbol_dingbats.png" src="_images/GMT_App_F_symbol_dingbats.png" style="width: 500px;" /></a>
<p class="caption"><span class="caption-text">Octal codes and corresponding symbols for Symbol (left) and ZapfDingbats (right) fonts.</span></p>
</div>
</div>
<div class="section" id="postscript-fonts-used-by-gmt">
<h1>22. <em>PostScript</em> Fonts Used by GMT<a class="headerlink" href="#postscript-fonts-used-by-gmt" title="Permalink to this headline">¶</a></h1>
<p>GMT uses the standard 35 fonts that come with most
<em>PostScript</em> laserwriters. If your printer does not support some of
these fonts, it will automatically substitute the default font (which is
usually Courier). The following is a list of the GMT fonts:</p>
<div class="figure align-center" id="id193">
<a class="reference internal image-reference" href="_images/GMT_App_G.png"><img alt="_images/GMT_App_G.png" src="_images/GMT_App_G.png" style="width: 500px;" /></a>
<p class="caption"><span class="caption-text">The standard 35 <em>PostScript</em> fonts recognized by GMT.</span></p>
</div>
<p>For the special fonts Symbol (12) and ZapfDingbats (34), see the octal
charts in Chapter <a class="reference internal" href="#chart-of-octal-codes-for-characters">Chart of Octal Codes for Characters</a>. When specifying fonts in GMT, you can
either give the entire font name <em>or</em> just the font number listed in
this table. To change the fonts used in plotting basemap frames, see the
man page for <a class="reference internal" href="gmt.conf.html"><span class="doc">gmt.conf</span></a>. For direct
plotting of text-strings, see the man page for <a class="reference internal" href="pstext.html"><span class="doc">pstext</span></a>.</p>
<div class="section" id="using-non-default-fonts-with-gmt">
<span id="non-default-fonts"></span><h2>22.1. Using non-default fonts with GMT<a class="headerlink" href="#using-non-default-fonts-with-gmt" title="Permalink to this headline">¶</a></h2>
<p>To add additional fonts that you may have purchased or that are
available freely in the internet or at your institution, see the
instructions in the <code class="docutils literal notranslate"><span class="pre">PSL_custom_fonts.txt</span></code> under the <code class="docutils literal notranslate"><span class="pre">share/postscriptlight</span></code> directory and continue reading. GMT does
not read or process any font files and thus does not know anything about
installed fonts and their metrics. In order to use extra fonts in
GMT you need to specify the <em>PostScript</em> name of the relevant fonts in
the file <code class="docutils literal notranslate"><span class="pre">PSL_custom_fonts.txt</span></code>. You can either edit the existing file distributed with
GMT to make the changes global or you can create a new file in the
current working directory, e.g.,</p>
<blockquote>
<div><div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>LinBiolinumO      <span class="m">0</span>.700    <span class="m">0</span>
LinLibertineOB    <span class="m">0</span>.700    <span class="m">0</span>
</pre></div>
</div>
</div></blockquote>
<p>The format is a space delimited list of the <em>PostScript</em> font name, the
font height-point size-ratio, and a boolean variable that tells GMT to
re-encode the font (if set to zero). The latter has to be set to zero as
additional fonts will most likely not come in standard
<em>PostScript</em> encoding. GMT determines how tall typical annotations
might be from the font size ratio so that the vertical position of
labels and titles can be adjusted to a more uniform typesetting. Now,
you can set the GMT font parameters to your non-standard fonts:</p>
<blockquote>
<div><div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>gmt <span class="nb">set</span> FONT              LinBiolinumO <span class="se">\</span>
        FONT_TITLE        28p,LinLibertineOB <span class="se">\</span>
        PS_CHAR_ENCODING  ISO-8859-1 <span class="se">\</span>
        MAP_DEGREE_SYMBOL degree
</pre></div>
</div>
</div></blockquote>
<p>After setting the encoding and the degree symbol, the configuration part
for GMT is finished and you can proceed to create GMT-maps as usual.
An example script is discussed in Example <a class="reference internal" href="gallery/ex31.html#example-31"><span class="std std-ref">(31) Using non-default fonts in PostScript</span></a>.</p>
<div class="section" id="embedding-fonts-in-postscript-and-pdf">
<h3>22.1.1. Embedding fonts in <em>PostScript</em> and PDF<a class="headerlink" href="#embedding-fonts-in-postscript-and-pdf" title="Permalink to this headline">¶</a></h3>
<p>If you have Type 1 fonts in PFA (Printer Font ASCII) format you can
embed them directly by copying them at the very top of your
<em>PostScript</em> file, before even the %!PS header comment. PFB (Printer
Font Binary), TrueType or OpenType fonts cannot be embedded in
<em>PostScript</em> directly and therefore have to be converted to PFA first.</p>
<p>However, you most likely will have to tell Ghostscript where to
find your custom fonts in order to convert your GMT <em>PostScript</em> plot
to PDF or an image with <a class="reference internal" href="psconvert.html"><span class="doc">psconvert</span></a>.
When you have used the correct <em>PostScript</em> names of the fonts in <code class="docutils literal notranslate"><span class="pre">PSL_custom_fonts.txt</span></code> you
only need to point the <code class="docutils literal notranslate"><span class="pre">GS_FONTPATH</span></code> environment variable to the
directory where the font files can be found and invoke
<a class="reference internal" href="psconvert.html"><span class="doc">psconvert</span></a> in the usual way. Likewise
you can specify Ghostscript’s <code class="docutils literal notranslate"><span class="pre">-sFONTPATH</span></code> option on the
command line with <code class="docutils literal notranslate"><span class="pre">C</span> <span class="pre">-sFONTPATH=/path/to/fontdir</span></code>. Ghostscript,
which is invoked by <a class="reference internal" href="psconvert.html"><span class="doc">psconvert</span></a>, does
not depend on file names. It will automatically find the relevant font
files by their <em>PostScript</em> names and embed and subset them in
PDF-files. This is quite convenient as the document can be displayed and
printed even on other computers when the font is not available locally.
There is no need to convert your fonts as Ghostscript can handle
all Type 1, TrueType and OpenType fonts. Note also, that you do not need
to edit Ghostscript’s Fontmap.</p>
<p>If you do not want or cannot embed the fonts you can convert them to
outlines (shapes with fills) with Ghostscript in the following
way:</p>
<blockquote>
<div><div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>gs -q -dNOCACHE -dSAFER -dNOPAUSE -dBATCH -dNOPLATFONTS <span class="se">\</span>
   -sDEVICE<span class="o">=</span>ps2write -sFONTPATH<span class="o">=</span><span class="s2">&quot;/path/to/fontdir&quot;</span> <span class="se">\</span>
   -sOutputFile<span class="o">=</span>mapWithOutlinedFonts.ps map.ps
</pre></div>
</div>
</div></blockquote>
<p>Note, that this only works with the <em>ps2write</em> device. If you need
outlined fonts in PDF, create the PDF from the converted
<em>PostScript</em> file. Also, <a class="reference internal" href="psconvert.html"><span class="doc">psconvert</span></a>
cannot correctly crop Ghostscript converted <em>PostScript</em> files
anymore. Use Heiko Oberdiek’s instead or crop with
<a class="reference internal" href="psconvert.html"><span class="doc">psconvert</span></a> <strong>-A</strong> <strong>-Te</strong> before (See Example <a class="reference internal" href="gallery/ex31.html#example-31"><span class="std std-ref">(31) Using non-default fonts in PostScript</span></a>).</p>
</div>
<div class="section" id="character-encoding">
<h3>22.1.2. Character encoding<a class="headerlink" href="#character-encoding" title="Permalink to this headline">¶</a></h3>
<p>Since <em>PostScript</em> itself does not support Unicode fonts,
Ghostscript will re-encode the fonts on the fly. You have to make
sure to set the correct <a class="reference internal" href="gmt.conf.html#ps-char-encoding"><span class="std std-ref">PS_CHAR_ENCODING</span></a>
with <a class="reference internal" href="gmtset.html"><span class="doc">gmtset</span></a> and save your
script file with the same character encoding. Alternatively, you can
substitute all non ASCII characters with their corresponding octal
codes, e.g., \265 instead of μ. Note, that <em>PostScript</em> fonts support
only a small range of glyphs and you may have to switch the
<a class="reference internal" href="gmt.conf.html#ps-char-encoding"><span class="std std-ref">PS_CHAR_ENCODING</span></a> within your script.</p>
</div>
</div>
</div>
<div class="section" id="color-space-the-final-frontier">
<span id="color-space"></span><h1>23. Color Space: The Final Frontier<a class="headerlink" href="#color-space-the-final-frontier" title="Permalink to this headline">¶</a></h1>
<p>In this Chapter, we are going to try to explain the relationship
between the RGB, CMYK, and HSV color systems so as to (hopefully) make
them more intuitive. GMT allows users to specify colors in CPTs
in either of these three systems. Interpolation between colors is
performed in either RGB or HSV, depending on the specification in the
CPT. Below, we will explain why this all matters.</p>
<div class="section" id="rgb-color-system">
<h2>23.1. RGB color system<a class="headerlink" href="#rgb-color-system" title="Permalink to this headline">¶</a></h2>
<p>Remember your (parents’) first color television set? Likely it had three
little bright colored squares on it: red, green, and blue. And that is
exactly what each color on the tube is made of: varying levels of red,
green and blue light. Switch all of them off, <em>r=g=b=0</em>, then you
have black. All of them at maximum, <em>r=g=b=255</em>, creates white.
Your computer screen works the same way.</p>
<p>A mix of levels of red, green, and blue creates basically any color
imaginable. In GMT each color can be represented by the triplet
<em>r7g7b</em>. For example, 127/255/0 (half red, full
green, and no blue) creates a color called chartreuse. The color sliders
in the graphics program GIMP are an excellent way to experiment
with colors, since they show you in advance how moving one of the color
sliders will change the color. As Figure <em>(a)</em> of <a class="reference internal" href="#gimp"><span class="std std-ref">Chartreuse in GIMP</span></a>
shows: increase
the red and you will get a more yellow color, while lowering the blue
level will turn it into brown.</p>
<div class="figure align-center" id="id194">
<span id="gimp"></span><a class="reference internal image-reference" href="_images/gimp-sliders+panel.png"><img alt="_images/gimp-sliders+panel.png" src="_images/gimp-sliders+panel.png" style="width: 581.25px; height: 172.5px;" /></a>
<p class="caption"><span class="caption-text">Chartreuse in GIMP. <em>(a)</em> Sliders indicate how the color is altered
when changing the H, S, V, R, G, or B levels. <em>(b)</em> For a constant hue (here 90)
value increases to the right and saturation increases up, so the pure
color is on the top right.</span></p>
</div>
<p>Is chocolate your favorite color, but you do not know the RGB equivalent
values? Then look them up in Figure <a class="reference internal" href="#rgbchart"><span class="std std-ref">RGB chart</span></a> or type
<code class="docutils literal notranslate"><span class="pre">man</span> <span class="pre">gmtcolors</span></code> for a full list. It’s 210/105/30. But GMT makes it easy
on you: you can specify pen, fill, and palette colors by any of the more
than 500 unique colors found in that file.</p>
<p>Are you very web-savvy and work best with hexadecimal color codes as
they are used in HTML? Even that is allowed in GMT. Just start with a
hash mark (<code class="docutils literal notranslate"><span class="pre">#</span></code>) and follow with the 2 hexadecimal characters for red,
green, and blue. For example, you can use <code class="docutils literal notranslate"><span class="pre">#79ff00</span></code> for chartreuse,
<code class="docutils literal notranslate"><span class="pre">#D2691E</span></code> for chocolate.</p>
<div class="figure align-center" id="id195">
<span id="rgbchart"></span><a class="reference internal image-reference" href="_images/GMT_RGBchart_a4.png"><img alt="_images/GMT_RGBchart_a4.png" src="_images/GMT_RGBchart_a4.png" style="width: 700px;" /></a>
<p class="caption"><span class="caption-text">The 555 unique color names that can be used in GMT. Lower, upper, or mixed cases, as well as
the british spelling of grey are allowed. A4, Letter, and Tabloid sized versions of this RGB chart can be
found in the GMT documentation directory.</span></p>
</div>
</div>
<div class="section" id="hsv-color-system">
<h2>23.2. HSV color system<a class="headerlink" href="#hsv-color-system" title="Permalink to this headline">¶</a></h2>
<p>If you have played around with RGB color sliders, you will have noticed
that it is not intuitive to make a chosen color lighter or darker, more
saturated or more gray. It would involve changing three sliders. To make
it easier to manipulate colors in terms of lightness and saturation,
another coordinate system was invented: HSV (hue, saturation, value).
Those terms can be made clear best by looking at the color sliders in
Figure <a class="reference internal" href="#gimp"><span class="std std-ref">Chartreuse in GIMP</span></a><em>a</em>. Hue (running from 0 to 360) gives you the full
spectrum of saturated colors. Saturation (from 0 to 1, or 100%) tells
you how ‘full’ your color is: reduce it to zero and you only have gray
scales. Value (from 0 to 1, or 100%) will bring you from black to a
fully saturated color. Note that “value” is not the same as “intensity”,
or “lightness”, used in other color geometries. “Brilliance” may be the
best alternative word to describe “value”. Apple calls it as
“brightness”, and hence refers to HSB for this color space.</p>
<p>Want more chartreuse or chocolate? You can specify them in GMT as
90-1-1 and 25-0.86-0.82, respectively.</p>
</div>
<div class="section" id="the-color-cube">
<h2>23.3. The color cube<a class="headerlink" href="#the-color-cube" title="Permalink to this headline">¶</a></h2>
<p>We are going to try to give you a geometric picture of color mixing in
RGB and HSV by means of a tour of the RGB cube depicted in
Figure <a class="reference internal" href="gallery/ex11.html#fig-ex11"><span class="std std-ref">The RGB color cube</span></a>. The geometric picture is most
helpful, we think, since HSV are not orthogonal coordinates and not
found from RGB by a simple algebraic transformation. So here goes: Look
at the cube face with black, red, magenta, and blue corners. This is the
<em>g</em> = 0 face. Orient the cube so that you are looking at this face
with black in the lower left corner. Now imagine a right-handed
cartesian (<em>rgb</em>) coordinate system with
origin at the black point; you are looking at the <em>g = 0</em> plane
with <em>r</em> increasing to your right, <em>g</em> increasing away from
you, and <em>b</em> increasing up. Keep this sense of (<em>rgb</em>) as you look at the cube.</p>
<p>Now tip the cube such that the black corner faces down and the white
corner up. When looking from the top, you can see the hue, contoured in
gray solid lines, running around in 360º counter-clockwise. It starts
with shades of red (0), then goes through green (120) and blue (240),
back to red.</p>
<p>On the three faces that are now on the lower side (with the white print)
one of (<em>rgb</em>) is equal to 0. These three
faces meet at the black corner, where <em>r = g = b = 0</em>. On these
three faces the colors are fully saturated: <em>s = 1</em>. The dashed
white lines indicate different levels of <em>v</em>, ranging from 0 to 1
with contours every 0.1.</p>
<p>On the upper three faces (with the black print), one of
(<em>rgb</em>) is equal to the maximum value. These
three faces meet at the white corner, where <em>r = g = b = 255</em>. On
these three faces value is at its maximum: <em>v = 1</em> (or 100%). The
dashed black lines indicate varying levels of saturation: <em>s</em>
ranges from 0 to 1 with contours every 0.1.</p>
<p>Now turn the cube around on its vertical axis (running from the black to
the white corner). Along the six edges that zigzag around the “equator”,
both saturation and value are maximum, so <em>s = v = 1</em>. Twirling
the cube around and tracing the zigzag, you will visit six of the eight
corners of the cube, with changing hue (<em>h</em>): red (0), yellow
(60), green (120), cyan (180), blue (240), and magenta (300). Three of
these are the RGB colors; the other three are the CMY colors which are
the complement of RGB and are used in many color hardcopy devices (see
below). The only cube corners you did not visit on this path are the
black and white corners. They lie on the vertical axis where hue is
undefined and <em>r = g = b</em>. Any point on this axis is a shade of gray.</p>
<p>Let us call the points where <em>s = v = 1</em> (points along the RYGCBM
path described above) the “pure” colors. If we start at a pure color and
we want to whiten it, we can keep <em>h</em> constant and <em>v = 1</em>
while decreasing <em>s</em>; this will move us along one of the cube
faces toward the white point. If we start at a pure color and we want to
blacken it, we can keep <em>h</em> constant and <em>s = 1</em> while
decreasing <em>v</em>; this will move us along one of the cube faces
toward the black point. Any point in (<em>rgb</em>)
space which can be thought of as a mixture of pure color + white, or
pure color + black, is on a face of the cube.</p>
<p>The points in the interior of the cube are a little harder to describe.
The definition for <em>h</em> above works at all points in (non-gray)
(<em>rgb</em>) space, but so far we have only
looked at (<em>s</em>, <em>v</em>) on the cube faces, not inside it. At
interior points, none of (<em>rgb</em>) is equal to
either 0 or 255. Choose such a point, not on the gray axis. Now draw a
line through your point so that the line intersects the gray axis and
also intersects the RYGCBM path of edges somewhere. It is always
possible to construct this line, and all points on this line have the
same hue. This construction shows that any point in RGB space can be
thought of as a mixture of a pure color plus a shade of gray. If we move
along this line away from the gray axis toward the pure color, we are
“purifying” the color by “removing gray”; this move increases the
color’s saturation. When we get to the point where we cannot remove any
more gray, at least one of (<em>rgb</em>) will have
become zero and the color is now fully saturated; <em>s = 1</em>.
Conversely, any point on the gray axis is completely undersaturated, so
that <em>s = 0</em> there. Now we see that the black point is special,
<em>s</em> is both 0 and 1 at the same time. In other words, at the black
point saturation in undefined (and so is hue). The convention is to use
<em>h = s = v = 0</em> at this point.</p>
<p>It remains to define value. To do so, try this: Take your point in RGB
space and construct a line through it so that this line goes through the
black point; produce this line from black past your point until it hits
a face on which <em>v = 1</em>. All points on this line have the same
hue. Note that this line and the line we made in the previous paragraph
are both contained in the plane whose hue is constant. These two lines
meet at some arbitrary angle which varies depending on which point you
chose. Thus HSV is not an orthogonal coordinate system. If the line you
made in the previous paragraph happened to touch the gray axis at the
black point, then these two lines are the same line, which is why the
black point is special. Now, the line we made in this paragraph
illustrates the following: If your chosen point is not already at the
end of the line, where <em>v = 1</em>, then it is possible to move along
the line in that direction so as to increase
(<em>rgb</em>) while keeping the same hue. The
effect this has on a color monitor is to make the color more
“brilliant”, your hue will become “stronger”; if you are already on a
plane where at least one of (<em>rgb</em>) = 255,
then you cannot get a stronger version of the same hue. Thus, <em>v</em>
measures brilliance or strength. Note that it is not quite true to say
that <em>v</em> measures distance away from the black point, because
<em>v</em> is not equal to <span class="math notranslate nohighlight">\(\sqrt{r^2 + g^2 + b^2}/255\)</span>.</p>
<p>Another representation of the HSV space is the color cone illustrated in
Figure <a class="reference internal" href="#hsv-cone"><span class="std std-ref">The HSV color space</span></a>.</p>
<div class="figure align-center" id="id196">
<span id="hsv-cone"></span><a class="reference internal image-reference" href="_images/hsv-cone.png"><img alt="_images/hsv-cone.png" src="_images/hsv-cone.png" style="width: 375.0px; height: 254.0px;" /></a>
<p class="caption"><span class="caption-text">The HSV color space</span></p>
</div>
</div>
<div class="section" id="color-interpolation">
<h2>23.4. Color interpolation<a class="headerlink" href="#color-interpolation" title="Permalink to this headline">¶</a></h2>
<p>From studying the RGB cube, we hope you will have understood that there
are different routes to follow between two colors, depending whether you
are in the RGB or HSV system. Suppose you would make an interpolation
between blue and red. In the RGB system you would follow a path
diagonally across a face of the cube, from 0/0/255 (blue) via 127/0/127
(purple) to 255/0/0 (red). In the HSV system, you would trace two edges,
from 240-1-1 (blue) via 300-1-1 (magenta) to 360-1-1 (red). That is even
assuming software would be smart enough to go the shorter route. More
likely, red will be recorded as 0-1-1, so hue will be interpolated the
other way around, reducing hue from 240 to 0, via cyan, green, and yellow.</p>
<p>Depending on the design of your CPT, you may want to have it
either way. By default, GMT interpolates in RGB space, even when the
original CPT is in the HSV system. However, when you add the
line <code class="docutils literal notranslate"><span class="pre">#COLOR_MODEL=+HSV</span></code> (with the leading ‘+’ sign) in the header of
the CPT, GMT will not only read the color
representation as HSV values, but also interpolate colors in the HSV
system. That means that H, S, and V values are interpolated linearly
between two colors, instead of their respective R, G, and B values.</p>
<p>The top row in Figure <a class="reference internal" href="#color-interpolate"><span class="std std-ref">Interpolating colors</span></a>
illustrates two examples: a blue-white-red scale (the palette in
Chapter <a class="reference internal" href="#of-colors-and-color-legends">Of Colors and Color Legends</a>) interpolated in RGB and the palette interpolated in
HSV. The bottom row of the Figure demonstrates how things can go
terribly wrong when you do the interpolation in the other system.</p>
<div class="figure align-center" id="id197">
<span id="color-interpolate"></span><a class="reference internal image-reference" href="_images/GMT_color_interpolate.png"><img alt="_images/GMT_color_interpolate.png" src="_images/GMT_color_interpolate.png" style="width: 500px;" /></a>
<p class="caption"><span class="caption-text">When interpolating colors, the color system matters. The polar palette on the left needs to
be interpolated in RGB, otherwise hue will change between blue (240) and white (0). The rainbow
palette should be interpolated in HSV, since only hue should change between magenta (300) and red (0).
Diamonds indicate which colors are defined in the palettes; they are fixed, the rest is interpolated.</span></p>
</div>
</div>
<div class="section" id="artificial-illumination">
<h2>23.5. Artificial illumination<a class="headerlink" href="#artificial-illumination" title="Permalink to this headline">¶</a></h2>
<p>GMT uses the HSV system to achieve artificial illumination of colored
images (e.g., <strong>-I</strong> option in <a class="reference internal" href="grdimage.html"><span class="doc">grdimage</span></a>) by changing the saturation
<em>s</em> and value <em>v</em> coordinates of the color. When the intensity is zero
(flat illumination), the data are colored according to the CPT. If
the intensity is non-zero, the color is either lightened or darkened
depending on the illumination. The color is first converted to HSV (if
necessary) and then darkened by moving (<em>sv</em>) toward
(<a class="reference internal" href="gmt.conf.html#color-hsv-min-s"><span class="std std-ref">COLOR_HSV_MIN_S</span></a>, <a class="reference internal" href="gmt.conf.html#color-hsv-min-v"><span class="std std-ref">COLOR_HSV_MIN_V</span></a>)
if the intensity is negative, or lightened by sliding (<em>sv</em>) toward
(<a class="reference internal" href="gmt.conf.html#color-hsv-max-s"><span class="std std-ref">COLOR_HSV_MAX_S</span></a>, <a class="reference internal" href="gmt.conf.html#color-hsv-max-v"><span class="std std-ref">COLOR_HSV_MAX_V</span></a>)
if the illumination is positive. The extremes of the <em>s</em> and <em>v</em> are defined in the
<a class="reference internal" href="gmt.conf.html"><span class="doc">gmt.conf</span></a> file and are usually chosen so the corresponding points are nearly black
(<em>s = 1</em>, <em>v = 0</em>) and white (<em>s = 0</em>, <em>v = 1</em>).
The reason this works is that the HSV system allows movements in color
space which correspond more closely to what we mean by “tint” and
“shade”; an instruction like “add white” is easy in HSV and not so
obvious in RGB.</p>
</div>
<div class="section" id="thinking-in-rgb-or-hsv">
<h2>23.6. Thinking in RGB or HSV<a class="headerlink" href="#thinking-in-rgb-or-hsv" title="Permalink to this headline">¶</a></h2>
<p>The RGB system is understandable because it is cartesian, and we all
learned cartesian coordinates in school. But it doesn’t help us create a
tint or shade of a color; we cannot say, “We want orange, and a lighter
shade of orange, or a less vivid orange”. With HSV we can do this, by
saying, “Orange must be between red and yellow, so its hue is about
<em>h = 30</em>; a less vivid orange has a lesser <em>s</em>, a darker
orange has a lesser <em>v</em>”. On the other hand, the HSV system is a
peculiar geometric construction, more like a cone
(Figure <a class="reference internal" href="#hsv-cone"><span class="std std-ref">The HSV color space</span></a>). It is not an orthogonal coordinate system, and
it is not found by a matrix transformation of RGB; these make it
difficult in some cases too. Note that a move toward black or a move
toward white will change both <em>s</em> and <em>v</em>, in the general
case of an interior point in the cube. The HSV system also doesn’t
behave well for very dark colors, where the gray point is near black and
the two lines we constructed above are almost parallel. If you are
trying to create nice colors for drawing chocolates, for example, you
may be better off guessing in RGB coordinates.</p>
</div>
<div class="section" id="cmyk-color-system">
<h2>23.7. CMYK color system<a class="headerlink" href="#cmyk-color-system" title="Permalink to this headline">¶</a></h2>
<p>Finally, you can imagine that printers work in a different way: they mix
different paints to make a color. The more paint, the darker the color,
which is the reverse of adding more light. Also, mixing more colored
paints does not give you true black, so that means that you really need
four colors to do it right. Open up your color printer and you’ll
probably find four cartridges: cyan, magenta, yellow (often these are
combined into one), and black. They form the CMYK system of colors, each
value running from 0 to 1 (or 100%). In GMT CMYK color coding can be
achieved using <em>c/m/y/k</em> quadruplets.</p>
<p>Obviously, there is no unique way to go from the 3-dimensional RGB
system to the 4-dimensional CMYK system. So, again, there is a lot of
hand waving applied in the transformation. Strikingly, CMYK actually
covers a smaller color space than RGB. We will not try to explain you
the details behind it, just know that there is a transformation needed
to go from the colors on your screen to the colors on your printer. It
might explain why what you see is not necessarily what you get. If you
are really concerned about how your color plots will show up in your PhD
thesis, for example, it might be worth trying to save and print all your
color plots using the CMYK system. Letting GMT do the conversion to
CMYK may avoid some nasty surprises when it comes down to printing. To
specify the color space of your <em>PostScript</em> file, set
<a class="reference internal" href="gmt.conf.html#ps-color-model"><span class="std std-ref">PS_COLOR_MODEL</span></a> in the <a class="reference internal" href="gmt.conf.html"><span class="doc">gmt.conf</span></a> file to RGB, HSV, or CMYK.</p>
</div>
</div>
<div class="section" id="filtering-of-data-in-gmt">
<h1>24. Filtering of Data in GMT<a class="headerlink" href="#filtering-of-data-in-gmt" title="Permalink to this headline">¶</a></h1>
<p>The GMT programs <a class="reference internal" href="filter1d.html"><span class="doc">filter1d</span></a> (for
tables of data indexed to one independent variable) and
<a class="reference internal" href="grdfilter.html"><span class="doc">grdfilter</span></a> (for data given as
2-dimensional grids) allow filtering of data by a moving-window process.
(To filter a grid by Fourier transform use
<a class="reference internal" href="grdfft.html"><span class="doc">grdfft</span></a>.) Both programs use an argument
<strong>-F</strong>&lt;<em>type</em>&gt;&lt;<em>width</em>&gt; to specify the
type of process and the window’s width (in 1-D) or diameter (in 2-D).
(In <a class="reference internal" href="filter1d.html"><span class="doc">filter1d</span></a> the width is a length of
the time or space ordinate axis, while in
<a class="reference internal" href="grdfilter.html"><span class="doc">grdfilter</span></a> it is the diameter of a
circular area whose distance unit is related to the grid mesh via the
<strong>-D</strong> option). If the process is a median, mode, or extreme value
estimator then the window output cannot be written as a convolution and
the filtering operation is not a linear operator. If the process is a
weighted average, as in the boxcar, cosine, and gaussian filter types,
then linear operator theory applies to the filtering process. These
three filters can be described as convolutions with an impulse response
function, and their transfer functions can be used to describe how they
alter components in the input as a function of wavelength.</p>
<p>Impulse responses are shown here for the boxcar, cosine, and gaussian
filters. Only the relative amplitudes of the filter weights shown; the
values in the center of the window have been fixed equal to 1 for ease
of plotting. In this way the same graph can serve to illustrate both the
1-D and 2-D impulse responses; in the 2-D case this plot is a
diametrical cross-section through the filter weights
(Figure <a class="reference internal" href="#impulse-responses"><span class="std std-ref">Impulse responses</span></a>).</p>
<div class="figure align-center" id="id198">
<span id="impulse-responses"></span><a class="reference internal image-reference" href="_images/GMT_App_J_1.png"><img alt="_images/GMT_App_J_1.png" src="_images/GMT_App_J_1.png" style="width: 500px;" /></a>
<p class="caption"><span class="caption-text">Impulse responses for GMT filters.</span></p>
</div>
<p>Although the impulse responses look the same in 1-D and 2-D, this is not
true of the transfer functions; in 1-D the transfer function is the
Fourier transform of the impulse response, while in 2-D it is the Hankel
transform of the impulse response. These are shown in Figures
<a class="reference internal" href="#gmt-1d-filters"><span class="std std-ref">Transfer functions for 1D</span></a> and
<a class="reference internal" href="#gmt-2d-filters"><span class="std std-ref">2D</span></a>,
respectively. Note that in 1-D the
boxcar transfer function has its first zero crossing at <em>f = 1</em>,
while in 2-D it is around <span class="math notranslate nohighlight">\(f \sim 1.2\)</span>. The 1-D cosine transfer
function has its first zero crossing at <em>f = 2</em>; so a cosine
filter needs to be twice as wide as a boxcar filter in order to zero the
same lowest frequency. As a general rule, the cosine and gaussian
filters are “better” in the sense that they do not have the “side lobes”
(large-amplitude oscillations in the transfer function) that the boxcar
filter has. However, they are correspondingly “worse” in the sense that
they require more work (doubling the width to achieve the same cut-off wavelength).</p>
<div class="figure align-center" id="id199">
<span id="gmt-1d-filters"></span><a class="reference internal image-reference" href="_images/GMT_App_J_2.png"><img alt="_images/GMT_App_J_2.png" src="_images/GMT_App_J_2.png" style="width: 500px;" /></a>
<p class="caption"><span class="caption-text">Transfer functions for 1-D GMT filters.</span></p>
</div>
<p>One of the nice things about the gaussian filter is that its transfer
functions are the same in 1-D and 2-D. Another nice property is that it
has no negative side lobes. There are many definitions of the gaussian
filter in the literature (see page 7 of Bracewell <a class="footnote-reference" href="#id95" id="id49">[35]</a>). We define
<span class="math notranslate nohighlight">\(\sigma\)</span> equal to 1/6 of the filter width, and the impulse
response proportional to <span class="math notranslate nohighlight">\(\exp[-0.5(t/\sigma)^2)\)</span>. With this
definition, the transfer function is <span class="math notranslate nohighlight">\(\exp[-2(\pi\sigma f)^2]\)</span> and
the wavelength at which the transfer function equals 0.5 is about 5.34
<span class="math notranslate nohighlight">\(\sigma\)</span>, or about 0.89 of the filter width.</p>
<div class="figure align-center" id="id200">
<span id="gmt-2d-filters"></span><a class="reference internal image-reference" href="_images/GMT_App_J_3.png"><img alt="_images/GMT_App_J_3.png" src="_images/GMT_App_J_3.png" style="width: 500px;" /></a>
<p class="caption"><span class="caption-text">Transfer functions for 2-D (radial) GMT filters.</span></p>
</div>
</div>
<div class="section" id="the-gmt-high-resolution-coastline-data">
<h1>25. The GMT High-Resolution Coastline Data<a class="headerlink" href="#the-gmt-high-resolution-coastline-data" title="Permalink to this headline">¶</a></h1>
<p>Starting with version 3.0, GMT use a completely new coastline database
and the <a class="reference internal" href="pscoast.html"><span class="doc">pscoast</span></a> utility was been
completely rewritten to handle the new file format. Many users have
asked us why it has taken so long for GMT to use a high-resolution
coastline database; after all, such data have been available in the
public domain for years. To answer such questions we will take you along
the road that starts with these public domain data sets and ends up with
the database used by GMT.</p>
<div class="section" id="selecting-the-right-data">
<h2>25.1. Selecting the right data<a class="headerlink" href="#selecting-the-right-data" title="Permalink to this headline">¶</a></h2>
<p>There are two well-known public-domain data sets that could be used for
this purpose. Once is known as the World Data Bank II or CIA Data Bank
(WDB) and contains coastlines, lakes, political boundaries, and rivers.
The other, the World Vector Shoreline (WVS) only contains shorelines
between saltwater and land (i.e., no lakes). It turns out that the WVS
data is far superior to the WDB data as far as data quality goes, but as
noted it lacks lakes, not to mention rivers and borders. We decided to
use the WVS whenever possible and supplement it with WDB data. We got
these data over the Internet; they are also available on CD-ROM from the
National Geophysical Data Center in Boulder, Colorado <a class="footnote-reference" href="#id96" id="id50">[36]</a>.</p>
</div>
<div class="section" id="format-required-by-gmt">
<h2>25.2. Format required by GMT<a class="headerlink" href="#format-required-by-gmt" title="Permalink to this headline">¶</a></h2>
<p>In order to paint continents or oceans it is necessary that the
coastline data be organized in polygons that may be filled. Simple line
segments can be used to draw the coastline, but for painting polygons
are required. Both the WVS and WDB data consists of unsorted line
segments: there is no information included that tells you which segments
belong to the same polygon (e.g., Australia should be one large
polygon). In addition, polygons enclosing land must be differentiated
from polygons enclosing lakes since they will need different paint.
Finally, we want <a class="reference internal" href="pscoast.html"><span class="doc">pscoast</span></a> to be
flexible enough that it can paint the land <em>or</em> the oceans <em>or</em> both. If
just land (or oceans) is selected we do not want to paint those areas
that are not land (or oceans) since previous plot programs may have
drawn in those areas. Thus, we will need to combine polygons into new
polygons that lend themselves to fill land (or oceans) only (Note that
older versions of <a class="reference internal" href="pscoast.html"><span class="doc">pscoast</span></a> always
painted lakes and wiped out whatever was plotted beneath).</p>
</div>
<div class="section" id="the-long-and-winding-road">
<h2>25.3. The long and winding road<a class="headerlink" href="#the-long-and-winding-road" title="Permalink to this headline">¶</a></h2>
<p>The WVS and WDB together represent more than 100 Mb of binary data and
something like 20 million data points. Hence, it becomes obvious that
any manipulation of these data must be automated. For instance, the
reasonable requirement that no coastline should cross another coastline
becomes a complicated processing step.</p>
<ul>
<li><p class="first">To begin, we first made sure that all data were “clean”, i.e., that
there were no outliers and bad points. We had to write several
programs to ensure data consistency and remove “spikes” and bad
points from the raw data. Also, crossing segments were automatically
“trimmed” provided only a few points had to be deleted. A few hundred
more complicated cases had to be examined semi-manually.</p>
</li>
<li><p class="first">Programs were written to examine all the loose segments and determine
which segments should be joined to produce polygons. Because not all
segments joined exactly (there were non-zero gaps between some
segments) we had to find all possible combinations and choose the
simplest combinations. The WVS segments joined to produce more than
200,000 polygons, the largest being the Africa-Eurasia polygon which
has 1.4 million points. The WDB data resulted in a smaller data base
(~25% of WVS).</p>
</li>
<li><p class="first">We now needed to combine the WVS and WDB data bases. The main problem
here is that we have duplicates of polygons: most of the features in
WVS are also in WDB. However, because the resolution of the data
differ it is nontrivial to figure out which polygons in WDB to
include and which ones to ignore. We used two techniques to address
this problem. First, we looked for crossovers between all possible
pairs of polygons. Because of the crossover processing in step 1
above we know that there are no remaining crossovers within WVS and
WDB; thus any crossovers would be between WVS and WDB polygons.
Crossovers could mean two things: (1) A slightly misplaced WDB
polygon crosses a more accurate WVS polygon, both representing the
same geographic feature, or (2) a misplaced WDB polygon (e.g., a
small coastal lake) crosses the accurate WVS shoreline. We
distinguished between these cases by comparing the area and centroid
of the two polygons. In almost all cases it was obvious when we had
duplicates; a few cases had to be checked manually. Second, on many
occasions the WDB duplicate polygon did not cross its WVS counterpart
but was either entirely inside or outside the WVS polygon. In those
cases we relied on the area-centroid tests.</p>
</li>
<li><p class="first">While the largest polygons were easy to identify by visual
inspection, the majority remain unidentified. Since it is important
to know whether a polygon is a continent or a small pond inside an
island inside a lake we wrote programs that would determine the
hierarchical level of each polygon. Here, level = 1 represents
ocean/land boundaries, 2 is land/lakes borders, 3 is
lakes/islands-in-lakes, and 4 is
islands-in-lakes/ponds-in-islands-in-lakes. Level 4 was the highest
level encountered in the data. To automatically determine the
hierarchical levels we wrote programs that would compare all possible
pairs of polygons and find how many polygons a given polygon was
inside. Because of the size and number of the polygons such programs
would typically run for 3 days on a Sparc-2 workstation.</p>
</li>
<li><p class="first">Once we know what type a polygon is we can enforce a common
“orientation” for all polygons. We arranged them so that when you
move along a polygon from beginning to end, your left hand is
pointing toward “land”. At this step we also computed the area of all
polygons since we would like the option to plot only features that
are bigger than a minimum area to be specified by the user.</p>
</li>
<li><p class="first">Obviously, if you need to make a map of Denmark then you do not want
to read the entire 1.4 million points making up the Africa-Eurasia
polygon. Furthermore, most plotting devices will not let you paint
and fill a polygon of that size due to memory restrictions. Hence, we
need to partition the polygons so that smaller subsets can be
accessed rapidly. Likewise, if you want to plot a world map on a
letter-size paper there is no need to plot 10 million data points as
most of them will plot several times on the same pixel and the
operation would take a very long time to complete. We chose to make 5
versions on the database, corresponding to different resolutions. The
decimation was carried out using the Douglas-Peucker (DP)
line-reduction algorithm <a class="footnote-reference" href="#id97" id="id51">[37]</a>. We chose the cutoffs so that each
subset was approximately 20% the size of the next higher resolution.
The five resolutions are called <strong>f</strong>ull, <strong>h</strong>igh,
<strong>i</strong>ntermediate, <strong>l</strong>ow, and <strong>c</strong>rude; they are accessed in
<a class="reference internal" href="pscoast.html"><span class="doc">pscoast</span></a>, <a class="reference internal" href="gmtselect.html"><span class="doc">gmtselect</span></a>, and
<a class="reference internal" href="grdlandmask.html"><span class="doc">grdlandmask</span></a> with the <strong>-D</strong>
option <a class="footnote-reference" href="#id98" id="id52">[38]</a>. For each of these 5 data sets (<strong>f</strong>, <strong>h</strong>, <strong>i</strong>,
<strong>l</strong>, <strong>c</strong>) we specified an equidistant grid (1, 2, 5, 10, 20) and
split all polygons into line-segments that each fit inside one of the
many boxes defined by these grid lines. Thus, to paint the entire
continent of Australia we instead paint many smaller polygons made up
of these line segments and gridlines. Some book-keeping has to be
done since we need to know which parent polygon these smaller pieces
came from in order to prescribe the correct paint or ignore if the
feature is smaller than the cutoff specified by the user. The
resulting segment coordinates were then scaled to fit in short
integer format to preserve precision and written in netCDF format for
ultimate portability across hardware platforms <a class="footnote-reference" href="#id99" id="id53">[39]</a>.</p>
</li>
<li><p class="first">While we are now back to a file of line-segments we are in a much
better position to create smaller polygons for painting. Two problems
must be overcome to correctly paint an area:</p>
<ul class="simple">
<li>We must be able to join line segments and grid cell borders into
meaningful polygons; how we do this will depend on whether we want
to paint the land or the oceans.</li>
<li>We want to nest the polygons so that no paint falls on areas that
are “wet” (or “dry”); e.g., if a grid cell completely on land
contains a lake with a small island, we do not want to paint the
lake and then draw the island, but paint the annulus or “donut”
that is represented by the land and lake, and then plot the
island.</li>
</ul>
<p>GMT uses a polygon-assembly routine that carries out these tasks on the fly.</p>
</li>
</ul>
</div>
<div class="section" id="the-five-resolutions">
<h2>25.4. The Five Resolutions<a class="headerlink" href="#the-five-resolutions" title="Permalink to this headline">¶</a></h2>
<p>We will demonstrate the power of the new database by starting with a
regional hemisphere map centered near Papua New Guinea and zoom in on a
specified point. The map regions will be specified in projected km from
the projection center, e.g., we may want the map to go from km to km in
the longitudinal and the latitudinal direction.
Also, as we zoom in on the projection center we want to draw the outline
of the next map region on the plot. To do that we use the <strong>-D</strong> option
in <a class="reference internal" href="psbasemap.html"><span class="doc">psbasemap</span></a>.</p>
<div class="section" id="the-crude-resolution-dc">
<h3>25.4.1. The crude resolution (<strong>-Dc</strong>)<a class="headerlink" href="#the-crude-resolution-dc" title="Permalink to this headline">¶</a></h3>
<p>We begin with an azimuthal equidistant map of the hemisphere centered on
130°21’E, 0°12’S, which is slightly west of New Guinea, near the Strait of
Dampier. The edges of the map are all 9000 km true distance from the
projection center. At this scale (and for global maps) the crude
resolution data will usually be adequate to capture the main geographic
features. To avoid cluttering the map with insignificant detail we only
plot features (i.e., polygons) that exceed 500 km<sup>2</sup> in area.
Smaller features would only occupy a few pixels on the plot and make the
map look “dirty”. We also add national borders to the plot. The crude
database is heavily decimated and simplified by the DP-routine: The
total file size of the coastlines, rivers, and borders database is only
283 kbytes. The plot is produced by the script:</p>
<blockquote>
<div><div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>gmt <span class="nb">set</span> MAP_GRID_CROSS_SIZE_PRIMARY <span class="m">0</span> MAP_ANNOT_OBLIQUE <span class="m">22</span> MAP_ANNOT_MIN_SPACING <span class="m">0</span>.3i
gmt pscoast -Rk-9000/9000/-9000/9000 -JE130.35/-0.2/3.5i -P -Dc -A500 <span class="se">\</span>
            -Gburlywood -Sazure -Wthinnest -N1/thinnest,- -B20g20 -BWSne -K &gt; GMT_App_K_1.ps
gmt psbasemap -R -J -O -Dk2000+c130.35/-0.2+pthicker &gt;&gt; GMT_App_K_1.ps
</pre></div>
</div>
</div></blockquote>
<div class="figure align-center" id="id201">
<a class="reference internal image-reference" href="_images/GMT_App_K_1.png"><img alt="_images/GMT_App_K_1.png" src="_images/GMT_App_K_1.png" style="width: 500px;" /></a>
<p class="caption"><span class="caption-text">Map using the crude resolution coastline data.</span></p>
</div>
<p>Here, we use the <a class="reference internal" href="gmt.conf.html#map-annot-oblique"><span class="std std-ref">MAP_ANNOT_OBLIQUE</span></a> bit flags to achieve horizontal
annotations and set <a class="reference internal" href="gmt.conf.html#map-annot-min-spacing"><span class="std std-ref">MAP_ANNOT_MIN_SPACING</span></a> to suppress some
longitudinal annotations near the S pole that otherwise would overprint.
The square box indicates the outline of the next map.</p>
</div>
<div class="section" id="the-low-resolution-dl">
<h3>25.4.2. The low resolution (<strong>-Dl</strong>)<a class="headerlink" href="#the-low-resolution-dl" title="Permalink to this headline">¶</a></h3>
<p>We have now reduced the map area by zooming in on the map center. Now,
the edges of the map are all 2000 km true distance from the projection
center. At this scale we choose the low resolution data that faithfully
reproduce the dominant geographic features in the region. We cut back on
minor features less than 100 km<sup>2</sup> in area. We still add
national borders to the plot. The low database is less decimated and
simplified by the DP-routine: The total file size of the coastlines,
rivers, and borders combined grows to 907 kbytes; it is the default
resolution in GMT. The plot is generated by the script:</p>
<blockquote>
<div><div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>gmt pscoast -Rk-2000/2000/-2000/2000 -JE130.35/-0.2/3.5i -P -Dl -A100 -Gburlywood <span class="se">\</span>
            -Sazure -Wthinnest -N1/thinnest,- -B10g5 -BWSne -K &gt; GMT_App_K_2.ps
gmt psbasemap -R -J -O -Dk500+c130.35/-0.2+pthicker &gt;&gt; GMT_App_K_2.ps
</pre></div>
</div>
</div></blockquote>
<div class="figure align-center" id="id202">
<a class="reference internal image-reference" href="_images/GMT_App_K_2.png"><img alt="_images/GMT_App_K_2.png" src="_images/GMT_App_K_2.png" style="width: 500px;" /></a>
<p class="caption"><span class="caption-text">Map using the low resolution coastline data.</span></p>
</div>
</div>
<div class="section" id="the-intermediate-resolution-di">
<h3>25.4.3. The intermediate resolution (<strong>-Di</strong>)<a class="headerlink" href="#the-intermediate-resolution-di" title="Permalink to this headline">¶</a></h3>
<p>We continue to zoom in on the map center. In this map, the edges of the
map are all 500 km true distance from the projection center. We abandon
the low resolution data set as it would look too jagged at this scale
and instead employ the intermediate resolution data that faithfully
reproduce the dominant geographic features in the region. This time, we
ignore features less than 20 km<sup>2</sup> in area. Although the script
still asks for national borders none exist within our region. The
intermediate database is moderately decimated and simplified by the
DP-routine: The combined file size of the coastlines, rivers, and
borders now exceeds 3.35 Mbytes. The plot is generated by the script:</p>
<blockquote>
<div><div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>gmt pscoast -Rk-500/500/-500/500 -JE130.35/-0.2/3.5i -P -Di -A20 -Gburlywood <span class="se">\</span>
            -Sazure -Wthinnest -N1/thinnest,- -B2g1 -BWSne -K &gt; GMT_App_K_3.ps
<span class="nb">echo</span> <span class="m">133</span> <span class="m">2</span> <span class="p">|</span> gmt psxy -R -J -O -K -Sc1.4i -Gwhite &gt;&gt; GMT_App_K_3.ps
gmt psbasemap -R -J -O -K --FONT_TITLE<span class="o">=</span>12p --MAP_TICK_LENGTH_PRIMARY<span class="o">=</span><span class="m">0</span>.05i <span class="se">\</span>
              -Tm133/2+w1i+t45/10/5+jCM --FONT_ANNOT_SECONDARY<span class="o">=</span>8p &gt;&gt; GMT_App_K_3.ps
gmt psbasemap -R -J -O -Dk100+c130.35/-0.2+pthicker &gt;&gt; GMT_App_K_3.ps
</pre></div>
</div>
</div></blockquote>
<div class="figure align-center" id="id203">
<a class="reference internal image-reference" href="_images/GMT_App_K_3.png"><img alt="_images/GMT_App_K_3.png" src="_images/GMT_App_K_3.png" style="width: 500px;" /></a>
<p class="caption"><span class="caption-text">Map using the intermediate resolution coastline data. We have added a compass
rose just because we have the power to do so.</span></p>
</div>
</div>
<div class="section" id="the-high-resolution-dh">
<h3>25.4.4. The high resolution (<strong>-Dh</strong>)<a class="headerlink" href="#the-high-resolution-dh" title="Permalink to this headline">¶</a></h3>
<p>The relentless zooming continues! Now, the edges of the map are all 100
km true distance from the projection center. We step up to the high
resolution data set as it is needed to accurately portray the detailed
geographic features within the region. Because of the small scale we
only ignore features less than 1 km<sup>2</sup> in area. The high
resolution database has undergone minor decimation and simplification by
the DP-routine: The combined file size of the coastlines, rivers, and
borders now swells to 12.3 Mbytes. The map and the final outline box are
generated by these commands:</p>
<blockquote>
<div><div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>gmt pscoast -Rk-100/100/-100/100 -JE130.35/-0.2/3.5i -P -Dh -A1 -Gburlywood <span class="se">\</span>
            -Sazure -Wthinnest -N1/thinnest,- -B30mg10m -BWSne -K &gt; GMT_App_K_4.ps
gmt psbasemap -R -J -O -Dk20+c130.35/-0.2+pthicker &gt;&gt; GMT_App_K_4.ps
</pre></div>
</div>
</div></blockquote>
<div class="figure align-center" id="id204">
<a class="reference internal image-reference" href="_images/GMT_App_K_4.png"><img alt="_images/GMT_App_K_4.png" src="_images/GMT_App_K_4.png" style="width: 500px;" /></a>
<p class="caption"><span class="caption-text">Map using the high resolution coastline data.</span></p>
</div>
</div>
<div class="section" id="the-full-resolution-df">
<h3>25.4.5. The full resolution (<strong>-Df</strong>)<a class="headerlink" href="#the-full-resolution-df" title="Permalink to this headline">¶</a></h3>
<p>We now arrive at our final plot, which shows a detailed view of the
western side of the small island of Waigeo. The map area is
approximately 40 by 40 km. We call upon the full resolution data set to
portray the richness of geographic detail within this region; no
features are ignored. The full resolution has undergone no decimation
and it shows: The combined file size of the coastlines, rivers, and
borders totals a (once considered hefty) 55.9 Mbytes. Our final map is
reproduced by the single command:</p>
<blockquote>
<div><div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>gmt pscoast -Rk-20/20/-20/20 -JE130.35/-0.2/3.5i -P -Df -Gburlywood <span class="se">\</span>
            -Sazure -Wthinnest -N1/thinnest,- -B10mg2m -BWSne &gt; GMT_App_K_5.ps
</pre></div>
</div>
</div></blockquote>
<div class="figure align-center" id="id205">
<a class="reference internal image-reference" href="_images/GMT_App_K_5.png"><img alt="_images/GMT_App_K_5.png" src="_images/GMT_App_K_5.png" style="width: 500px;" /></a>
<p class="caption"><span class="caption-text">Map using the full resolution coastline data.</span></p>
</div>
<p>We hope you will study these examples to enable you to make efficient
and wise use of this vast data set.</p>
</div>
</div>
</div>
<div class="section" id="gmt-on-non-unix-platforms">
<h1>26. GMT on non-UNIX Platforms<a class="headerlink" href="#gmt-on-non-unix-platforms" title="Permalink to this headline">¶</a></h1>
<div class="section" id="id54">
<h2>26.1. Introduction<a class="headerlink" href="#id54" title="Permalink to this headline">¶</a></h2>
<p>While GMT was ported to non-UNIX systems such as Windows, it is
also true that one of the strengths of GMT lies its symbiotic
relationship with UNIX. We therefore recommend that GMT be installed
in a POSIX-compliant UNIX environment such as traditional
UNIX-systems, Linux, or Mac OS X. If abandoning your
non-UNIX operating system is not an option, consider one of these
solutions:</p>
<dl class="docutils">
<dt>WINDOWS:</dt>
<dd><p class="first">Choose among these three possibilities:</p>
<ol class="last arabic simple">
<li>Install GMT under MinGW/MSYS (A collection of GNU utilities).</li>
<li>Install GMT under Cygwin (A GNU port to Windows).</li>
<li>Install GMT in Windows using Microsoft C/C++ or other
compilers. Unlike the first two, this option will not provide you
with any UNIX tools so you will be limited to what you can do
with DOS batch files.</li>
</ol>
</dd>
</dl>
</div>
<div class="section" id="cygwin-and-gmt">
<h2>26.2. Cygwin and GMT<a class="headerlink" href="#cygwin-and-gmt" title="Permalink to this headline">¶</a></h2>
<p>Because GMT works best in conjugation with UNIX tools we suggest you
install GMT using the Cygwin product from Cygnus (now assimilated by
Redhat, Inc.). This free version works on any Windows version and it
comes with both the Bourne Again shell <strong>bash</strong> and the <strong>tcsh</strong>.
You also have access to most standard GNU development tools such as
compilers and text processing tools (<strong>awk</strong>, <strong>grep</strong>, <strong>sed</strong>,
etc.). Note that executables prepared for Windows will also run under Cygwin.</p>
<p>Follow the instructions on the Cygwin page on how to install the
package; note you must explicitly add all the development tool packages
(e.g., <strong>gcc</strong> etc) as the basic installation does not include them by
default. Once you are up and running under Cygwin, you may install
GMT  the same way you do under any other UNIX platform; our wiki
has instructions for packages you need to install first.</p>
<p>Finally, from Cygwin’s User Guide: By default, no Cygwin program can
allocate more than 384 MB of memory (program and data). You should not
need to change this default in most circumstances. However, if you need
to use more real or virtual memory in your machine you may add an entry
in either the <strong>HKEY_LOCAL_MACHINE</strong> (to change the limit for all
users) or <strong>HKEY_CURRENT_USER</strong> (for just the current user) section of
the registry. Add the DWORD value <strong>heap_chunk_in_mb</strong> and set it to
the desired memory limit in decimal Mb. It is preferred to do this in
Cygwin using the <strong>regtool</strong> program included in the Cygwin package.
(For more information about <strong>regtool</strong> or the other Cygwin utilities,
see the Section called Cygwin Utilities in Chapter 3 of the Cygwin’s
User Guide or use the help option of each utility.) You should always be
careful when using <strong>regtool</strong> since damaging your system registry can
result in an unusable system. This example sets the local machine memory
limit to 1024 Mb:</p>
<blockquote>
<div><div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>regtool -i <span class="nb">set</span> /HKLM/Software/Cygnus<span class="se">\ </span>Solutions/Cygwin/heap_chunk_in_mb <span class="m">1024</span>
regtool -v list /HKLM/Software/Cygnus<span class="se">\ </span>Solutions/Cygwin
</pre></div>
</div>
</div></blockquote>
<p>For more installation details see the general README file.</p>
</div>
<div class="section" id="mingw-msys-and-gmt">
<h2>26.3. MINGW|MSYS and GMT<a class="headerlink" href="#mingw-msys-and-gmt" title="Permalink to this headline">¶</a></h2>
<p>Though one can install GMT natively using CMake, the simplest way of installing
under MINGW|MSYS is to just install the Windows binaries and use them from
the msys bash shell. As simple as that. Furthermore, GMT programs launch
faster here than on Cygwin so this is the recommended way of running
GMT on Windows.</p>
</div>
</div>
<div class="section" id="of-colors-and-color-legends">
<h1>27. Of Colors and Color Legends<a class="headerlink" href="#of-colors-and-color-legends" title="Permalink to this headline">¶</a></h1>
<div class="section" id="built-in-color-palette-tables-cpt">
<h2>27.1. Built-in color palette tables (CPT)<a class="headerlink" href="#built-in-color-palette-tables-cpt" title="Permalink to this headline">¶</a></h2>
<p>Figures <a class="reference internal" href="#cpt-files-a"><span class="std std-ref">CPTs a</span></a> and
<a class="reference internal" href="#cpt-files-b"><span class="std std-ref">b</span></a> show the 40 built-in
color palettes, stored in so-called CPTs <a class="footnote-reference" href="#id100" id="id55">[40]</a>. The programs
<a class="reference internal" href="makecpt.html"><span class="doc">makecpt</span></a> and
<a class="reference internal" href="grd2cpt.html"><span class="doc">grd2cpt</span></a> are used to access these
master CPTs and translate/scale them to fit the user’s range of
<em>z</em>-values. The top half of the color bars in the Figure shows the
original color scale, which can be either discrete or continuous, though
some (like <strong>globe</strong>) are a mix of the two. The bottom half the color
bar are built by using <a class="reference internal" href="makecpt.html"><span class="doc">makecpt</span></a>
<strong>-T</strong>-1/1/0.25, thus splitting the color scale into 8 discrete colors.</p>
<div class="figure align-center" id="id206">
<span id="cpt-files-a"></span><a class="reference internal image-reference" href="_images/GMT_App_M_1a.png"><img alt="_images/GMT_App_M_1a.png" src="_images/GMT_App_M_1a.png" style="width: 500px;" /></a>
<p class="caption"><span class="caption-text">The first 22 of the standard 44 CPTs supported by GMT</span></p>
</div>
<div class="figure align-center" id="id207">
<span id="cpt-files-b"></span><a class="reference internal image-reference" href="_images/GMT_App_M_1b.png"><img alt="_images/GMT_App_M_1b.png" src="_images/GMT_App_M_1b.png" style="width: 500px;" /></a>
<p class="caption"><span class="caption-text">The second 22 of the standard 44 CPTs supported by GMT</span></p>
</div>
</div>
<div class="section" id="labeled-and-non-equidistant-color-legends">
<h2>27.2. Labeled and non-equidistant color legends<a class="headerlink" href="#labeled-and-non-equidistant-color-legends" title="Permalink to this headline">¶</a></h2>
<p>The use of color legends has already been introduced in Examples
<a class="reference internal" href="gallery/ex02.html#example-02"><span class="std std-ref">2</span></a>, <a class="reference internal" href="gallery/ex16.html#example-16"><span class="std std-ref">16</span></a>, and <a class="reference internal" href="gallery/ex17.html#example-17"><span class="std std-ref">17</span></a>.
Things become a bit more
complicated when you want to label the legend with names for certain
intervals (like geological time periods in the example below). To
accomplish that, one should add a semi-colon and the label name at the
end of a line in the CPT and add the <strong>-L</strong> option to the
<a class="reference internal" href="psscale.html"><span class="doc">psscale</span></a> command that draws the color
legend. This option also makes all intervals in the legend of equal
length, even it the numerical values are not equally spaced.</p>
<p>Normally, the name labels are plotted at the lower end of the intervals.
But by adding a <em>gap</em> amount (even when zero) to the <strong>-L</strong> option, they
are centered. The example below also shows how to annotate ranges using
<strong>-Li</strong> (in which case no name labels should appear in the CPT),
and how to switch the color bar around (by using a negative length).</p>
<div class="figure align-center">
<a class="reference internal image-reference" href="_images/GMT_App_M_2.png"><img alt="_images/GMT_App_M_2.png" src="_images/GMT_App_M_2.png" style="width: 600px;" /></a>
</div>
<p>For additional color tables, visit
<a class="reference external" href="http://soliton.vm.bytemark.co.uk/pub/cpt-city/">cpt-city</a>.</p>
</div>
</div>
<div class="section" id="app-custom-symbols">
<span id="id56"></span><h1>28. Custom Plot Symbols<a class="headerlink" href="#app-custom-symbols" title="Permalink to this headline">¶</a></h1>
<div class="section" id="background">
<h2>28.1. Background<a class="headerlink" href="#background" title="Permalink to this headline">¶</a></h2>
<p>The GMT tools <a class="reference internal" href="psxy.html"><span class="doc">psxy</span></a> and <a class="reference internal" href="psxyz.html"><span class="doc">psxyz</span></a> are capable of using custom
symbols as alternatives to the built-in, standard geometrical shapes
such as circles, triangles, and many others. One the command line, custom
symbols are selected via the <strong>-Sk</strong><em>symbolname</em>[<em>size</em>] symbol
selection, where <em>symbolname</em> refers to a special symbol definition file
called <code class="docutils literal notranslate"><span class="pre">symbolname.def</span></code> that must be available via the standard GMT user paths. Several
custom symbols comes pre-configured with GMT (see
Figure <a class="reference internal" href="#custom-symbols"><span class="std std-ref">Custom symbols</span></a>)</p>
<div class="figure align-center" id="id208">
<span id="custom-symbols"></span><a class="reference internal image-reference" href="_images/GMT_App_N_1.png"><img alt="_images/GMT_App_N_1.png" src="_images/GMT_App_N_1.png" style="width: 500px;" /></a>
<p class="caption"><span class="caption-text">Custom plot symbols supported by GMT. Note that we only show
the symbol outline and not any fill. These are all single-parameter symbols.
Be aware that some symbols may have a hardwired fill or no-fill component,
while others duplicate what is already available as standard built-in symbols.</span></p>
</div>
<p>You may find it convenient to examine some of these and use them as a
starting point for your own design; they can be found in GMT’s
share/custom directory.</p>
</div>
<div class="section" id="the-macro-language">
<h2>28.2. The macro language<a class="headerlink" href="#the-macro-language" title="Permalink to this headline">¶</a></h2>
<p>To make your own custom plot symbol, you will need to design your own
*.def files. This section defines the language used to build custom
symbols. You can place these definition files in your current directory
or in your <code class="docutils literal notranslate"><span class="pre">~/.gmt</span></code> user directory. When designing the symbol you are working
in a relative coordinate system centered on (0,0). This point will be
mapped to the actual location specified by your data coordinates.
Furthermore, your symbol should be constructed within the domain
<span class="math notranslate nohighlight">\({-\frac{1}{2},+\frac{1}{2},-\frac{1}{2},+\frac{1}{2}}\)</span>, resulting
in a 1 by 1 relative canvas area. This 1 x 1 square will be scaled to your
actual symbol size when plotted.  However, there are no requirement that
all your design fit inside this domain.</p>
<div class="section" id="comment-lines">
<h3>28.2.1. Comment lines<a class="headerlink" href="#comment-lines" title="Permalink to this headline">¶</a></h3>
<p>Your definition file may have any number of comment lines, defined to
begin with the character #. These are skipped by GMT but provides a
mechanism for you to clarify what your symbol does.</p>
</div>
<div class="section" id="symbol-variables">
<h3>28.2.2. Symbol variables<a class="headerlink" href="#symbol-variables" title="Permalink to this headline">¶</a></h3>
<p>Simple symbols, such as circles and triangles, only take a single
parameter: the symbol size, which is either given on the command line
(via <strong>-Sk</strong>) or as part of the input data. However, more complicated
symbols that involve angles, or conditional tests, may require more
parameters. If your custom symbol requires more than the implicit single size
parameter you must include the line</p>
<blockquote>
<div><strong>N</strong>: <em>n_extra_parameters</em> [<em>types</em>]</div></blockquote>
<p>before any other macro commands. It is an optional statement in that
<em>n_extra_parameters</em> will default to 0 unless explicitly set. By
default the extra parameters are considered to be quantities that should
be passed directly to the symbol machinery. However, you can use the
<em>types</em> argument to specify different types of parameters and thus single
out parameters for pre-processing. The available types are</p>
<blockquote>
<div><p><strong>a</strong> Geographic azimuth (positive clockwise from north toward east). Parameters
identified as azimuth will first be converted to map angle
(positive counter-clockwise from horizontal) given the current
map projection (or simply via 90-azimuth for Cartesian plots).
We ensure the angles fall in the 0-360 range and any macro test can rely on this range.</p>
<p><strong>l</strong> Length, i.e., an additional length scale (in cm, inch, or point as
per <a class="reference internal" href="gmt.conf.html#proj-length-unit"><span class="std std-ref">PROJ_LENGTH_UNIT</span></a>) in addition to the given symbol size.</p>
<p><strong>o</strong> Other, i.e., a numerical quantity to be passed to the custom symbol unchanged.</p>
<p><strong>r</strong> rotation angles (positive counter-clockwise from horizontal).
We ensure the angles fall in the 0-360 range and any macro test can rely on this range.</p>
<p><strong>s</strong> String, i.e., a single column of text to be placed by the <strong>l</strong> command.
Use octal \040 to include spaces to ensure the text string remains a single word.</p>
</div></blockquote>
<p>To use the extra parameters in your macro you address them as $1, $2, etc.  There
is no limit on how many parameters your symbol may use.</p>
</div>
<div class="section" id="macro-commands">
<h3>28.2.3. Macro commands<a class="headerlink" href="#macro-commands" title="Permalink to this headline">¶</a></h3>
<p>The custom symbol language contains commands to rotate the relative
coordinate system, draw free-form polygons and lines, change the current
fill and/or pen, place text, and include basic geometric symbols as part of the
overall design (e.g., circles, triangles, etc.). The available commands
are listed in Table <a class="reference internal" href="#tbl-custsymb"><span class="std std-ref">custsymb</span></a>.  Note that all angles
in the arguments can be provided as variables while the remaining parameters
are constants.</p>
<table border="1" class="docutils" id="tbl-custsymb">
<colgroup>
<col width="14%" />
<col width="11%" />
<col width="36%" />
<col width="40%" />
</colgroup>
<thead valign="bottom">
<tr class="row-odd"><th class="head"><strong>Name</strong></th>
<th class="head"><strong>Code</strong></th>
<th class="head"><strong>Purpose</strong></th>
<th class="head"><strong>Arguments</strong></th>
</tr>
</thead>
<tbody valign="top">
<tr class="row-even"><td>rotate</td>
<td><strong>R</strong></td>
<td>Rotate the coordinate system</td>
<td><span class="math notranslate nohighlight">\(\alpha\)</span>[<strong>a</strong>]</td>
</tr>
<tr class="row-odd"><td>moveto</td>
<td><strong>M</strong></td>
<td>Set a new anchor point</td>
<td><span class="math notranslate nohighlight">\(x_0, y_0\)</span></td>
</tr>
<tr class="row-even"><td>drawto</td>
<td><strong>D</strong></td>
<td>Draw line from previous point</td>
<td><span class="math notranslate nohighlight">\(x, y\)</span></td>
</tr>
<tr class="row-odd"><td>arc</td>
<td><strong>A</strong></td>
<td>Append circular arc to existing path</td>
<td><span class="math notranslate nohighlight">\(x_c, y_c, d, \alpha_1, \alpha_2\)</span></td>
</tr>
<tr class="row-even"><td>stroke</td>
<td><strong>S</strong></td>
<td>Stroke existing path only</td>
<td>&#160;</td>
</tr>
<tr class="row-odd"><td>texture</td>
<td><strong>T</strong></td>
<td>Change current pen and fill</td>
<td>&#160;</td>
</tr>
<tr class="row-even"><td>star</td>
<td><strong>a</strong></td>
<td>Plot a star</td>
<td><span class="math notranslate nohighlight">\(x, y\)</span>,<em>size</em></td>
</tr>
<tr class="row-odd"><td>circle</td>
<td><strong>c</strong></td>
<td>Plot a circle</td>
<td><span class="math notranslate nohighlight">\(x, y\)</span>,<em>size</em></td>
</tr>
<tr class="row-even"><td>diamond</td>
<td><strong>d</strong></td>
<td>Plot a diamond</td>
<td><span class="math notranslate nohighlight">\(x, y\)</span>,<em>size</em></td>
</tr>
<tr class="row-odd"><td>ellipse</td>
<td><strong>e</strong></td>
<td>Plot a ellipse</td>
<td><span class="math notranslate nohighlight">\(x, y, \alpha\)</span>,<em>major</em>,<em>minor</em></td>
</tr>
<tr class="row-even"><td>octagon</td>
<td><strong>g</strong></td>
<td>Plot an octagon</td>
<td><span class="math notranslate nohighlight">\(x, y\)</span>,<em>size</em></td>
</tr>
<tr class="row-odd"><td>hexagon</td>
<td><strong>h</strong></td>
<td>Plot a hexagon</td>
<td><span class="math notranslate nohighlight">\(x, y\)</span>,<em>size</em></td>
</tr>
<tr class="row-even"><td>invtriangle</td>
<td><strong>i</strong></td>
<td>Plot an inverted triangle</td>
<td><span class="math notranslate nohighlight">\(x, y\)</span>,<em>size</em></td>
</tr>
<tr class="row-odd"><td>rotrectangle</td>
<td><strong>j</strong></td>
<td>Plot an rotated rectangle</td>
<td><span class="math notranslate nohighlight">\(x, y, \alpha\)</span>,<em>width</em>,<em>height</em></td>
</tr>
<tr class="row-even"><td>letter</td>
<td><strong>l</strong></td>
<td>Plot a letter</td>
<td><span class="math notranslate nohighlight">\(x, y\)</span>,<em>size</em>, <em>string</em></td>
</tr>
<tr class="row-odd"><td>marc</td>
<td><strong>m</strong></td>
<td>Plot a math arc (no heads)</td>
<td><span class="math notranslate nohighlight">\(x, y, r, \alpha_1, \alpha_2\)</span></td>
</tr>
<tr class="row-even"><td>pentagon</td>
<td><strong>n</strong></td>
<td>Plot a pentagon</td>
<td><span class="math notranslate nohighlight">\(x, y\)</span>,<em>size</em></td>
</tr>
<tr class="row-odd"><td>plus</td>
<td><strong>+</strong></td>
<td>Plot a plus sign</td>
<td><span class="math notranslate nohighlight">\(x, y\)</span>,<em>size</em></td>
</tr>
<tr class="row-even"><td>rect</td>
<td><strong>r</strong></td>
<td>Plot a rectangle</td>
<td><span class="math notranslate nohighlight">\(x, y\)</span>, <em>width</em>, <em>height</em></td>
</tr>
<tr class="row-odd"><td>square</td>
<td><strong>s</strong></td>
<td>Plot a square</td>
<td><span class="math notranslate nohighlight">\(x, y\)</span>,<em>size</em></td>
</tr>
<tr class="row-even"><td>triangle</td>
<td><strong>t</strong></td>
<td>Plot a triangle</td>
<td><span class="math notranslate nohighlight">\(x, y\)</span>,<em>size</em></td>
</tr>
<tr class="row-odd"><td>wedge</td>
<td><strong>w</strong></td>
<td>Plot a wedge</td>
<td><span class="math notranslate nohighlight">\(x, y, d, \alpha_1, \alpha_2\)</span></td>
</tr>
<tr class="row-even"><td>cross</td>
<td><strong>x</strong></td>
<td>Plot a cross</td>
<td><span class="math notranslate nohighlight">\(x, y\)</span>,<em>size</em></td>
</tr>
<tr class="row-odd"><td>x-dash</td>
<td><strong>-</strong></td>
<td>Plot a x-dash</td>
<td><span class="math notranslate nohighlight">\(x, y\)</span>,<em>size</em></td>
</tr>
<tr class="row-even"><td>y-dash</td>
<td><strong>y</strong></td>
<td>Plot a y-dash</td>
<td><span class="math notranslate nohighlight">\(x, y\)</span>,<em>size</em></td>
</tr>
</tbody>
</table>
<p>Note for <strong>R</strong>: if an <strong>a</strong> is appended to the angle then <span class="math notranslate nohighlight">\(\alpha\)</span> is considered
to be a map azimuth; otherwise it is a Cartesian map angle.  The <strong>a</strong> modifier
does not apply if the angle is given via a variable, in which case the type of angle
has already been specified via <strong>N:</strong> above and already converged before seen by <strong>R</strong>.</p>
</div>
<div class="section" id="symbol-fill-and-outline">
<h3>28.2.4. Symbol fill and outline<a class="headerlink" href="#symbol-fill-and-outline" title="Permalink to this headline">¶</a></h3>
<p>Normally, symbols, polygons and lines will be rendered using any
fill and outline options you have given on the command line, similarly to how
the regular built-in symbols behave. For <strong>M</strong>, <strong>T</strong>, and all the lower-case
symbol codes you may optionally append specific pens (with <strong>-W</strong><em>pen</em>) and fills (with
<strong>-G</strong><em>pen</em>).  These options will force the use of these settings and
ignore any pens and fills you may or may not have specified on the command line.
Passing <strong>-G</strong>- or <strong>-W</strong>- means a symbol or polygon will have no
fill or outline, respectively, regardless of what your command line settings are.
Unlike pen options on the command line, a pen setting inside the macro symbol
offers more control.  Here, pen width is a <em>dimension</em> and you can specify
it in three different ways: (1) Give a fixed pen width with trailing unit (e.g., <strong>-W</strong>1p,red);
we then apply that pen exactly as it is regardless of the size of the symbol,
(2) give a normalized pen thickness in the 0-1 range (e.g., <strong>-W</strong>0.02);
at run-time this thickness will be multiplied by the current symbol size to yield
the actual pen thickness, and (3) specify a variable pen thickness (e.g., <strong>-W</strong>$1,blue); we then
obtain the actual pen thickness from the data record at run-time.
Finally, you may indicate that a symbol or polygon should be filled using the color
of the current pen instead of the current fill; do this by specifying <strong>-G+p</strong>.
Likewise, you may indicate that an outline should be drawn with the color of the
current fill instead of the current pen; do this by appending <strong>+g</strong> to your
<strong>-W</strong> setting (which may also indicate pen thickness and texture).  E.g.,
<strong>-W</strong>1p,-+g would mean “draw the outline with a 1p thick dashed pen but obtain
the color from the current fill”.</p>
</div>
<div class="section" id="symbol-substitution">
<h3>28.2.5. Symbol substitution<a class="headerlink" href="#symbol-substitution" title="Permalink to this headline">¶</a></h3>
<p>Custom symbols that need to plot any of the standard geometric symbols
(i.e., those controlled by a single size) can make the symbol code a variable.  By specifying <strong>?</strong> instead
of the symbol codes <strong>a</strong>, <strong>c</strong>, <strong>d</strong>, <strong>g</strong>, <strong>h</strong>, <strong>i</strong>, <strong>n</strong>, <strong>+</strong>, <strong>s</strong>, <strong>t</strong>,
<strong>x</strong>, <strong>-</strong>, or <strong>y</strong> the actual symbol code is expected to be found at the end of
each data record.  Such custom symbols must be invoked with <strong>-SK</strong> rather than <strong>-Sk</strong>.</p>
</div>
<div class="section" id="text-substitution">
<h3>28.2.6. Text substitution<a class="headerlink" href="#text-substitution" title="Permalink to this headline">¶</a></h3>
<p>Normally, the <strong>l</strong> macro code will place a hard-wired text string.  However,
you can also obtain the entire string from your input file via a single symbol
variable that must be declared with type <strong>s</strong> (string).  The string read
from your input file must be a single word, so if you need to insert spaces you must
use the octal \040 code instead.  Similarly, to place the dollar sign $ itself you must
use octal \044 so as to not confuse the parser with a symbol variable.
The string itself, if obtained from the symbol definition file,
may contain special codes that will be expanded given information from the current record.  You
can embed the codes %X or %Y to add the current longitude (or x) and latitude (or y) in
your label string. You may also use $n (<em>n</em> is 1, 2, etc.) to embed a numerical symbol variable as text.
It will be formatted according to <a class="reference internal" href="gmt.conf.html#format-float-map"><span class="std std-ref">FORMAT_FLOAT_MAP</span></a>,
unless you append the modifiers <strong>+X</strong> (format as longitude via <a class="reference internal" href="gmt.conf.html#format-geo-map"><span class="std std-ref">FORMAT_GEO_MAP</span></a>),
<strong>+Y</strong> (format as latitude via <a class="reference internal" href="gmt.conf.html#format-geo-map"><span class="std std-ref">FORMAT_GEO_MAP</span></a>), or <strong>+T</strong> (format as calendar time via
<a class="reference internal" href="gmt.conf.html#format-date-map"><span class="std std-ref">FORMAT_DATE_MAP</span></a> and <a class="reference internal" href="gmt.conf.html#format-clock-map"><span class="std std-ref">FORMAT_CLOCK_MAP</span></a>.</p>
</div>
<div class="section" id="text-alignment-and-font-attributes">
<h3>28.2.7. Text alignment and font attributes<a class="headerlink" href="#text-alignment-and-font-attributes" title="Permalink to this headline">¶</a></h3>
<p>Like the <strong>Sl</strong> symbol in <a class="reference internal" href="psxy.html"><span class="doc">psxy</span></a>, you can change the current
font by appending to <strong>l</strong> the modifier <strong>+f</strong><em>font</em> [FONT_ANNOT_PRIMARY] and change the text justification
by appending the modifier <strong>+j</strong><em>justify</em> [CM]. Note: Here, the <em>font</em> specification
will only be considered for the font type and not its size (which is set separately by your <em>size</em>
argument) or color and outline (which are set separately by <strong>-G</strong> and <strong>-W</strong> arguments).
Finally, there are two ways to specify the font size.  If a fixed font size is given in points
(e.g,, 12p) then the text will be set at that size regardless of the symbol size specified in <strong>-S</strong>.
Without the trailing <strong>p</strong> we interpret the size as a relative size in the 0-1 range and the actual
font size will then scale with the symbol size, just like other symbol items.</p>
</div>
<div class="section" id="conditional-statements">
<h3>28.2.8. Conditional statements<a class="headerlink" href="#conditional-statements" title="Permalink to this headline">¶</a></h3>
<p>There are two types of conditional statements in the macro language: A
simple condition preceding a single command, or a more elaborate
if-then-elseif-else construct. In any test you may use one (and only
one) of many logical operators, as listed in Table <a class="reference internal" href="#tbl-custop"><span class="std std-ref">custop</span></a>.</p>
<table border="1" class="docutils" id="tbl-custop">
<colgroup>
<col width="22%" />
<col width="78%" />
</colgroup>
<thead valign="bottom">
<tr class="row-odd"><th class="head"><strong>Operator</strong></th>
<th class="head"><strong>Purpose</strong></th>
</tr>
</thead>
<tbody valign="top">
<tr class="row-even"><td>&lt;</td>
<td>Is <em>left</em> less than <em>right</em>?</td>
</tr>
<tr class="row-odd"><td>&lt;=</td>
<td>Is <em>left</em> less than or equal to <em>right</em>?</td>
</tr>
<tr class="row-even"><td>==</td>
<td>Is <em>left</em> equal to <em>right</em>?</td>
</tr>
<tr class="row-odd"><td>!=</td>
<td>Is <em>left</em> not equal to <em>right</em>?</td>
</tr>
<tr class="row-even"><td>&gt;=</td>
<td>Is <em>left</em> greater than or equal to <em>right</em>?</td>
</tr>
<tr class="row-odd"><td>&gt;</td>
<td>Is <em>left</em> greater than <em>right</em>?</td>
</tr>
<tr class="row-even"><td>%</td>
<td>Does <em>left</em> have a remainder with <em>right</em>?</td>
</tr>
<tr class="row-odd"><td>!%</td>
<td>Is <em>left</em> an exact multiple of <em>right</em>?</td>
</tr>
<tr class="row-even"><td>&lt;&gt;</td>
<td>Is <em>left</em> within the exclusive range of <em>right</em>?</td>
</tr>
<tr class="row-odd"><td>[]</td>
<td>Is <em>left</em> within the inclusive range of <em>right</em>?</td>
</tr>
<tr class="row-even"><td>&lt;]</td>
<td>Is <em>left</em> within the in/ex-clusive range of <em>right</em>?</td>
</tr>
<tr class="row-odd"><td>[&gt;</td>
<td>Is <em>left</em> within the ex/in-clusive range of <em>right</em>?</td>
</tr>
</tbody>
</table>
<p>Above, <em>left</em> refers to one of your variable arguments (e.g., $1, $2) or any constant (e.g. 45) on the left hand side of the operator.
On the right hand side of the operator, <em>right</em> is either one of your other variables, or a constant, or a range indicated by
two colon-separated constants or variables (e.g., 10:50, $2:60, $3:$4, etc.).</p>
<div class="section" id="simple-conditional-test">
<h4>28.2.8.1. Simple conditional test<a class="headerlink" href="#simple-conditional-test" title="Permalink to this headline">¶</a></h4>
<p>The simple if-test uses a one-line format, defined as</p>
<blockquote>
<div><strong>if</strong> <em>left</em> <em>OP</em> <em>right</em> <strong>then</strong> <em>command</em></div></blockquote>
<p>where <em>left</em> must be one of the symbol parameters, specified as $1, $2,
$3, etc., or a constant. You must document what these additional parameters control. For
example, to plot a small cyan circle at (0.2, 0.3) with diameter 0.4
only if $2 exceeds 45 you would write</p>
<blockquote>
<div><div class="highlight-bash notranslate"><div class="highlight"><pre><span></span><span class="k">if</span> <span class="nv">$2</span> &gt; <span class="m">45</span> <span class="k">then</span> <span class="m">0</span>.2 <span class="m">0</span>.3 <span class="m">0</span>.4 c -Gcyan
</pre></div>
</div>
</div></blockquote>
<p>Note that this form of the conditional test has no mechanism for an
<strong>else</strong> branch, but this can be accomplished by repeating the test but
reversing the logic for the second copy, e.g.,</p>
<blockquote>
<div><div class="highlight-bash notranslate"><div class="highlight"><pre><span></span><span class="k">if</span> <span class="nv">$1</span> &gt; <span class="m">10</span> <span class="k">then</span> <span class="m">0</span> <span class="m">0</span> <span class="m">0</span>.5 c -Gred
<span class="k">if</span> <span class="nv">$1</span> &lt;<span class="o">=</span> <span class="m">10</span> <span class="k">then</span> <span class="m">0</span> <span class="m">0</span> <span class="m">0</span>.5 c -Gblue
</pre></div>
</div>
</div></blockquote>
<p>or you may instead consider the complete conditional construct below.
Using a comparison between variables is similarly straightforward:</p>
<blockquote>
<div><div class="highlight-bash notranslate"><div class="highlight"><pre><span></span><span class="k">if</span> <span class="nv">$2</span> &gt; <span class="nv">$3</span> <span class="k">then</span> <span class="m">0</span>.2 <span class="m">0</span>.3 <span class="m">0</span>.4 c -Ggreen
</pre></div>
</div>
</div></blockquote>
</div>
<div class="section" id="complete-conditional-test">
<h4>28.2.8.2. Complete conditional test<a class="headerlink" href="#complete-conditional-test" title="Permalink to this headline">¶</a></h4>
<p>The complete conditional test uses a multi-line format, such as</p>
<div class="line-block">
<div class="line"><strong>if</strong> <em>left</em> <em>OP *right</em> <strong>then</strong> {</div>
<div class="line-block">
<div class="line">&lt;one or more lines with commands&gt;</div>
</div>
<div class="line">} <strong>elseif</strong> <em>left</em> OP <em>right</em> <strong>then</strong> {</div>
<div class="line-block">
<div class="line">&lt;one or more lines with commands&gt;</div>
</div>
<div class="line">} <strong>else</strong> {</div>
<div class="line-block">
<div class="line">&lt;one or more lines with commands&gt;</div>
</div>
<div class="line">}</div>
</div>
<p>The <strong>elseif</strong> (one or more) and <strong>else</strong> branches are optional. Note
that the syntax is strictly enforced, meaning the opening brace must
appear after <strong>then</strong> with nothing following it, and the closing brace
must appear by itself with no other text, and that the <strong>elseif</strong> and
<strong>else</strong> statements must have both closing and opening braces on the
same line (and nothing else). If you need comments please add them as
separate lines.  You may nest tests as well (up to 10
levels deep), e.g.,</p>
<blockquote>
<div><div class="highlight-bash notranslate"><div class="highlight"><pre><span></span><span class="k">if</span> <span class="nv">$1</span> &gt; <span class="m">45</span> <span class="k">then</span> <span class="o">{</span>
        <span class="k">if</span> <span class="nv">$2</span> <span class="o">[</span>&gt; <span class="m">0</span>:10 <span class="k">then</span> <span class="m">0</span> <span class="m">0</span> <span class="m">0</span>.5 c -Gred
<span class="o">}</span> elseif <span class="nv">$1</span> &lt; <span class="m">15</span> <span class="k">then</span> <span class="o">{</span>
        <span class="k">if</span> <span class="nv">$2</span> <span class="o">[</span>&gt; <span class="m">0</span>:10 <span class="k">then</span> <span class="m">0</span> <span class="m">0</span> <span class="m">0</span>.5 c -Ggreen
<span class="o">}</span> <span class="k">else</span> <span class="o">{</span>
        <span class="k">if</span> <span class="nv">$2</span> <span class="o">[</span>&gt; <span class="m">10</span>:20 <span class="k">then</span> <span class="o">{</span>
                <span class="m">0</span> <span class="m">0</span> M -W1p,blue
                <span class="m">0</span>.3 <span class="m">0</span>.3 D
                S
                <span class="m">0</span>.3 <span class="m">0</span>.3 <span class="m">0</span>.3 c -Gcyan
        <span class="o">}</span>
<span class="o">}</span>
</pre></div>
</div>
</div></blockquote>
</div>
</div>
</div>
</div>
<div class="section" id="annotation-of-contours-and-quoted-lines">
<h1>29. Annotation of Contours and “Quoted Lines”<a class="headerlink" href="#annotation-of-contours-and-quoted-lines" title="Permalink to this headline">¶</a></h1>
<p>The GMT programs <a class="reference internal" href="grdcontour.html"><span class="doc">grdcontour</span></a> (for
data given as 2-dimensional grids) and
<a class="reference internal" href="pscontour.html"><span class="doc">pscontour</span></a> (for <em>x,y,z</em> tables) allow
for contouring of data sets, while <a class="reference internal" href="psxy.html"><span class="doc">psxy</span></a>
and <a class="reference internal" href="psxyz.html"><span class="doc">psxyz</span></a> can plot lines based on <em>x,y</em>-
and <em>x,y,z</em>-tables, respectively. In both cases it may be necessary to
attach labels to these lines. Clever or optimal placements of labels is
a very difficult topic, and GMT provides several algorithms for this
placement as well as complete freedom in specifying the attributes of
the labels. Because of the richness of these choices we present this
Chapter which summarizes the various options and gives several examples
of their use.</p>
<div class="section" id="label-placement">
<h2>29.1. Label Placement<a class="headerlink" href="#label-placement" title="Permalink to this headline">¶</a></h2>
<p>While the previous GMT versions 1--3 allowed for a single algorithm
that determined where labels would be placed, GMT 4 allows for five
different algorithms. Furthermore, a new “symbol” option (<strong>-Sq</strong> for
“quoted line”) has been added to <a class="reference internal" href="psxy.html"><span class="doc">psxy</span></a> and
<a class="reference internal" href="psxyz.html"><span class="doc">psxyz</span></a> and hence the new label placement
mechanisms apply to those programs as well. The contouring programs
expect the algorithm to be specified as arguments to <strong>-G</strong> while the
line plotting programs expect the same arguments to follow <strong>-Sq</strong>. The
information appended to these options is the same in both cases and is
of the form [<strong>code</strong>]<em>info</em>. The five algorithms correspond to the
five codes below (some codes will appear in both upper and lower case;
they share the same algorithm but differ in some other ways). In what
follows, the phrase “line segment” is taken to mean either a contour or
a line to be labeled. The codes are:</p>
<dl class="docutils">
<dt><strong>d</strong>:</dt>
<dd>Full syntax is
<strong>d</strong><em>dist</em>[<strong>c|i|p</strong>][/<em>frac</em>].
Place labels according to the distance measured along the projected
line on the map. Append the unit you want to measure distances in
[Default is taken from <a class="reference internal" href="gmt.conf.html#proj-length-unit"><span class="std std-ref">PROJ_LENGTH_UNIT</span></a>]. Starting at the
beginning of a line, place labels every <em>dist</em> increment of distance
along the line. To ensure that closed lines whose total length is
less than <em>dist</em> get annotated, we may append <em>frac</em> which will
place the first label at the distance <em>d = dist</em>
<span class="math notranslate nohighlight">\(\times\)</span> <em>frac</em> from the start of a closed line (and every
<em>dist</em> thereafter). If not given, <em>frac</em> defaults to 0.25.</dd>
<dt><strong>D</strong>:</dt>
<dd>Full syntax is
<strong>D</strong><em>dist</em>[<strong>d|m|s|e|f|k|M|n</strong>][/<em>frac</em>].
This option is similar to <strong>d</strong> except the original data must be
referred to geographic coordinates (and a map projection must have
been chosen) and actual Earth <a class="footnote-reference" href="#id101" id="id57">[41]</a> surface distances along the
lines are considered. Append the unit you want to measure distances
in; choose among arc <strong>d</strong>egree, <strong>m</strong>inute, and <strong>s</strong>econd,
or m<strong>e</strong>ter [Default], <strong>f</strong>eet, <strong>k</strong>ilometer, statute
<strong>M</strong>iles, or <strong>n</strong>autical miles. Other aspects are similar to
code <strong>d</strong>.</dd>
<dt><strong>f</strong>:</dt>
<dd>Full syntax is
<strong>f</strong><em>fix.txt</em>[/<em>slop</em>[<strong>c|i|p</strong>]].
Here, an ASCII file <em>fix.txt</em> is given which must contain records
whose first two columns hold the coordinates of points along the
lines at which locations the labels should be placed. Labels will
only be placed if the coordinates match the line coordinates to
within a distance of <em>slop</em> (append unit or we use
<a class="reference internal" href="gmt.conf.html#proj-length-unit"><span class="std std-ref">PROJ_LENGTH_UNIT</span></a>). The default <em>slop</em> is zero, meaning only
exact coordinate matches will do.</dd>
<dt><strong>l</strong>:</dt>
<dd>Full syntax is <strong>l</strong><em>line1</em>[,<em>line2</em>[, …]]. One or more
straight line segments are specified separated by commas, and labels
will be placed at the intersections between these lines and our line
segments. Each <em>line</em> specification implies a <em>start</em> and <em>stop</em>
point, each corresponding to a coordinate pair. These pairs can be
regular coordinate pairs (i.e., longitude/latitude separated by a
slash), or they can be two-character codes that refer to
predetermined points relative to the map region. These codes are
taken from the <a class="reference internal" href="pstext.html"><span class="doc">pstext</span></a> justification keys
[<strong>L|C|R</strong>][<strong>B|M|T</strong>]
so that the first character determines the <em>x</em>-coordinate and
the second determines the <em>y</em>-coordinate. In
<a class="reference internal" href="grdcontour.html"><span class="doc">grdcontour</span></a>, you can also use
the two codes <strong>Z+</strong> and <strong>Z-</strong> as shorthands for the location of
the grid’s global maximum and minimum, respectively. For example,
the <em>line</em> <strong>LT</strong>/<strong>RB</strong> is a diagonal from the upper left to the
lower right map corner, while <strong>Z-</strong>/135W/15S is a line from the
grid minimum to the point (135ºW, 15ºS).</dd>
<dt><strong>L</strong>:</dt>
<dd>Same as <strong>l</strong> except we will treat the lines given as great circle
start/stop coordinates and fill in the points between before looking
for intersections.  You must make sure not to give antipodal start and
stop coordinates since the great circle path would be undefined.</dd>
<dt><strong>n</strong>:</dt>
<dd>Full syntax is
<strong>n</strong><em>number</em>[/<em>minlength</em>[<strong>c|i|p</strong>]].
Place <em>number</em> of labels along each line regardless of total line
length. The line is divided into <em>number</em> segments and the labels
are placed at the centers of these segments. Optionally, you may
give a <em>minlength</em> distance to ensure that no labels are placed
closer than this distance to its neighbors.</dd>
<dt><strong>N</strong>:</dt>
<dd>Full syntax is
<strong>N</strong><em>number</em>[/<em>minlength</em>[<strong>c|i|p</strong>]].
Similar to code <strong>n</strong> but here labels are placed at the ends of each
segment (for <em>number</em> &gt;= 2). A special case arises for
<em>number = 1</em> when a single label will be placed according to
the sign of <em>number</em>: -1 places one label justified at the
start of the line, while +1 places one label justified at
the end of the line.</dd>
<dt><strong>s</strong>:</dt>
<dd>Similar to <strong>n</strong> but splits input lines into a series of two-point
line segments first.  The rest of the algorithm them operates on
these sets of lines.  This code (and <strong>S</strong>) are specific to
quoted lines.</dd>
<dt><strong>S</strong>:</dt>
<dd>Similar to <strong>N</strong> but with the modification described for <strong>s</strong>.</dd>
<dt><strong>x</strong>:</dt>
<dd>Full syntax is <strong>x</strong><em>cross.d</em>. Here, an ASCII file <em>cross.d</em> is a
multi-segment file whose lines will intersect our segment lines;
labels will be placed at these intersections.</dd>
<dt><strong>X</strong>:</dt>
<dd>Same as <strong>x</strong> except we treat the lines given as great circle
start/stop coordinates and fill in the points between before looking
for intersections.</dd>
</dl>
<p>Only one algorithm can be specified at any given time.</p>
</div>
<div class="section" id="label-attributes">
<h2>29.2. Label Attributes<a class="headerlink" href="#label-attributes" title="Permalink to this headline">¶</a></h2>
<p>Determining where to place labels is half the battle. The other half is
to specify exactly what are the attributes of the labels. It turns out
that there are quite a few possible attributes that we may want to
control, hence understanding how to specify these attributes becomes
important. In the contouring programs, one or more attributes may be
appended to the <strong>-A</strong> option using the format +<em>code</em>[<em>args</em>] for
each attribute, whereas for the line plotting programs these attributes
are appended to the <strong>-Sq</strong> option following a colon (:) that separates
the label codes from the placement algorithm. Several of the attributes
do not apply to contours so we start off with listing those that apply
universally. These codes are:</p>
<dl class="docutils">
<dt><strong>+a</strong>:</dt>
<dd>Controls the angle of the label relative to the angle of the line.
Append <strong>n</strong> for normal to the line, give a fixed <em>angle</em> measured
counter-clockwise relative to the horizontal. or append <strong>p</strong> for
parallel to the line [Default]. If using
<a class="reference internal" href="grdcontour.html"><span class="doc">grdcontour</span></a> the latter option
you may further append <strong>u</strong> or <strong>d</strong> to get annotations whose upper
edge always face the next higher or lower contour line.</dd>
<dt><strong>+c</strong>:</dt>
<dd>Surrounding each label is an imaginary label “textbox” which defines
a region in which no segment lines should be visible. The initial
box provides an exact fit to the enclosed text but clearance may be
extended in both the horizontal and vertical directions (relative to
the label baseline) by the given amounts. If these should be
different amounts please separate them by a slash; otherwise the
single value applies to both directions. Append the distance units
of your choice (<strong>c|i|m|p</strong>), or
give % to indicate that the clearance should be this fixed
percentage of the label font size in use. The default is 15%.</dd>
<dt><strong>+d</strong>:</dt>
<dd>Debug mode. This is useful when testing contour placement as it will
draw the normally invisible helper lines and points in the label
placement algorithms above.</dd>
<dt><strong>+e</strong>:</dt>
<dd>Delayed mode, to delay the plotting of the text as text clipping is set instead.</dd>
<dt><strong>+f</strong>:</dt>
<dd>Specifies the desired label font, including size or color. See
<a class="reference internal" href="pstext.html"><span class="doc">pstext</span></a> for font names or numbers.
The default font is given by <a class="reference internal" href="gmt.conf.html#font-annot-primary"><span class="std std-ref">FONT_ANNOT_PRIMARY</span></a>.</dd>
<dt><strong>+g</strong>:</dt>
<dd>Selects opaque rather than the default transparent text boxes. You
may optionally append the color you want to fill the label boxes;
the default is the same as <a class="reference internal" href="gmt.conf.html#ps-page-color"><span class="std std-ref">PS_PAGE_COLOR</span></a>.</dd>
<dt><strong>+j</strong>:</dt>
<dd>Selects the justification of the label relative to the placement
points determined above. Normally this is center/mid justified
(<strong>CM</strong> in <a class="reference internal" href="pstext.html"><span class="doc">pstext</span></a> justification
parlance) and this is indeed the default setting. Override by using
this option and append another justification key code from
[<strong>L|C|R</strong>][<strong>B|M|T</strong>].
Note for curved text (<strong>+v</strong>) only vertical justification will be
affected.</dd>
<dt><strong>+o</strong>:</dt>
<dd>Request a rounded, rectangular label box shape; the default is
rectangular. This is only manifested if the box is filled or
outlined, neither of which is implied by this option alone (see
<strong>+g</strong> and <strong>+p</strong>). As this option only applies to straight text, it
is ignored if <strong>+v</strong> is given.</dd>
<dt><strong>+p</strong>:</dt>
<dd>Selects the drawing of the label box outline; append your preferred
<em>pen</em> unless you want the default GMT pen [0.25p,black].</dd>
<dt><strong>+r</strong>:</dt>
<dd>Do <em>not</em> place labels at points along the line whose local radius of
curvature falls below the given threshold value. Append the radius
unit of your choice (<strong>c|i|p</strong>) [Default is 0].</dd>
<dt><strong>+u</strong>:</dt>
<dd>Append the chosen <em>unit</em> to the label. Normally a space will
separate the label and the unit. If you want to close this gap,
append a <em>unit</em> that begins with a hyphen (-). If you are contouring
with <a class="reference internal" href="grdcontour.html"><span class="doc">grdcontour</span></a> and you specify
this option without appending a unit, the unit will be taken from
the <em>z</em>-unit attribute of the grid header.</dd>
<dt><strong>+v</strong>:</dt>
<dd>Place curved labels that follow the wiggles of the line segments.
This is especially useful if the labels are long relative to the
length-scale of the wiggles. The default places labels on an
invisible straight line at the angle determined.</dd>
<dt><strong>+w</strong>:</dt>
<dd>The angle of the line at the point of straight label placement is
calculated by a least-squares fit to the <em>width</em> closest points. If
not specified, <em>width</em> defaults to 10.</dd>
<dt><strong>+=</strong>:</dt>
<dd>Similar in most regards to <strong>+u</strong> but applies instead to a label
<em>prefix</em> which you must append.</dd>
</dl>
<p>For contours, the label will be the value of the contour (possibly
modified by <strong>+u</strong> or <strong>+=</strong>). However, for quoted lines other options apply:</p>
<dl class="docutils">
<dt><strong>+l</strong>:</dt>
<dd>Append a fixed <em>label</em> that will be placed at all label locations.
If the label contains spaces you must place it inside matching
quotes.</dd>
<dt><strong>+L</strong>:</dt>
<dd><p class="first">Append a code <em>flag</em> that will determine the label. Available codes
are:</p>
<dl class="last docutils">
<dt><strong>+Lh</strong>:</dt>
<dd>Take the label from the current multi-segment header (hence it
is assumed that the input line segments are given in the
multi-segment file format; if not we pick the single label from
the file’s header record). We first scan the header for an
embedded <strong>-L</strong><em>label</em> option; if none is found we instead use
the first word following the segment marker [&gt;].</dd>
<dt><strong>+Ld</strong>:</dt>
<dd>Take the Cartesian plot distances along the line as the label;
append <strong>c|i|p</strong> as the unit [Default is
<a class="reference internal" href="gmt.conf.html#proj-length-unit"><span class="std std-ref">PROJ_LENGTH_UNIT</span></a>]. The label will be formatted according
to the <a class="reference internal" href="gmt.conf.html#format-float-out"><span class="std std-ref">FORMAT_FLOAT_OUT</span></a> string, <em>unless</em> label placement
was determined from map distances along the segment lines, in
which case we determine the appropriate format from the distance
value itself.</dd>
<dt><strong>+LD</strong>:</dt>
<dd>Calculate actual Earth surface distances and use the distance at
the label placement point as the label; append
<strong>d|e|f|k|m|M|n|s</strong>
to specify the unit [If not given we default to <strong>d</strong>egrees,
<em>unless</em> label placement was determined from map distances along
the segment lines, in which case we use the same unit specified
for that algorithm]. Requires a map projection to be used.</dd>
<dt><strong>+Lf</strong>:</dt>
<dd>Use all text after the 2nd column in the fixed label location
file <em>fix.txt</em> as labels. This choice obviously requires the
fixed label location algorithm (code <strong>f</strong>) to be in effect.</dd>
<dt><strong>+Ln</strong>:</dt>
<dd>Use the running number of the current multi-segment as label.</dd>
<dt><strong>+LN</strong>:</dt>
<dd>Use a slash-separated combination of the current file number and
the current multi-segment number as label.</dd>
<dt><strong>+Lx</strong>:</dt>
<dd>As <strong>h</strong> but use the multi-segment headers in the <em>cross.d</em> file
instead. This choice obviously requires the crossing segments
location algorithm (code <strong>x|X</strong>) to be in effect.</dd>
</dl>
</dd>
</dl>
</div>
<div class="section" id="examples-of-contour-label-placement">
<h2>29.3. Examples of Contour Label Placement<a class="headerlink" href="#examples-of-contour-label-placement" title="Permalink to this headline">¶</a></h2>
<p>We will demonstrate the use of these options with a few simple examples.
First, we will contour a subset of the global geoid data used in
Example <a class="reference internal" href="gallery/ex01.html#example-01"><span class="std std-ref">(1) Contour maps</span></a>; the region selected encompasses the world’s strongest
“geoid dipole”: the Indian Low and the New Guinea High.</p>
<div class="section" id="equidistant-labels">
<h3>29.3.1. Equidistant labels<a class="headerlink" href="#equidistant-labels" title="Permalink to this headline">¶</a></h3>
<p>Our first example uses the default placement algorithm. Because of the
size of the map we request contour labels every 1.5 inches along the
lines:</p>
<blockquote>
<div><div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>gmt pscoast -R50/160/-15/15 -JM5.3i -Gburlywood -Sazure -A500 -K -P &gt; GMT_App_O_1.ps
gmt grdcontour geoid.nc -J -O -B20f10 -BWSne -C10 -A20+f8p -Gd1.5i -S10 -T+lLH &gt;&gt; GMT_App_O_1.ps
</pre></div>
</div>
</div></blockquote>
<p>As seen in Figure <a class="reference internal" href="#contour-label-1"><span class="std std-ref">Contour label 1</span></a>, the contours are
placed rather arbitrary. The string of contours for -40 to
60 align well but that is a fortuitous consequence of reaching
the 1.5 inch distance from the start at the bottom of the map.</p>
<div class="figure align-center" id="id209">
<span id="contour-label-1"></span><a class="reference internal image-reference" href="_images/GMT_App_O_1.png"><img alt="_images/GMT_App_O_1.png" src="_images/GMT_App_O_1.png" style="width: 500px;" /></a>
<p class="caption"><span class="caption-text">Equidistant contour label placement with <strong>-Gd</strong>, the only algorithm
available in previous GMT versions.</span></p>
</div>
</div>
<div class="section" id="fixed-number-of-labels">
<h3>29.3.2. Fixed number of labels<a class="headerlink" href="#fixed-number-of-labels" title="Permalink to this headline">¶</a></h3>
<p>We now exercise the option for specifying exactly how many labels each
contour line should have:</p>
<blockquote>
<div><div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>gmt pscoast -R50/160/-15/15 -JM5.3i -Gburlywood -Sazure -A500 -K -P &gt; GMT_App_O_2.ps
gmt grdcontour geoid.nc -J -O -B20f10 -BWSne -C10 -A20+f8p -Gn1/1i -S10 -T+lLH &gt;&gt; GMT_App_O_2.ps
</pre></div>
</div>
</div></blockquote>
<p>By selecting only one label per contour and requiring that labels only
be placed on contour lines whose length exceed 1 inch, we achieve the
effect shown in Figure <a class="reference internal" href="#contour-label-2"><span class="std std-ref">Contour label 2</span></a>.</p>
<div class="figure align-center" id="id210">
<span id="contour-label-2"></span><a class="reference internal image-reference" href="_images/GMT_App_O_2.png"><img alt="_images/GMT_App_O_2.png" src="_images/GMT_App_O_2.png" style="width: 500px;" /></a>
<p class="caption"><span class="caption-text">Placing one label per contour that exceed 1 inch in length, centered on the segment with <strong>-Gn</strong>.</span></p>
</div>
</div>
<div class="section" id="prescribed-label-placements">
<h3>29.3.3. Prescribed label placements<a class="headerlink" href="#prescribed-label-placements" title="Permalink to this headline">¶</a></h3>
<p>Here, we specify four points where we would like contour labels to be
placed. Our points are not exactly on the contour lines so we give a
nonzero “slop” to be used in the distance calculations: The point on the
contour closest to our fixed points and within the given maximum
distance will host the label.</p>
<blockquote>
<div><div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>cat <span class="s">&lt;&lt; EOF &gt; fix.txt</span>
<span class="s">80      -8.5</span>
<span class="s">55      -7.5</span>
<span class="s">102     0</span>
<span class="s">130     10.5</span>
<span class="s">EOF</span>
gmt pscoast -R50/160/-15/15 -JM5.3i -Gburlywood -Sazure -A500 -K -P &gt; GMT_App_O_3.ps
gmt grdcontour geoid.nc -J -O -B20f10 -BWSne -C10 -A20+d+f8p -Gffix.txt/0.1i -S10 -T+lLH &gt;&gt; GMT_App_O_3.ps
</pre></div>
</div>
</div></blockquote>
<p>The angle of the label is evaluated from the contour line geometry, and
the final result is shown in Figure <a class="reference internal" href="#contour-label-3"><span class="std std-ref">Contour label 3</span></a>.
To aid in understanding the algorithm we chose to specify “debug” mode
(<strong>+d</strong>) which placed a small circle at each of the fixed points.</p>
<div class="figure align-center" id="id211">
<span id="contour-label-3"></span><a class="reference internal image-reference" href="_images/GMT_App_O_3.png"><img alt="_images/GMT_App_O_3.png" src="_images/GMT_App_O_3.png" style="width: 500px;" /></a>
<p class="caption"><span class="caption-text">Four labels are positioned on the points along the contours that are
closest to the locations given in the file fix.txt in the <strong>-Gf</strong> option.</span></p>
</div>
</div>
<div class="section" id="label-placement-at-simple-line-intersections">
<h3>29.3.4. Label placement at simple line intersections<a class="headerlink" href="#label-placement-at-simple-line-intersections" title="Permalink to this headline">¶</a></h3>
<p>Often, it will suffice to place contours at the imaginary intersections
between the contour lines and a well-placed straight line segment. The
<strong>-Gl</strong> or <strong>-GL</strong> algorithms work well in those cases:</p>
<blockquote>
<div><div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>gmt pscoast -R50/160/-15/15 -JM5.3i -Gburlywood -Sazure -A500 -K -P &gt; GMT_App_O_4.ps
gmt grdcontour geoid.nc -J -O -B20f10 -BWSne -C10 -A20+d+f8p -GLZ-/Z+ -S10 -T+lLH &gt;&gt; GMT_App_O_4.ps
</pre></div>
</div>
</div></blockquote>
<p>The obvious choice in this example is to specify a great circle between
the high and the low, thus placing all labels between these extrema.</p>
<div class="figure align-center" id="id212">
<span id="contour-label-4"></span><a class="reference internal image-reference" href="_images/GMT_App_O_4.png"><img alt="_images/GMT_App_O_4.png" src="_images/GMT_App_O_4.png" style="width: 500px;" /></a>
<p class="caption"><span class="caption-text">Labels are placed at the intersections between contours and the great circle specified in the <strong>-GL</strong> option.</span></p>
</div>
<p>The thin debug line in Figure <a class="reference internal" href="#contour-label-4"><span class="std std-ref">Contour label 4</span></a> shows
the great circle and the intersections where labels are plotted. Note
that any number of such lines could be specified; here we are content
with just one.</p>
</div>
<div class="section" id="label-placement-at-general-line-intersections">
<h3>29.3.5. Label placement at general line intersections<a class="headerlink" href="#label-placement-at-general-line-intersections" title="Permalink to this headline">¶</a></h3>
<p>If (1) the number of intersecting straight line segments needed to pick
the desired label positions becomes too large to be given conveniently
on the command line, or (2) we have another data set or lines whose
intersections we wish to use, the general crossing algorithm makes more
sense:</p>
<blockquote>
<div><div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>gmt pscoast -R50/160/-15/15 -JM5.3i -Gburlywood -Sazure -A500 -K -P &gt; GMT_App_O_5.ps
gmt grdcontour geoid.nc -J -O -B20f10 -BWSne -C10 -A20+d+f8p -GXcross.txt -S10 -T+lLH &gt;&gt; GMT_App_O_5.ps
</pre></div>
</div>
</div></blockquote>
<div class="figure align-center" id="id213">
<span id="contour-label-5"></span><a class="reference internal image-reference" href="_images/GMT_App_O_5.png"><img alt="_images/GMT_App_O_5.png" src="_images/GMT_App_O_5.png" style="width: 500px;" /></a>
<p class="caption"><span class="caption-text">Labels are placed at the intersections between contours and the
multi-segment lines specified in the <strong>-GX</strong> option.</span></p>
</div>
<p>In this case, we have created three strands of lines whose intersections
with the contours define the label placements, presented in
Figure <a class="reference internal" href="#contour-label-5"><span class="std std-ref">Contour label 5</span></a>.</p>
</div>
</div>
<div class="section" id="examples-of-label-attributes">
<h2>29.4. Examples of Label Attributes<a class="headerlink" href="#examples-of-label-attributes" title="Permalink to this headline">¶</a></h2>
<p>We will now demonstrate some of the ways to play with the label
attributes. To do so we will use <a class="reference internal" href="psxy.html"><span class="doc">psxy</span></a> on
a great-circle line connecting the geoid extrema, along which we have
sampled the ETOPO5 relief data set. The file thus contains <em>lon, lat,
dist, geoid, relief</em>, with distances in km.</p>
<div class="section" id="label-placement-by-along-track-distances-1">
<h3>29.4.1. Label placement by along-track distances, 1<a class="headerlink" href="#label-placement-by-along-track-distances-1" title="Permalink to this headline">¶</a></h3>
<p>This example will change the orientation of labels from along-track to
across-track, and surrounds the labels with an opaque, outlined text box
so that the label is more readable. We choose the place the labels every
1000 km along the line and use that distance as the label. The labels
are placed normal to the line:</p>
<blockquote>
<div><div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>gmt pscoast -R50/160/-15/15 -JM5.3i -Gburlywood -Sazure -A500 -K -P &gt; GMT_App_O_6.ps
gmt grdcontour geoid.nc -J -O -K -B20f10 -BWSne -C10 -A20+d+f8p -Gl50/10S/160/10S -S10 <span class="se">\</span>
-T+l<span class="s2">&quot;-+&quot;</span> &gt;&gt; GMT_App_O_6.ps
gmt psxy -R -J -O -SqD1000k:+g+LD+an+p -Wthick transect.txt &gt;&gt; GMT_App_O_6.ps
</pre></div>
</div>
</div></blockquote>
<div class="figure align-center" id="id214">
<span id="contour-label-6"></span><a class="reference internal image-reference" href="_images/GMT_App_O_6.png"><img alt="_images/GMT_App_O_6.png" src="_images/GMT_App_O_6.png" style="width: 500px;" /></a>
<p class="caption"><span class="caption-text">Labels attributes are controlled with the arguments to the <strong>-Sq</strong> option.</span></p>
</div>
<p>The composite illustration in Figure <a class="reference internal" href="#contour-label-6"><span class="std std-ref">Contour label 6</span></a>
shows the new effects. Note that the line connecting the extrema does
not end exactly at the ‘-‘ and ‘+’ symbols. This is because the
placements of those symbols are based on the mean coordinates of the
contour and not the locations of the (local or global) extrema.</p>
</div>
<div class="section" id="label-placement-by-along-track-distances-2">
<h3>29.4.2. Label placement by along-track distances, 2<a class="headerlink" href="#label-placement-by-along-track-distances-2" title="Permalink to this headline">¶</a></h3>
<p>A small variation on this theme is to place the labels parallel to the
line, use spherical degrees for placement, append the degree symbol as a
unit for the labels, choose a rounded rectangular text box, and
inverse-video the label:</p>
<blockquote>
<div><div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>gmt pscoast -R50/160/-15/15 -JM5.3i -Gburlywood -Sazure -A500 -K -P &gt; GMT_App_O_7.ps
gmt grdcontour geoid.nc -J -O -K -B20f10 -BWSne -C10 -A20+d+u<span class="s2">&quot; m&quot;</span>+f8p -Gl50/10S/160/10S -S10 <span class="se">\</span>
-T+l<span class="s2">&quot;-+&quot;</span> &gt;&gt; GMT_App_O_7.ps
gmt psxy -R -J -O -SqD15d:+gblack+fwhite+Ld+o+u<span class="se">\\</span><span class="m">260</span> -Wthick transect.txt &gt;&gt; GMT_App_O_7.ps
</pre></div>
</div>
</div></blockquote>
<p>The output is presented as Figure <a class="reference internal" href="#contour-label-7"><span class="std std-ref">Contour label 7</span></a>.</p>
<div class="figure align-center" id="id215">
<span id="contour-label-7"></span><a class="reference internal image-reference" href="_images/GMT_App_O_7.png"><img alt="_images/GMT_App_O_7.png" src="_images/GMT_App_O_7.png" style="width: 500px;" /></a>
<p class="caption"><span class="caption-text">Another label attribute example.</span></p>
</div>
</div>
<div class="section" id="using-a-different-data-set-for-labels">
<h3>29.4.3. Using a different data set for labels<a class="headerlink" href="#using-a-different-data-set-for-labels" title="Permalink to this headline">¶</a></h3>
<p>In the next example we will use the bathymetry values along the transect
as our label, with placement determined by the distance along track. We
choose to place labels every 1500 km. To do this we need to pull out
those records whose distances are multiples of 1500 km and create a
“fixed points” file that can be used to place labels and specify the
labels. This is done with <strong>awk</strong>.</p>
<blockquote>
<div><div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>gmt convert -i0,1,4 -Em150 transect.txt <span class="p">|</span> <span class="nv">$AWK</span> <span class="s1">&#39;{print $1,$2,int($3)}&#39;</span> &gt; fix2.txt
gmt pscoast -R50/160/-15/15 -JM5.3i -Gburlywood -Sazure -A500 -K -P &gt; GMT_App_O_8.ps
gmt grdcontour geoid.nc -J -O -K -B20f10 -BWSne -C10 -A20+d+u<span class="s2">&quot; m&quot;</span>+f8p -Gl50/10S/160/10S <span class="se">\</span>
               -S10 -T+l<span class="s2">&quot;-+&quot;</span> &gt;&gt; GMT_App_O_8.ps
gmt psxy -R -J -O -Sqffix2.txt:+g+an+p+Lf+u<span class="s2">&quot; m&quot;</span>+f8p -Wthick transect.txt &gt;&gt; GMT_App_O_8.ps
</pre></div>
</div>
</div></blockquote>
<p>The output is presented as Figure <a class="reference internal" href="#contour-label-8"><span class="std std-ref">Contour label 8</span></a>.</p>
<div class="figure align-center" id="id216">
<span id="contour-label-8"></span><a class="reference internal image-reference" href="_images/GMT_App_O_8.png"><img alt="_images/GMT_App_O_8.png" src="_images/GMT_App_O_8.png" style="width: 500px;" /></a>
<p class="caption"><span class="caption-text">Labels based on another data set (here bathymetry) while the placement is based on distances.</span></p>
</div>
</div>
</div>
<div class="section" id="putting-it-all-together">
<h2>29.5. Putting it all together<a class="headerlink" href="#putting-it-all-together" title="Permalink to this headline">¶</a></h2>
<p>Finally, we will make a more complex composite illustration that uses
several of the label placement and label attribute settings discussed in
the previous sections. We make a map showing the tsunami travel times
(in hours) from a hypothetical catastrophic landslide in the Canary
Islands <a class="footnote-reference" href="#id102" id="id58">[42]</a>. We lay down a color map based on the travel times and the
shape of the seafloor, and travel time contours with curved labels as
well as a few quoted lines. The final script is</p>
<blockquote>
<div><div class="highlight-bash notranslate"><div class="highlight"><pre><span></span><span class="nv">R</span><span class="o">=</span>-R-85/5/10/55
gmt grdgradient topo5.nc -Nt1 -A45 -Gtopo5_int.nc
gmt <span class="nb">set</span> FORMAT_GEO_MAP ddd:mm:ssF FONT_ANNOT_PRIMARY +9p FONT_TITLE 22p
gmt project -E-74/41 -C-17/28 -G10 -Q &gt; great_NY_Canaries.txt
gmt project -E-74/41 -C2.33/48.87 -G100 -Q &gt; great_NY_Paris.txt
<span class="nv">km</span><span class="o">=</span><span class="sb">`</span><span class="nb">echo</span> -17 <span class="m">28</span> <span class="p">|</span> gmt mapproject -G-74/41/k -fg --FORMAT_FLOAT_OUT<span class="o">=</span>%.0f -o2<span class="sb">`</span>
cat <span class="s">&lt;&lt; EOF &gt; ttt.cpt</span>
<span class="s">0  lightred        3       lightred</span>
<span class="s">3  lightyellow     6       lightyellow</span>
<span class="s">6  lightgreen      100     lightgreen</span>
<span class="s">EOF</span>
gmt grdimage ttt_atl.nc -Itopo5_int.nc -Cttt.cpt <span class="nv">$R</span> -JM5.3i -P -K -nc+t1 &gt; GMT_App_O_9.ps
gmt grdcontour ttt_atl.nc -R -J -O -K -C0.5 -A1+u<span class="s2">&quot; hour&quot;</span>+v+f8p,Bookman-Demi <span class="se">\</span>
               -GL80W/31N/17W/26N,17W/28N/17W/50N -S2 &gt;&gt; GMT_App_O_9.ps
gmt psxy -R -J -Wfatter,white great_NY_Canaries.txt -O -K  &gt;&gt; GMT_App_O_9.ps
gmt pscoast -R -J -B20f5 -BWSne+t<span class="s2">&quot;Tsunami travel times from the Canaries&quot;</span> -N1/thick -O -K <span class="se">\</span>
            -Glightgray -Wfaint -A500 &gt;&gt; GMT_App_O_9.ps
gmt convert great_NY_*.txt -E <span class="p">|</span> gmt psxy -R -J -O -K -Sa0.15i -Gred -Wthin &gt;&gt; GMT_App_O_9.ps
gmt psxy -R -J -Wthick great_NY_Canaries.txt -O -K <span class="se">\</span>
         -Sqn1:+f8p,Times-Italic+l<span class="s2">&quot;Distance Canaries to New York = </span><span class="nv">$km</span><span class="s2"> km&quot;</span>+ap+v &gt;&gt; GMT_App_O_9.ps
gmt psxy -R -J great_NY_Paris.txt -O -K -Sc0.08c -Gblack &gt;&gt; GMT_App_O_9.ps
gmt psxy -R -J -Wthinner great_NY_Paris.txt -SqD1000k:+an+o+gblue+LDk+f7p,Helvetica-Bold,white <span class="se">\</span>
         -O -K &gt;&gt; GMT_App_O_9.ps
cat <span class="s">&lt;&lt; EOF | gmt pstext -R -J -O -K -Gwhite -Wthin -Dj0.1i/0.1i -F+f8p,Bookman-Demi+j \</span>
<span class="s">                        &gt;&gt; GMT_App_O_9.ps</span>
<span class="s">74W        41N     RT      New York</span>
<span class="s">2.33E      48.87N  CT      Paris</span>
<span class="s">17W        28N     CT      Canaries</span>
<span class="s">EOF</span>
gmt psxy -R -J -O -T &gt;&gt; GMT_App_O_9.ps
</pre></div>
</div>
</div></blockquote>
<p>with the complete illustration presented as Figure
<a class="reference internal" href="#contour-label-9"><span class="std std-ref">Contour label 9</span></a>.</p>
<div class="figure align-center" id="id217">
<span id="contour-label-9"></span><a class="reference internal image-reference" href="_images/GMT_App_O_9.png"><img alt="_images/GMT_App_O_9.png" src="_images/GMT_App_O_9.png" style="width: 500px;" /></a>
<p class="caption"><span class="caption-text">Tsunami travel times from the Canary Islands to places in the Atlantic,
in particular New York. Should a catastrophic landslide occur it is possible
that New York will experience a large tsunami about 8 hours after the event.</span></p>
</div>
</div>
</div>
<div class="section" id="special-operations">
<h1>30. Special Operations<a class="headerlink" href="#special-operations" title="Permalink to this headline">¶</a></h1>
<div class="section" id="running-gmt-in-isolation-mode">
<span id="isolation-mode"></span><h2>30.1. Running GMT in <em>isolation mode</em><a class="headerlink" href="#running-gmt-in-isolation-mode" title="Permalink to this headline">¶</a></h2>
<p>In Chapter <a class="reference internal" href="#general-features">General features</a> it is described how GMT creates
several (temporary) files to communicate between the different commands
that make up the script that finally creates a plot. Among those files
are:</p>
<blockquote>
<div><dl class="docutils">
<dt><strong>gmt.conf</strong> This file covers about 150 different settings that influence the</dt>
<dd>layout of your plot, from font sizes to tick lengths and date
formats (See Section <a class="reference internal" href="#gmt-defaults">GMT defaults</a>). Those settings can be altered
by editing the file, or by running the
<a class="reference internal" href="gmtset.html"><span class="doc">gmtset</span></a> command. A problem may arise
when those settings are changed half-way through the script: the
next time you run the script it will start with the modified
settings and hence might alter your scripts results. It is therefore
often necessary to revert to the original <code class="docutils literal notranslate"><span class="pre">gmt.conf</span></code> file. <em>Isolation mode</em>
avoids that issue.</dd>
<dt><strong>gmt.history</strong> This file is created to communicate the command line history from</dt>
<dd>one command to the next (Section <a class="reference internal" href="#command-line-history">Command line history</a>) so that
shorthands like <strong>-R</strong> or <strong>-J</strong> can be used once it has been set in
a previous GMT command. The existence of this file makes if
impossible to run two GMT scripts simultaneously in the same
directory, since those <code class="docutils literal notranslate"><span class="pre">gmt.history</span></code> files may clash (contain different histories)
and adversely affect the results of both scripts.</dd>
</dl>
</div></blockquote>
<p>A cure to all these woes is the <em>isolation mode</em> introduced in
GMT version 4.2.2. This mode allows you to run a GMT script without
leaving any traces other than the resulting <em>PostScript</em>  or data files,
and not altering the <code class="docutils literal notranslate"><span class="pre">gmt.conf</span></code> or <code class="docutils literal notranslate"><span class="pre">gmt.history</span></code> files. Those files will be placed in a temporary
directory instead. And if properly set up, this temporary directory will
only be used by a single script, even if another GMT script is running
simultaneously. This also provides the opportunity to create any other
temporary files that the script might create in the same directory.</p>
<p>The example below shows how <em>isolation mode</em> works.</p>
<blockquote>
<div><div class="highlight-bash notranslate"><div class="highlight"><pre><span></span><span class="nv">ps</span><span class="o">=</span>GMT_App_P_1.ps

<span class="c1"># Create a temporary directory. $GMT_TMPDIR will be set to its pathname.</span>
<span class="c1"># XXXXXX is replaced by a unique random combination of characters.</span>
<span class="nb">export</span> <span class="nv">GMT_TMPDIR</span><span class="o">=</span><span class="sb">`</span>mktemp -d /tmp/gmt.XXXXXX<span class="sb">`</span>

<span class="c1"># These settings will be local to this script only since it writes to</span>
<span class="c1"># $GMT_TMPDIR/gmt.conf</span>
gmt <span class="nb">set</span> COLOR_MODEL rgb FONT_ANNOT_PRIMARY 14p

<span class="c1"># Make grid file and color map in temporary directory</span>
gmt grdmath -Rd -I1 <span class="nv">Y</span> <span class="o">=</span> <span class="nv">$GMT_TMPDIR</span>/lat.nc
gmt makecpt -Crainbow -T-90/90/180 -Z &gt; <span class="nv">$GMT_TMPDIR</span>/lat.cpt

<span class="c1"># The gmt grdimage command creates the history file $GMT_TMPDIR/gmt.history</span>
gmt grdimage <span class="nv">$GMT_TMPDIR</span>/lat.nc -JK6.5i -C<span class="nv">$GMT_TMPDIR</span>/lat.cpt -P -K -nl &gt; <span class="nv">$ps</span>
gmt pscoast -R -J -O -Dc -A5000 -Gwhite -Bx60g30 -By30g30 &gt;&gt; <span class="nv">$ps</span>

<span class="c1"># Clean up all temporary files and the temporary directory</span>
rm -rf <span class="nv">$GMT_TMPDIR</span>
</pre></div>
</div>
</div></blockquote>
<div class="figure align-center" id="id218">
<a class="reference internal image-reference" href="_images/GMT_App_P_2.png"><img alt="_images/GMT_App_P_2.png" src="_images/GMT_App_P_2.png" style="width: 500px;" /></a>
<p class="caption"><span class="caption-text">Example created in isolation mode</span></p>
</div>
<p>The files <code class="docutils literal notranslate"><span class="pre">gmt.conf</span></code> and <code class="docutils literal notranslate"><span class="pre">gmt.history</span></code> are automatically created in the temporary directory
<code class="docutils literal notranslate"><span class="pre">$GMT_TMPDIR</span></code>. The script is also adjusted such that the temporary grid file <code class="docutils literal notranslate"><span class="pre">lat.nc</span></code> and colormap
<code class="docutils literal notranslate"><span class="pre">lat.cpt</span></code> are created in that directory as well. To make things even more easy,
GMT now provides a set of handy shell functions in <a class="reference internal" href="gmt_shell_functions.sh.html"><span class="doc">gmt_shell_functions.sh</span></a>:
simply include that file in the script and the creation and the removal
of the temporary directory is reduced to the single commands <strong>gmt_init_tmpdir</strong> and
<strong>gmt_remove_tmpdir</strong>, respectively.</p>
</div>
</div>
<div class="section" id="the-gmt-vector-data-format-for-ogr-compatibility">
<h1>31. The GMT Vector Data Format for OGR Compatibility<a class="headerlink" href="#the-gmt-vector-data-format-for-ogr-compatibility" title="Permalink to this headline">¶</a></h1>
<div class="section" id="id59">
<h2>31.1. Background<a class="headerlink" href="#id59" title="Permalink to this headline">¶</a></h2>
<p>The National Institute for Water and Atmospheric Research (NIWA) in New
Zealand has funded the implementation of a GMT driver (read and write)
for the OGR package. OGR is an Open Source toolkit for accessing or
reformatting vector (spatial) data stored in a variety of formats and is
part of the. The intention was to enable the easy rendering (using
GMT) of spatial data held in non-GMT formats, and the export of
vector data (e.g., contours) created by GMT for use with other GIS and
mapping packages. While <strong>ogr2ogr</strong> has had the capability to write
this new format since 2009, GMT 4 did not have the capability to use
the extra information.</p>
<p>GMT 5 now allows for more advanced vector data, including donut
polygons (polygons with holes) and aspatial attribute data. At the same
time, the spatial data implementation will not disrupt older GMT 4
programs since all the new information are written via comments.</p>
<p>The identification of spatial feature types in GMT files generally
follows the technical description, (which is largely consistent with the
OGC SFS specification). This specification provides for non-topological
point, line and polygon (area) features, as well as multipoint,
multiline and multipolygon features, and was written by
<a class="reference external" href="http://www.niwa.co.nz/key-contacts/brent-wood/">Brent Wood</a>
based on input from Paul Wessel and others on the GMT team.</p>
</div>
<div class="section" id="the-ogr-gmt-format">
<h2>31.2. The OGR/GMT format<a class="headerlink" href="#the-ogr-gmt-format" title="Permalink to this headline">¶</a></h2>
<p>Several key properties of the OGR/GMT format is summarized below:</p>
<ul class="simple">
<li>All new data fields are stored as comment lines, i.e., in lines
starting with a “#”. OGR/GMT files are therefore compatible with
GMT 4 binaries, which will simply ignore this new information.</li>
<li>To be consistent with current practice in GMT, data fields are
represented as whitespace-separated strings within the comments, each
identified by the “&#64;” character as a prefix, followed by a single
character identifying the content of the field. To avoid confusion
between words and strings, the word (field) separator within strings
will be the “|” (pipe or vertical bar) character.</li>
<li>Standard UNIX “&quot; escaping is used, such as \n for newline in a string.</li>
<li>All new data are stored before the spatial data (coordinates) in the
file, so when any GMT 5 program is processing the coordinate data
for a feature, it will already have parsed any non-spatial
information for each feature, which may impact on how the spatial
data is treated (e.g., utilizing the aspatial attribute data for a
feature to control symbology).</li>
<li>The first comment line must specify the version of the OGR/GMT data
format, to allow for future changes or enhancements to be supported
by future GMT programs. This document describes v1.0.</li>
<li>For consistency with other GIS formats (such as shapefiles) the
OGR/GMT format explicitly contains a field specifying whether the
features are points, linestrings or polygons, or the “multi” versions
of these. (Other shapefile feature types will not be supported at
this stage). At present, GMT programs are informed of this via
command line parameters. This will now be explicit in the data file,
but does not preclude command line switches setting symbologies for
plotting polygons as lines (perimeters) or with fills, as is
currently the practice.</li>
<li>Note that what is currently called a “multiline” (multi-segment) file
in GMT parlance is generally a set of “lines” in shapefile/OGR
usage. A multiline in this context is a single feature comprising
multiple lines. For example, all the transects from a particular
survey may be stored as lines, each with it’s own attribute set, such
as transect number, date/time, etc. They may also be stored as a
single multiline feature with one attribute set, such as trip ID.
This difference is explicitly stored in the data in OGR/shapefiles,
but currently specified only on the command line in GMT. This
applies also to points and polygons. The GMT equivalent to
{multipoint, multiline, multipolygon} datatypes is multiple
GMT files, each comprising a single {multipoint, multiline,
multipolygon} feature.</li>
<li>The new GMT vector data files includes a header comment specifying
the type of spatial features it contains, as well as the description
of the aspatial attribute data to be associated with each feature.
Unlike the shapefile format, which stores the spatial and aspatial
attribute data in separate files, the GMT format will store all
data in a single file.</li>
<li>All the features in a GMT file must be of the same type.</li>
</ul>
</div>
<div class="section" id="ogr-gmt-metadata">
<h2>31.3. OGR/GMT Metadata<a class="headerlink" href="#ogr-gmt-metadata" title="Permalink to this headline">¶</a></h2>
<p>Several pieces of metadata information must be present in the header of
the OGR/GMT file, followed by both spatial and aspatial data. In this
section we look at the metadata.</p>
<div class="section" id="format-version">
<h3>31.3.1. Format version<a class="headerlink" href="#format-version" title="Permalink to this headline">¶</a></h3>
<p>The comment header line will include a version identifier providing for
possible different versions in future. It is indicated by the <strong>&#64;V</strong>
sequence.</p>
<table border="1" class="docutils">
<colgroup>
<col width="12%" />
<col width="16%" />
<col width="72%" />
</colgroup>
<thead valign="bottom">
<tr class="row-odd"><th class="head"><strong>Code</strong></th>
<th class="head"><strong>Argument</strong></th>
<th class="head"><strong>Description</strong></th>
</tr>
</thead>
<tbody valign="top">
<tr class="row-even"><td>V</td>
<td>GMT1.0</td>
<td>Data in this file is stored using v1.0 of the OGR/GMT data format</td>
</tr>
</tbody>
</table>
<p>An OGR/GMT file must therefore begin with the line</p>
<blockquote>
<div><div class="highlight-bash notranslate"><div class="highlight"><pre><span></span><span class="c1"># @VGMT1.0</span>
</pre></div>
</div>
</div></blockquote>
<p>Parsing of the OGR/GMT format is only activated if the version
code-sequence has been found.</p>
</div>
<div class="section" id="geometry-types">
<h3>31.3.2. Geometry types<a class="headerlink" href="#geometry-types" title="Permalink to this headline">¶</a></h3>
<p>The words and characters used to specify the geometry type (preceded by
the <strong>&#64;G</strong> code sequence on the header comment line), are listed in
Table <a class="reference internal" href="#tbl-geometries"><span class="std std-ref">geometries</span></a>.</p>
<table border="1" class="docutils" id="tbl-geometries">
<colgroup>
<col width="9%" />
<col width="15%" />
<col width="76%" />
</colgroup>
<thead valign="bottom">
<tr class="row-odd"><th class="head"><strong>Code</strong></th>
<th class="head"><strong>Geometry</strong></th>
<th class="head"><strong>Description</strong></th>
</tr>
</thead>
<tbody valign="top">
<tr class="row-even"><td>G</td>
<td>POINT</td>
<td>File with point features</td>
</tr>
<tr class="row-odd"><td>&#160;</td>
<td>&#160;</td>
<td>(Each point will have it’s own attribute/header line preceding the point coordinates)</td>
</tr>
<tr class="row-even"><td>G</td>
<td>MULTIPOINT</td>
<td>File with a single multipoint feature</td>
</tr>
<tr class="row-odd"><td>&#160;</td>
<td>&#160;</td>
<td>(All the point features are a single multipoint, with the same attribute/header</td>
</tr>
<tr class="row-even"><td>&#160;</td>
<td>&#160;</td>
<td>information)</td>
</tr>
<tr class="row-odd"><td>G</td>
<td>LINESTRING</td>
<td>File with features comprising multiple single lines</td>
</tr>
<tr class="row-even"><td>&#160;</td>
<td>&#160;</td>
<td>(Effectively the current GMT multiline file, each line feature will have it’s own</td>
</tr>
<tr class="row-odd"><td>&#160;</td>
<td>&#160;</td>
<td>attribute and header data)</td>
</tr>
<tr class="row-even"><td>G</td>
<td>MULTILINESTRING</td>
<td>File with features comprising a multiline</td>
</tr>
<tr class="row-odd"><td>&#160;</td>
<td>&#160;</td>
<td>(All the line features in the file are a single multiline feature, only one attribute</td>
</tr>
<tr class="row-even"><td>&#160;</td>
<td>&#160;</td>
<td>and header which applies to all the lines)</td>
</tr>
<tr class="row-odd"><td>G</td>
<td>POLYGON</td>
<td>File with one or more polygons</td>
</tr>
<tr class="row-even"><td>&#160;</td>
<td>&#160;</td>
<td>(Similar to a line file, except the features are closed polygons)</td>
</tr>
<tr class="row-odd"><td>G</td>
<td>MULTIPOLYGON</td>
<td>File with a single multipolygon</td>
</tr>
<tr class="row-even"><td>&#160;</td>
<td>&#160;</td>
<td>(Similar to a GMT multiline file, except the feature is a closed multipolygon)</td>
</tr>
</tbody>
</table>
<p>An example GMT polygon file header using this specification (in format 1.0) is</p>
<blockquote>
<div><div class="highlight-bash notranslate"><div class="highlight"><pre><span></span><span class="c1"># @VGMT1.0 @GPOLYGON</span>
</pre></div>
</div>
</div></blockquote>
</div>
<div class="section" id="domain-and-map-projections">
<h3>31.3.3. Domain and map projections<a class="headerlink" href="#domain-and-map-projections" title="Permalink to this headline">¶</a></h3>
<p>The new format will also support region and projection information. The
region will be stored in GMT <strong>-R</strong> format (i.e., <strong>-R</strong><em>W/E/S/N</em>,
where the <em>W/E/S/N</em> values represent the extent of features); the <strong>&#64;R</strong>
code sequence marks the domain information. A sample region header is:</p>
<blockquote>
<div><div class="highlight-bash notranslate"><div class="highlight"><pre><span></span><span class="c1"># @R150/190/-45/-54</span>
</pre></div>
</div>
</div></blockquote>
<p>Projection information will be represented as four optional strings,
prefixed by <strong>&#64;J</strong> (J being the GMT character for projection
information. The <strong>&#64;J</strong> code will be followed by a character identifying
the format, as shown in Table <a class="reference internal" href="#tbl-projectspec"><span class="std std-ref">projectspec</span></a>.</p>
<table border="1" class="docutils" id="tbl-projectspec">
<colgroup>
<col width="11%" />
<col width="89%" />
</colgroup>
<thead valign="bottom">
<tr class="row-odd"><th class="head"><strong>Code</strong></th>
<th class="head"><strong>Projection Specification</strong></th>
</tr>
</thead>
<tbody valign="top">
<tr class="row-even"><td>&#64;Je</td>
<td>EPSG code for the projection</td>
</tr>
<tr class="row-odd"><td>&#64;Jg</td>
<td>A string representing the projection parameters as used by GMT</td>
</tr>
<tr class="row-even"><td>&#64;Jp</td>
<td>A string comprising the Proj.4 parameters representing the projection parameters</td>
</tr>
<tr class="row-odd"><td>&#64;Jw</td>
<td>A string comprising the OGR WKT (well known text) representation of the projection parameters</td>
</tr>
</tbody>
</table>
<p>Sample projection strings are:</p>
<blockquote>
<div><div class="highlight-bash notranslate"><div class="highlight"><pre><span></span><span class="c1"># @Je4326 @JgX @Jp&quot;+proj=longlat +ellps=WGS84+datum=WGS84 +no_defs&quot;</span>
<span class="c1"># @Jw&quot;GEOGCS[\&quot;WGS84\&quot;,DATUM[\&quot;WGS_1984\&quot;,SPHEROID\&quot;WGS84\&quot;,6378137,\</span>
<span class="m">298</span>.257223563,AUTHORITY<span class="o">[</span><span class="se">\&quot;</span>EPSG<span class="se">\&quot;</span>,<span class="se">\&quot;</span><span class="m">7030</span><span class="se">\&quot;</span><span class="o">]]</span>,TOWGS84<span class="o">[</span><span class="m">0</span>,0,0,0,0,0,0<span class="o">]</span>,
AUTHORITY<span class="o">[</span><span class="se">\&quot;</span>EPSG<span class="se">\&quot;</span>,<span class="se">\&quot;</span><span class="m">6326</span><span class="se">\&quot;</span><span class="o">]]</span>,PRIMEM<span class="o">[</span><span class="se">\&quot;</span>Greenwich<span class="se">\&quot;</span>,0,<span class="se">\</span>
AUTHORITY<span class="o">[</span><span class="se">\&quot;</span>EPSG<span class="se">\&quot;</span>,<span class="se">\&quot;</span><span class="m">8901</span><span class="se">\&quot;</span><span class="o">]]</span>,UNIT<span class="o">[</span><span class="se">\&quot;</span>degree<span class="se">\&quot;</span>,0.01745329251994328,<span class="se">\</span>
AUTHORITY<span class="o">[</span><span class="se">\&quot;</span>EPSG<span class="se">\&quot;</span>,<span class="se">\&quot;</span><span class="m">9122</span><span class="se">\&quot;</span><span class="o">]]</span>,AUTHORITY<span class="o">[</span><span class="se">\&quot;</span>EPSG<span class="se">\&quot;</span>,<span class="se">\&quot;</span><span class="m">4326</span><span class="se">\&quot;</span><span class="o">]]</span><span class="s2">&quot;</span>
</pre></div>
</div>
</div></blockquote>
<p>Note that an OGR-generated file will not have a <strong>&#64;Jg</strong> string, as OGR
does not have any knowledge of the GMT projection specification
format. GMT supports at least one of the other formats to provide
interoperability with other Open Source related GIS software packages.
One relatively simple approach, (with some limitations), would be a
lookup table matching EPSG codes to GMT strings.</p>
</div>
<div class="section" id="declaration-of-aspatial-fields">
<h3>31.3.4. Declaration of aspatial fields<a class="headerlink" href="#declaration-of-aspatial-fields" title="Permalink to this headline">¶</a></h3>
<p>The string describing the aspatial field names associated with the
features is flagged by the <strong>&#64;N</strong> prefix.</p>
<table border="1" class="docutils">
<colgroup>
<col width="11%" />
<col width="27%" />
<col width="61%" />
</colgroup>
<thead valign="bottom">
<tr class="row-odd"><th class="head"><strong>Code</strong></th>
<th class="head"><strong>Argument</strong></th>
<th class="head"><strong>Description</strong></th>
</tr>
</thead>
<tbody valign="top">
<tr class="row-even"><td>N</td>
<td>word|word|word</td>
<td>A “|” -separated string of names of the attribute field names</td>
</tr>
</tbody>
</table>
<p>Any name containing a space must be quoted. The <strong>&#64;N</strong> selection must be
combined with a matching string specifying the data type for each of the
named fields, using the <strong>&#64;T</strong> prefix.</p>
<table border="1" class="docutils">
<colgroup>
<col width="12%" />
<col width="28%" />
<col width="60%" />
</colgroup>
<thead valign="bottom">
<tr class="row-odd"><th class="head"><strong>Code</strong></th>
<th class="head"><strong>Argument</strong></th>
<th class="head"><strong>Description</strong></th>
</tr>
</thead>
<tbody valign="top">
<tr class="row-even"><td>T</td>
<td>word|word|word</td>
<td>A “|” -separated string of the attribute field data types</td>
</tr>
</tbody>
</table>
<p>Available datatypes should largely follow the shapefile (DB3)
specification, including <strong>string</strong>, <strong>integer</strong>, <strong>double</strong>,
<strong>datetime</strong>, and <strong>logical</strong> (boolean). In OGR/GMT vector files, they
will be stored as appropriately formatted text strings.</p>
<p>An example header record containing all these is</p>
<blockquote>
<div><div class="highlight-bash notranslate"><div class="highlight"><pre><span></span><span class="c1"># @VGMT1.0 @GPOLYGON @Nname|depth|id @Tstring|double|integer</span>
</pre></div>
</div>
</div></blockquote>
</div>
</div>
<div class="section" id="ogr-gmt-data">
<h2>31.4. OGR/GMT Data<a class="headerlink" href="#ogr-gmt-data" title="Permalink to this headline">¶</a></h2>
<p>All generic fields must be at the start of the file before any
feature-specific content (feature attribute data follow the metadata, as
do the feature coordinates, separated by a comment line comprising “#
FEATURE_DATA”. Provided each string is formatted as specified, and
occurs on a line prefixed with “#” (i.e., is a comment), the format is
free form, in that as many comment lines as desired may be used, with
one or more parameter strings in any order in any line. E.g., one
parameter per line, or all parameters on one line.</p>
<div class="section" id="embedding-aspatial-data">
<h3>31.4.1. Embedding aspatial data<a class="headerlink" href="#embedding-aspatial-data" title="Permalink to this headline">¶</a></h3>
<p>Following this header line is the data itself, both aspatial and
spatial. For line and polygon (including multiline and multipolygon)
data, features are separated using a predefined character, by default
“&gt;”. For point (and multipoint) data, no such separator is required. The
comment line containing the aspatial data for each feature will
immediately precede the coordinate line(s). Thus in the case of lines
and polygons, it will immediately follow the “&gt;” line. The data line
will be a comment flag (“#”) followed by <strong>&#64;D</strong>, followed by a string of
“|”-separated words comprising the data fields defined in the
header record.</p>
<p>To allow for names and values containing spaces, such string items among
the <strong>&#64;N</strong> or <strong>&#64;D</strong> specifiers must be enclosed in double quotes.
(Where double quotes or pipe characters are included in the string, they
must be escaped using “&quot;). Where any data values are
null, they will be represented as no characters between the field
separator, (e.g., #&#64;D|||). A Sample header
and corresponding data line for points are</p>
<blockquote>
<div><div class="highlight-bash notranslate"><div class="highlight"><pre><span></span><span class="c1"># @VGMT1.0 @GPOINT @Nname|depth|id @Tstring|double|integer</span>
<span class="c1"># @D&quot;Point 1&quot;|-34.5|1</span>
</pre></div>
</div>
</div></blockquote>
<p>while for a polygon it may look like</p>
<blockquote>
<div><div class="highlight-bash notranslate"><div class="highlight"><pre><span></span><span class="c1"># @VGMT1.0 @GPOLYGON @Nname|depth|id @Tstring|double|integer</span>
&gt;
<span class="c1"># @D&quot;Area 1&quot;|-34.5|1</span>
</pre></div>
</div>
</div></blockquote>
</div>
<div class="section" id="polygon-topologies">
<h3>31.4.2. Polygon topologies<a class="headerlink" href="#polygon-topologies" title="Permalink to this headline">¶</a></h3>
<p>New to GMT is the concept of polygon holes. Most other formats do
support this structure, so that a polygon is specified as a sequence of
point defining the perimeter, optionally followed by similar coordinate
sequences defining any holes (the “donut” polygon concept).</p>
<p>To implement this in a way which is compatible with previous
GMT versions, each polygon feature must be able to be identified as
the outer perimeter, or an inner ring (hole). This is done using a
<strong>&#64;P</strong> or <strong>&#64;H</strong> on the data comment preceding the polygon coordinates.
The <strong>&#64;P</strong> specifies a new feature boundary (perimeter), any following
<strong>&#64;H</strong> polygons are holes, and must be within the preceding <strong>&#64;P</strong>
polygon (as described in the shapefile specification). Any <strong>&#64;H</strong>
polygons will NOT have any <strong>&#64;D</strong> values, as the aspatial attribute data
pertain to the entire feature, the <strong>&#64;H</strong> polygons are not new polygons,
but are merely a continuation of the definition of the same feature.</p>
</div>
</div>
<div class="section" id="id60">
<h2>31.5. Examples<a class="headerlink" href="#id60" title="Permalink to this headline">¶</a></h2>
<p>Sample point, line and polygon files are (the new data structures are in
lines starting with “#” in strings prefixed with “&#64;”). Here is a typical
point file:</p>
<blockquote>
<div><div class="highlight-bash notranslate"><div class="highlight"><pre><span></span><span class="c1"># @VGMT1.0 @GPOINT @Nname|depth|id</span>
<span class="c1"># @Tstring|double|integer</span>
<span class="c1"># @R178.43/178.5/-57.98/-34.5</span>
<span class="c1"># @Je4326</span>
<span class="c1"># @Jp&quot;+proj=longlat +ellps=WGS84 +datum=WGS84+no_defs&quot;</span>
<span class="c1"># FEATURE_DATA</span>
<span class="c1"># @D&quot;point 1&quot;|-34.5|1</span>
<span class="m">178</span>.5 -45.7
<span class="c1"># @D&quot;Point 2&quot;|-57.98|2</span>
<span class="m">178</span>.43 -46.8
...
</pre></div>
</div>
</div></blockquote>
<p>Next is an example of a line file:</p>
<blockquote>
<div><div class="highlight-bash notranslate"><div class="highlight"><pre><span></span><span class="c1"># @VGMT1.0 @GLINESTRING @Nname|depth|id</span>
<span class="c1"># @Tstring|double|integer</span>
<span class="c1"># @R178.1/178.6/-48.7/-45.6</span>
<span class="c1"># @Jp&quot;+proj=longlat +ellps=WGS84 +datum=WGS84+no_defs&quot;</span>
<span class="c1"># FEATURE_DATA</span>
&gt; -W0.25p
<span class="c1"># @D&quot;Line 1&quot;|-50|1</span>
<span class="m">178</span>.5 -45.7
<span class="m">178</span>.6 -48.2
<span class="m">178</span>.4 -48.7
<span class="m">178</span>.1 -45.6
&gt; -W0.25p
<span class="c1"># @D&quot;Line 2&quot;|-57.98|$</span>
<span class="m">178</span>.43 -46.8
...
</pre></div>
</div>
</div></blockquote>
<p>Finally we show an example of a polygon file:</p>
<blockquote>
<div><div class="highlight-bash notranslate"><div class="highlight"><pre><span></span><span class="c1"># @VGMT1.0 @GPOLYGON @N&quot;Polygon name&quot;|substrate|id @Tstring|string|integer</span>
<span class="c1"># @R178.1/178.6/-48.7/-45.6</span>
<span class="c1"># @Jj@Jp&quot;+proj=longlat +ellps=WGS84 +datum=WGS84+no_defs&quot;</span>
<span class="c1"># FEATURE_DATA</span>
&gt; -Gblue -W0.25p
<span class="c1"># @P</span>
<span class="c1"># @D&quot;Area 1&quot;|finesand|1</span>
<span class="m">178</span>.1 -45.6
<span class="m">178</span>.1 -48.2
<span class="m">178</span>.5 -48.2
<span class="m">178</span>.5 -45.6
<span class="m">178</span>.1 -45.6
&gt;
<span class="c1"># @H</span>
<span class="c1"># First hole in the preceding perimeter, so is technically still</span>
<span class="c1"># part of the same geometry, despite the preceding &gt; character.</span>
<span class="c1"># No attribute data is provided, as this is inherited.</span>
<span class="m">178</span>.2 -45.4
<span class="m">178</span>.2 -46.5
<span class="m">178</span>.4 -46.5
<span class="m">178</span>.4 -45.4
<span class="m">178</span>.2 -45.4
&gt;
<span class="c1"># @P</span>
...
</pre></div>
</div>
</div></blockquote>
<table class="docutils footnote" frame="void" id="id61" rules="none">
<colgroup><col class="label" /><col /></colgroup>
<tbody valign="top">
<tr><td class="label"><a class="fn-backref" href="#id1">[1]</a></td><td>Version 1.0 was then informally released at the Lamont-Doherty Earth Observatory.</td></tr>
</tbody>
</table>
<table class="docutils footnote" frame="void" id="id62" rules="none">
<colgroup><col class="label" /><col /></colgroup>
<tbody valign="top">
<tr><td class="label"><a class="fn-backref" href="#id12">[2]</a></td><td>See GNU Lesser General Public License (<a class="reference external" href="http://www.gnu.org/copyleft/gpl.html">http://www.gnu.org/copyleft/gpl.html</a>)
for terms on redistribution and modifications.</td></tr>
</tbody>
</table>
<table class="docutils footnote" frame="void" id="id63" rules="none">
<colgroup><col class="label" /><col /></colgroup>
<tbody valign="top">
<tr><td class="label"><a class="fn-backref" href="#id13">[3]</a></td><td>The tools can also be installed on other platforms (see Chapter <a class="reference internal" href="#gmt-on-non-unix-platforms">GMT on non-UNIX Platforms</a>).</td></tr>
</tbody>
</table>
<table class="docutils footnote" frame="void" id="id64" rules="none">
<colgroup><col class="label" /><col /></colgroup>
<tbody valign="top">
<tr><td class="label"><a class="fn-backref" href="#id14">[5]</a></td><td>Programs now also allow for fast, binary multicolumn file i/o.</td></tr>
</tbody>
</table>
<table class="docutils footnote" frame="void" id="id65" rules="none">
<colgroup><col class="label" /><col /></colgroup>
<tbody valign="top">
<tr><td class="label"><a class="fn-backref" href="#id15">[6]</a></td><td>While the netCDF format is the default, many other formats are also possible.</td></tr>
</tbody>
</table>
<table class="docutils footnote" frame="void" id="id66" rules="none">
<colgroup><col class="label" /><col /></colgroup>
<tbody valign="top">
<tr><td class="label"><a class="fn-backref" href="#id16">[7]</a></td><td>Vicenty, T. (1975), Direct and inverse solutions of geodesics on the
ellipsoid with application of nested equations, <em>Surv. Rev.,
XXII(176)</em>, 88--93.</td></tr>
</tbody>
</table>
<table class="docutils footnote" frame="void" id="id67" rules="none">
<colgroup><col class="label" /><col /></colgroup>
<tbody valign="top">
<tr><td class="label"><a class="fn-backref" href="#id17">[8]</a></td><td><em>PostScript</em> definition. In the typesetting industry a slightly
different definition of point (1/72.27 inch) is used, presumably to
cause needless trouble.</td></tr>
</tbody>
</table>
<table class="docutils footnote" frame="void" id="id68" rules="none">
<colgroup><col class="label" /><col /></colgroup>
<tbody valign="top">
<tr><td class="label"><a class="fn-backref" href="#id18">[9]</a></td><td>Choose between SI and US default units by modifying in the
GMT share directory.</td></tr>
</tbody>
</table>
<table class="docutils footnote" frame="void" id="id69" rules="none">
<colgroup><col class="label" /><col /></colgroup>
<tbody valign="top">
<tr><td class="label"><a class="fn-backref" href="#id19">[10]</a></td><td>To remain backwards compatible with GMT 4 we will also look for
but only if cannot be found.</td></tr>
</tbody>
</table>
<table class="docutils footnote" frame="void" id="id70" rules="none">
<colgroup><col class="label" /><col /></colgroup>
<tbody valign="top">
<tr><td class="label"><a class="fn-backref" href="#id20">[11]</a></td><td>The Gregorian Calendar is a revision of the Julian Calendar which was
instituted in a papal bull by Pope Gregory XIII in 1582. The reason
for the calendar change was to correct for drift in the dates of
significant religious observations (primarily Easter) and to prevent
further drift in the dates. The important effects of the change were
(a) Drop 10 days from October 1582 to realign the Vernal Equinox with
21 March, (b) change leap year selection so that not all years ending
in “00” are leap years, and (c) change the beginning of the year to 1
January from 25 March. Adoption of the new calendar was essentially
immediate within Catholic countries. In the Protestant countries,
where papal authority was neither recognized not appreciated,
adoption came more slowly. England finally adopted the new calendar
in 1752, with eleven days removed from September. The additional day
came because the old and new calendars disagreed on whether 1700 was
a leap year, so the Julian calendar had to be adjusted by one more
day.</td></tr>
</tbody>
</table>
<table class="docutils footnote" frame="void" id="id71" rules="none">
<colgroup><col class="label" /><col /></colgroup>
<tbody valign="top">
<tr><td class="label"><a class="fn-backref" href="#id21">[12]</a></td><td>While UTM coordinates clearly refer to points on the Earth, in this
context they are considered “other”. Thus, when we refer to
“geographical” coordinates herein we imply longitude, latitude.</td></tr>
</tbody>
</table>
<table class="docutils footnote" frame="void" id="id72" rules="none">
<colgroup><col class="label" /><col /></colgroup>
<tbody valign="top">
<tr><td class="label"><a class="fn-backref" href="#id22">[13]</a></td><td>Please consult the man page for <em>printf</em> or any book on C.</td></tr>
</tbody>
</table>
<table class="docutils footnote" frame="void" id="id73" rules="none">
<colgroup><col class="label" /><col /></colgroup>
<tbody valign="top">
<tr><td class="label"><a class="fn-backref" href="#id24">[14]</a></td><td>For historical reasons, the GMT default is Landscape; see
<a class="reference internal" href="gmt.conf.html"><span class="doc">gmt.conf</span></a> to change this.</td></tr>
</tbody>
</table>
<table class="docutils footnote" frame="void" id="id74" rules="none">
<colgroup><col class="label" /><col /></colgroup>
<tbody valign="top">
<tr><td class="label"><a class="fn-backref" href="#id25">[15]</a></td><td>Ensures that boundary annotations do not fall off the page.</td></tr>
</tbody>
</table>
<table class="docutils footnote" frame="void" id="id75" rules="none">
<colgroup><col class="label" /><col /></colgroup>
<tbody valign="top">
<tr><td class="label"><a class="fn-backref" href="#id27">[16]</a></td><td>To keep <em>PostScript</em> files small, such comments are by default turned
off; see <a class="reference internal" href="gmt.conf.html#ps-comments"><span class="std std-ref">PS_COMMENTS</span></a> to enable them.</td></tr>
</tbody>
</table>
<table class="docutils footnote" frame="void" id="id76" rules="none">
<colgroup><col class="label" /><col /></colgroup>
<tbody valign="top">
<tr><td class="label"><a class="fn-backref" href="#id28">[17]</a></td><td>For an overview of color systems such as HSV, see Chapter <a class="reference internal" href="#color-space-the-final-frontier">Color Space: The Final Frontier</a>.</td></tr>
</tbody>
</table>
<table class="docutils footnote" frame="void" id="id77" rules="none">
<colgroup><col class="label" /><col /></colgroup>
<tbody valign="top">
<tr><td class="label"><a class="fn-backref" href="#id29">[18]</a></td><td><dl class="first last docutils">
<dt>Convert other graphics formats to Sun ras format using GraphicsMagick’s</dt>
<dd>or ImageMagick’s <strong>convert</strong> program.</dd>
</dl>
</td></tr>
</tbody>
</table>
<table class="docutils footnote" frame="void" id="id78" rules="none">
<colgroup><col class="label" /><col /></colgroup>
<tbody valign="top">
<tr><td class="label"><a class="fn-backref" href="#id31">[19]</a></td><td>Requires building GMT with GDAL.</td></tr>
</tbody>
</table>
<table class="docutils footnote" frame="void" id="id79" rules="none">
<colgroup><col class="label" /><col /></colgroup>
<tbody valign="top">
<tr><td class="label"><a class="fn-backref" href="#id33">[20]</a></td><td>Snyder, J. P., 1987, Map Projections A Working Manual, U.S.
Geological Survey Prof. Paper 1395.</td></tr>
</tbody>
</table>
<table class="docutils footnote" frame="void" id="id80" rules="none">
<colgroup><col class="label" /><col /></colgroup>
<tbody valign="top">
<tr><td class="label"><a class="fn-backref" href="#id34">[21]</a></td><td>This is, however, not the shortest distance. It is given by the great
circle connecting the two points.</td></tr>
</tbody>
</table>
<table class="docutils footnote" frame="void" id="id81" rules="none">
<colgroup><col class="label" /><col /></colgroup>
<tbody valign="top">
<tr><td class="label"><a class="fn-backref" href="#id35">[22]</a></td><td>Robinson provided a table of <em>y</em>-coordinates for latitudes
every 5. To project values for intermediate latitudes one must
interpolate the table. Different interpolants may result in slightly
different maps. GMT uses the
interpolant selected by the parameter <a class="reference internal" href="gmt.conf.html#gmt-interpolant"><span class="std std-ref">GMT_INTERPOLANT</span></a> in the
file.</td></tr>
</tbody>
</table>
<table class="docutils footnote" frame="void" id="id82" rules="none">
<colgroup><col class="label" /><col /></colgroup>
<tbody valign="top">
<tr><td class="label">[23]</td><td><em>(<a class="fn-backref" href="#id36">1</a>, <a class="fn-backref" href="#id37">2</a>)</em> These data are available on CD-ROM from NGDC (<a class="reference external" href="http://www.ngdc.noaa.gov/">http://www.ngdc.noaa.gov/</a>).</td></tr>
</tbody>
</table>
<table class="docutils footnote" frame="void" id="id83" rules="none">
<colgroup><col class="label" /><col /></colgroup>
<tbody valign="top">
<tr><td class="label"><a class="fn-backref" href="#id38">[24]</a></td><td>See <a class="reference external" href="http://topex.ucsd.edu/marine_grav/mar_grav.html">http://topex.ucsd.edu/marine_grav/mar_grav.html</a>.</td></tr>
</tbody>
</table>
<table class="docutils footnote" frame="void" id="id84" rules="none">
<colgroup><col class="label" /><col /></colgroup>
<tbody valign="top">
<tr><td class="label"><a class="fn-backref" href="#id39">[25]</a></td><td>Pedants who wish to argue about the “other” arc going the long way
should consider using it.</td></tr>
</tbody>
</table>
<table class="docutils footnote" frame="void" id="id85" rules="none">
<colgroup><col class="label" /><col /></colgroup>
<tbody valign="top">
<tr><td class="label"><a class="fn-backref" href="#id40">[26]</a></td><td>While Quicktime is free you must upgrade to QuickTime Pro (USD 30) to
use the authoring functions.</td></tr>
</tbody>
</table>
<table class="docutils footnote" frame="void" id="id86" rules="none">
<colgroup><col class="label" /><col /></colgroup>
<tbody valign="top">
<tr><td class="label"><a class="fn-backref" href="#id41">[27]</a></td><td>QuickTime Pro can do this, as can most video-editing programs.</td></tr>
</tbody>
</table>
<table class="docutils footnote" frame="void" id="id87" rules="none">
<colgroup><col class="label" /><col /></colgroup>
<tbody valign="top">
<tr><td class="label"><a class="fn-backref" href="#id42">[28]</a></td><td>For data bases, see <a class="reference external" href="http://topex.ucsd.edu/marine_grav/mar_grav.html">http://topex.ucsd.edu/marine_grav/mar_grav.html</a>.</td></tr>
</tbody>
</table>
<table class="docutils footnote" frame="void" id="id88" rules="none">
<colgroup><col class="label" /><col /></colgroup>
<tbody valign="top">
<tr><td class="label"><a class="fn-backref" href="#id43">[29]</a></td><td>The ASCII MGD77 data are available on CD-ROM from NGDC (<a class="reference external" href="http://www.ngdc.noaa.gov/">http://www.ngdc.noaa.gov/</a>).</td></tr>
</tbody>
</table>
<table class="docutils footnote" frame="void" id="id90" rules="none">
<colgroup><col class="label" /><col /></colgroup>
<tbody valign="top">
<tr><td class="label"><a class="fn-backref" href="#id44">[30]</a></td><td>Okabe, M., 1979, Analytical expressions for gravity anomalies due to
polyhedral bodies and translation into magnetic anomalies,
<em>Geophysics, 44</em>, 730--741.</td></tr>
</tbody>
</table>
<table class="docutils footnote" frame="void" id="id91" rules="none">
<colgroup><col class="label" /><col /></colgroup>
<tbody valign="top">
<tr><td class="label"><a class="fn-backref" href="#id45">[31]</a></td><td>Talwani, M., J. L. Worzel, and M. Landisman (1959), Rapid gravity computations
for two-dimensional bodies with application to the Mendocino submarine fracture zone,
<em>J. Geophys. Res., 64</em>, 49-–59.</td></tr>
</tbody>
</table>
<table class="docutils footnote" frame="void" id="id92" rules="none">
<colgroup><col class="label" /><col /></colgroup>
<tbody valign="top">
<tr><td class="label"><a class="fn-backref" href="#id46">[32]</a></td><td>Talwani, M., and M. Ewing (1960), Rapid computation of gravitational attraction of
three-dimensional bodies of arbitrary shape, <em>Geophysics, 25</em>, 203--225.</td></tr>
</tbody>
</table>
<table class="docutils footnote" frame="void" id="id93" rules="none">
<colgroup><col class="label" /><col /></colgroup>
<tbody valign="top">
<tr><td class="label"><a class="fn-backref" href="#id47">[33]</a></td><td><a class="reference external" href="http://www.southampton.ac.uk/oes/research/staff/then.page">Timothy J. Henstock</a>,
University of Southampton</td></tr>
</tbody>
</table>
<table class="docutils footnote" frame="void" id="id94" rules="none">
<colgroup><col class="label" /><col /></colgroup>
<tbody valign="top">
<tr><td class="label"><a class="fn-backref" href="#id48">[34]</a></td><td>If you chose SI units during the installation then the default
encoding is ISOLatin1+, otherwise it is Standard+.</td></tr>
</tbody>
</table>
<table class="docutils footnote" frame="void" id="id95" rules="none">
<colgroup><col class="label" /><col /></colgroup>
<tbody valign="top">
<tr><td class="label"><a class="fn-backref" href="#id49">[35]</a></td><td>R. Bracewell, <em>The Fourier Transform and its Applications</em>,
McGraw-Hill, London, 444 p., 1965.</td></tr>
</tbody>
</table>
<table class="docutils footnote" frame="void" id="id96" rules="none">
<colgroup><col class="label" /><col /></colgroup>
<tbody valign="top">
<tr><td class="label"><a class="fn-backref" href="#id50">[36]</a></td><td><a class="reference external" href="http://www.ngdc.noaa.gov/">National Geophysical Data Center, Boulder, Colorado</a></td></tr>
</tbody>
</table>
<table class="docutils footnote" frame="void" id="id97" rules="none">
<colgroup><col class="label" /><col /></colgroup>
<tbody valign="top">
<tr><td class="label"><a class="fn-backref" href="#id51">[37]</a></td><td>Douglas, D.H., and T. K. Peucker, 1973, Algorithms for the reduction
of the number of points required to represent a digitized line or its
caricature, <em>Canadian Cartographer</em>, 10, 112--122.</td></tr>
</tbody>
</table>
<table class="docutils footnote" frame="void" id="id98" rules="none">
<colgroup><col class="label" /><col /></colgroup>
<tbody valign="top">
<tr><td class="label"><a class="fn-backref" href="#id52">[38]</a></td><td>The full and high resolution files are in separate archives because
of their size. Not all users may need these files as the intermediate
data set is better than the data provided with version 2.2.4.</td></tr>
</tbody>
</table>
<table class="docutils footnote" frame="void" id="id99" rules="none">
<colgroup><col class="label" /><col /></colgroup>
<tbody valign="top">
<tr><td class="label"><a class="fn-backref" href="#id53">[39]</a></td><td>If you need complete polygons in a simpler format, see the article on
GSHHG (Wessel, P., and W. H. F. Smith, 1996, A Global,
self-consistent, hierarchical, high-resolution shoreline database,
<em>J. Geophys. Res. 101</em>, 8741--8743).</td></tr>
</tbody>
</table>
<table class="docutils footnote" frame="void" id="id100" rules="none">
<colgroup><col class="label" /><col /></colgroup>
<tbody valign="top">
<tr><td class="label"><a class="fn-backref" href="#id55">[40]</a></td><td>The 3rd palette is called <em>categorical</em> and produces a set of
colors suitable for categorical plots.</td></tr>
</tbody>
</table>
<table class="docutils footnote" frame="void" id="id101" rules="none">
<colgroup><col class="label" /><col /></colgroup>
<tbody valign="top">
<tr><td class="label"><a class="fn-backref" href="#id57">[41]</a></td><td>or whatever planet we are dealing with.</td></tr>
</tbody>
</table>
<table class="docutils footnote" frame="void" id="id102" rules="none">
<colgroup><col class="label" /><col /></colgroup>
<tbody valign="top">
<tr><td class="label"><a class="fn-backref" href="#id58">[42]</a></td><td>Travel times were calculated using Geoware’s travel time calculator,
<strong>ttt</strong>; see <a class="reference external" href="http://www.geoware-online.com/">http://www.geoware-online.com/</a>.</td></tr>
</tbody>
</table>
</div>
</div>


          </div>
        </div>
      </div>
      <div class="sphinxsidebar" role="navigation" aria-label="main navigation">
        <div class="sphinxsidebarwrapper">
  <h3><a href="index.html">Table of Contents</a></h3>
  <ul>
<li><a class="reference internal" href="#">1. The Generic Mapping Tools</a><ul>
<li><a class="reference internal" href="#acknowledgments">1.1. Acknowledgments</a></li>
</ul>
</li>
<li><a class="reference internal" href="#a-reminder">2. A Reminder</a></li>
<li><a class="reference internal" href="#copyright-and-caveat-emptor">3. Copyright and Caveat Emptor!</a></li>
<li><a class="reference internal" href="#preface">4. Preface</a></li>
<li><a class="reference internal" href="#new-features-in-gmt-5-4">5. New Features in GMT 5.4</a><ul>
<li><a class="reference internal" href="#new-modules">5.1. New modules</a></li>
<li><a class="reference internal" href="#general-improvements">5.2. General improvements</a></li>
<li><a class="reference internal" href="#module-enhancements">5.3. Module enhancements</a></li>
<li><a class="reference internal" href="#api-changes">5.4. API changes</a></li>
<li><a class="reference internal" href="#backwards-compatible-syntax-changes">5.5. Backwards-compatible syntax changes</a></li>
</ul>
</li>
<li><a class="reference internal" href="#new-features-in-gmt-5-3">6. New Features in GMT 5.3</a><ul>
<li><a class="reference internal" href="#id2">6.1. New modules</a></li>
<li><a class="reference internal" href="#id3">6.2. General improvements</a></li>
<li><a class="reference internal" href="#the-api">6.3. The API</a></li>
</ul>
</li>
<li><a class="reference internal" href="#new-features-in-gmt-5-2">7. New Features in GMT 5.2</a><ul>
<li><a class="reference internal" href="#id4">7.1. New modules</a></li>
<li><a class="reference internal" href="#new-common-options">7.2. New common options</a></li>
<li><a class="reference internal" href="#new-default-parameters">7.3. New default parameters</a></li>
<li><a class="reference internal" href="#updated-common-options">7.4. Updated common options</a></li>
<li><a class="reference internal" href="#id5">7.5. General improvements</a></li>
<li><a class="reference internal" href="#program-specific-improvements">7.6. Program-specific improvements</a></li>
</ul>
</li>
<li><a class="reference internal" href="#new-features-in-gmt-5">8. New Features in GMT 5</a><ul>
<li><a class="reference internal" href="#new-programs">8.1. New programs</a></li>
<li><a class="reference internal" href="#id6">8.2. New common options</a></li>
<li><a class="reference internal" href="#id7">8.3. Updated common options</a></li>
<li><a class="reference internal" href="#id8">8.4. New default parameters</a></li>
<li><a class="reference internal" href="#id9">8.5. General improvements</a></li>
<li><a class="reference internal" href="#id10">8.6. Program-specific improvements</a></li>
<li><a class="reference internal" href="#command-line-completion">8.7. Command-line completion</a></li>
<li><a class="reference internal" href="#incompatibilities-between-gmt-5-and-gmt-4">8.8. Incompatibilities between GMT 5 and GMT 4</a></li>
</ul>
</li>
<li><a class="reference internal" href="#switching-between-different-gmt-versions">9. Switching between different GMT versions</a><ul>
<li><a class="reference internal" href="#setup-of-gmtswitch">9.1. Setup of gmtswitch</a></li>
<li><a class="reference internal" href="#version-selection-with-helper-function">9.2. Version selection with helper function</a></li>
</ul>
</li>
<li><a class="reference internal" href="#introduction">10. Introduction</a><ul>
<li><a class="reference internal" href="#references">10.1. References</a></li>
</ul>
</li>
<li><a class="reference internal" href="#gmt-overview-and-quick-reference">11. GMT Overview and Quick Reference</a><ul>
<li><a class="reference internal" href="#gmt-summary">11.1. GMT summary</a></li>
<li><a class="reference internal" href="#gmt-quick-reference">11.2. GMT quick reference</a></li>
</ul>
</li>
<li><a class="reference internal" href="#general-features">12. General Features</a><ul>
<li><a class="reference internal" href="#gmt-units">12.1. GMT units</a><ul>
<li><a class="reference internal" href="#distance-units">12.1.1. Distance units</a></li>
<li><a class="reference internal" href="#distance-calculations">12.1.2. Distance calculations</a><ul>
<li><a class="reference internal" href="#flat-earth-distances">12.1.2.1. Flat Earth distances</a></li>
<li><a class="reference internal" href="#great-circle-distances">12.1.2.2. Great circle distances</a></li>
<li><a class="reference internal" href="#geodesic-distances">12.1.2.3. Geodesic distances</a></li>
</ul>
</li>
<li><a class="reference internal" href="#length-units">12.1.3. Length units</a></li>
</ul>
</li>
<li><a class="reference internal" href="#gmt-defaults">12.2. GMT defaults</a><ul>
<li><a class="reference internal" href="#overview-and-the-gmt-conf-file">12.2.1. Overview and the gmt.conf file</a></li>
<li><a class="reference internal" href="#changing-gmt-defaults">12.2.2. Changing GMT defaults</a></li>
</ul>
</li>
<li><a class="reference internal" href="#command-line-arguments">12.3. Command line arguments</a></li>
<li><a class="reference internal" href="#standardized-command-line-options">12.4. Standardized command line options</a><ul>
<li><a class="reference internal" href="#data-domain-or-map-region-the-r-option">12.4.1. Data domain or map region: The <strong>-R</strong> option</a></li>
<li><a class="reference internal" href="#coordinate-transformations-and-map-projections-the-j-option">12.4.2. Coordinate transformations and map projections: The <strong>-J</strong> option</a></li>
<li><a class="reference internal" href="#map-frame-and-axes-annotations-the-b-option">12.4.3. Map frame and axes annotations: The <strong>-B</strong> option</a><ul>
<li><a class="reference internal" href="#geographic-basemaps">12.4.3.1. Geographic basemaps</a></li>
<li><a class="reference internal" href="#cartesian-linear-axes">12.4.3.2. Cartesian linear axes</a></li>
<li><a class="reference internal" href="#cartesian-log10-axes">12.4.3.3. Cartesian log<sub>10</sub> axes</a></li>
<li><a class="reference internal" href="#cartesian-exponential-axes">12.4.3.4. Cartesian exponential axes</a></li>
<li><a class="reference internal" href="#cartesian-time-axes">12.4.3.5. Cartesian time axes</a></li>
<li><a class="reference internal" href="#custom-axes">12.4.3.6. Custom axes</a></li>
</ul>
</li>
<li><a class="reference internal" href="#portrait-plot-orientation-the-p-option">12.4.4. Portrait plot orientation: The <strong>-P</strong> option</a></li>
<li><a class="reference internal" href="#plot-overlays-the-k-o-options">12.4.5. Plot overlays: The <strong>-K</strong> <strong>-O</strong> options</a></li>
<li><a class="reference internal" href="#timestamps-on-plots-the-u-option">12.4.6. Timestamps on plots: The <strong>-U</strong> option</a></li>
<li><a class="reference internal" href="#verbose-feedback-the-v-option">12.4.7. Verbose feedback: The <strong>-V</strong> option</a></li>
<li><a class="reference internal" href="#plot-positioning-and-layout-the-x-y-options">12.4.8. Plot positioning and layout: The <strong>-X</strong> <strong>-Y</strong> options</a></li>
<li><a class="reference internal" href="#ogr-gmt-gis-i-o-the-a-option">12.4.9. OGR/GMT GIS i/o: The <strong>-a</strong> option</a><ul>
<li><a class="reference internal" href="#ogr-gmt-input-with-a-option">12.4.9.1. OGR/GMT input with <strong>-a</strong> option</a></li>
<li><a class="reference internal" href="#ogr-gmt-output-with-a-option">12.4.9.2. OGR/GMT output with <strong>-a</strong> option</a></li>
</ul>
</li>
<li><a class="reference internal" href="#binary-table-i-o-the-b-option">12.4.10. Binary table i/o: The <strong>-b</strong> option</a></li>
<li><a class="reference internal" href="#missing-data-conversion-the-d-option">12.4.11. Missing data conversion: The <strong>-d</strong> option</a></li>
<li><a class="reference internal" href="#data-record-pattern-matching-the-e-option">12.4.12. Data record pattern matching: The <strong>-e</strong> option</a></li>
<li><a class="reference internal" href="#data-type-selection-the-f-option">12.4.13. Data type selection: The <strong>-f</strong> option</a></li>
<li><a class="reference internal" href="#data-gap-detection-the-g-option">12.4.14. Data gap detection: The <strong>-g</strong> option</a></li>
<li><a class="reference internal" href="#header-data-records-the-h-option">12.4.15. Header data records: The <strong>-h</strong> option</a></li>
<li><a class="reference internal" href="#input-columns-selection-the-i-option">12.4.16. Input columns selection: The <strong>-i</strong> option</a></li>
<li><a class="reference internal" href="#grid-interpolation-parameters-the-n-option">12.4.17. Grid interpolation parameters: The <strong>-n</strong> option</a></li>
<li><a class="reference internal" href="#output-columns-selection-the-o-option">12.4.18. Output columns selection: The <strong>-o</strong> option</a></li>
<li><a class="reference internal" href="#perspective-view-the-p-option">12.4.19. Perspective view: The <strong>-p</strong> option</a></li>
<li><a class="reference internal" href="#grid-registration-the-r-option">12.4.20. Grid registration: The <strong>-r</strong> option</a><ul>
<li><a class="reference internal" href="#gridline-registration">12.4.20.1. Gridline registration</a></li>
<li><a class="reference internal" href="#pixel-registration">12.4.20.2. Pixel registration</a></li>
</ul>
</li>
<li><a class="reference internal" href="#nan-record-treatment-the-s-option">12.4.21. NaN-record treatment: The <strong>-s</strong> option</a></li>
<li><a class="reference internal" href="#layer-pdf-transparency-the-t-option">12.4.22. Layer PDF transparency: The <strong>-t</strong> option</a></li>
<li><a class="reference internal" href="#latitude-longitude-or-longitude-latitude-the-option">12.4.23. Latitude/Longitude or Longitude/Latitude?: The <strong>-:</strong> option</a></li>
</ul>
</li>
<li><a class="reference internal" href="#command-line-history">12.5. Command line history</a></li>
<li><a class="reference internal" href="#usage-messages-syntax-and-general-error-messages">12.6. Usage messages, syntax- and general error messages</a></li>
<li><a class="reference internal" href="#standard-input-or-file-header-records">12.7. Standard input or file, header records</a></li>
<li><a class="reference internal" href="#urls-and-special-files">12.8. URLs and special files</a></li>
<li><a class="reference internal" href="#verbose-operation">12.9. Verbose operation</a></li>
<li><a class="reference internal" href="#program-output">12.10. Program output</a></li>
<li><a class="reference internal" href="#input-data-formats">12.11. Input data formats</a></li>
<li><a class="reference internal" href="#output-data-formats">12.12. Output data formats</a></li>
<li><a class="reference internal" href="#postscript-features">12.13. <em>PostScript</em> features</a></li>
<li><a class="reference internal" href="#specifying-pen-attributes">12.14. Specifying pen attributes</a></li>
<li><a class="reference internal" href="#specifying-line-attributes">12.15. Specifying line attributes</a></li>
<li><a class="reference internal" href="#specifying-area-fill-attributes">12.16. Specifying area fill attributes</a></li>
<li><a class="reference internal" href="#specifying-fonts">12.17. Specifying Fonts</a></li>
<li><a class="reference internal" href="#stroke-fill-and-font-transparency">12.18. Stroke, Fill and Font Transparency</a></li>
<li><a class="reference internal" href="#placement-of-text">12.19. Placement of text</a></li>
<li><a class="reference internal" href="#color-palette-tables">12.20. Color palette tables</a><ul>
<li><a class="reference internal" href="#categorical-cpts">12.20.1. Categorical CPTs</a></li>
<li><a class="reference internal" href="#regular-cpts">12.20.2. Regular CPTs</a></li>
<li><a class="reference internal" href="#master-dynamic-cpts">12.20.3. Master (dynamic) CPTs</a></li>
<li><a class="reference internal" href="#cyclic-wrapped-cpts">12.20.4. Cyclic (wrapped) CPTs</a></li>
<li><a class="reference internal" href="#manipulating-cpts">12.20.5. Manipulating CPTs</a></li>
</ul>
</li>
<li><a class="reference internal" href="#the-drawing-of-vectors">12.21. The Drawing of Vectors</a></li>
<li><a class="reference internal" href="#character-escape-sequences">12.22. Character escape sequences</a></li>
<li><a class="reference internal" href="#plot-embellishments">12.23. Plot embellishments</a><ul>
<li><a class="reference internal" href="#reference-and-anchor-point-specification">12.23.1. Reference and anchor point specification</a></li>
<li><a class="reference internal" href="#the-background-panel">12.23.2. The background panel</a></li>
<li><a class="reference internal" href="#placing-map-scales">12.23.3. Placing map scales</a></li>
<li><a class="reference internal" href="#placing-directional-map-roses">12.23.4. Placing directional map roses</a></li>
<li><a class="reference internal" href="#placing-magnetic-map-roses">12.23.5. Placing magnetic map roses</a></li>
<li><a class="reference internal" href="#placing-color-scale-bars">12.23.6. Placing color scale bars</a></li>
<li><a class="reference internal" href="#placing-map-legends">12.23.7. Placing map legends</a></li>
<li><a class="reference internal" href="#placing-raster-and-eps-images-on-maps">12.23.8. Placing raster and EPS images on maps</a></li>
<li><a class="reference internal" href="#placing-a-gmt-logo-on-maps">12.23.9. Placing a GMT logo on maps</a></li>
<li><a class="reference internal" href="#placing-map-inserts">12.23.10. Placing map inserts</a></li>
</ul>
</li>
<li><a class="reference internal" href="#grid-file-format-specifications">12.24. Grid file format specifications</a></li>
<li><a class="reference internal" href="#modifiers-for-changing-units-of-grid-coordinates">12.25. Modifiers for changing units of grid coordinates</a></li>
<li><a class="reference internal" href="#modifiers-for-coards-compliant-netcdf-files">12.26. Modifiers for COARDS-compliant netCDF files</a></li>
<li><a class="reference internal" href="#modifiers-to-read-and-write-grids-and-images-via-gdal">12.27. Modifiers to read and write grids and images via GDAL</a><ul>
<li><a class="reference internal" href="#reading-multi-band-images">12.27.1. Reading multi-band images</a></li>
<li><a class="reference internal" href="#reading-more-complex-multi-band-images-or-grids">12.27.2. Reading more complex multi-band IMAGES or GRIDS</a></li>
<li><a class="reference internal" href="#writing-grids-and-images">12.27.3. Writing grids and images</a></li>
</ul>
</li>
<li><a class="reference internal" href="#the-nan-data-value">12.28. The NaN data value</a></li>
<li><a class="reference internal" href="#directory-parameters">12.29. Directory parameters</a></li>
</ul>
</li>
<li><a class="reference internal" href="#gmt-coordinate-transformations">13. GMT Coordinate Transformations</a><ul>
<li><a class="reference internal" href="#cartesian-transformations">13.1. Cartesian transformations</a><ul>
<li><a class="reference internal" href="#cartesian-linear-transformation-jx-jx">13.1.1. Cartesian linear transformation (<strong>-Jx</strong> <strong>-JX</strong>)</a><ul>
<li><a class="reference internal" href="#regular-floating-point-coordinates">13.1.1.1. Regular floating point coordinates</a></li>
<li><a class="reference internal" href="#geographic-coordinates">13.1.1.2. Geographic coordinates</a></li>
<li><a class="reference internal" href="#calendar-time-coordinates">13.1.1.3. Calendar time coordinates</a></li>
</ul>
</li>
<li><a class="reference internal" href="#cartesian-logarithmic-projection">13.1.2. Cartesian logarithmic projection</a></li>
<li><a class="reference internal" href="#cartesian-power-projection">13.1.3. Cartesian power projection <code class="docutils literal notranslate"><span class="pre">…</span></code></a></li>
</ul>
</li>
<li><a class="reference internal" href="#linear-projection-with-polar-coordinates-jp-jp">13.2. Linear projection with polar coordinates (<strong>-Jp</strong> <strong>-JP</strong>) <code class="docutils literal notranslate"><span class="pre">…</span></code></a></li>
</ul>
</li>
<li><a class="reference internal" href="#gmt-map-projections">14. GMT Map Projections</a><ul>
<li><a class="reference internal" href="#conic-projections">14.1. Conic projections</a><ul>
<li><a class="reference internal" href="#albers-conic-equal-area-projection-jb-jb">14.1.1. Albers conic equal-area projection (<strong>-Jb</strong> <strong>-JB</strong>) <code class="docutils literal notranslate"><span class="pre">…</span></code></a></li>
<li><a class="reference internal" href="#equidistant-conic-projection-jd-jd">14.1.2. Equidistant conic projection (<strong>-Jd</strong> <strong>-JD</strong>) <code class="docutils literal notranslate"><span class="pre">…</span></code></a></li>
<li><a class="reference internal" href="#lambert-conic-conformal-projection-jl-jl">14.1.3. Lambert conic conformal projection (<strong>-Jl</strong> <strong>-JL</strong>) <code class="docutils literal notranslate"><span class="pre">…</span></code></a></li>
<li><a class="reference internal" href="#american-polyconic-projection-jpoly-jpoly">14.1.4. (American) polyconic projection (<strong>-Jpoly</strong> <strong>-JPoly</strong>) <code class="docutils literal notranslate"><span class="pre">…</span></code></a></li>
</ul>
</li>
<li><a class="reference internal" href="#azimuthal-projections">14.2. Azimuthal projections</a><ul>
<li><a class="reference internal" href="#lambert-azimuthal-equal-area-ja-ja">14.2.1. Lambert Azimuthal Equal-Area (<strong>-Ja</strong> <strong>-JA</strong>)</a><ul>
<li><a class="reference internal" href="#rectangular-map">14.2.1.1. Rectangular map</a></li>
<li><a class="reference internal" href="#hemisphere-map">14.2.1.2. Hemisphere map</a></li>
</ul>
</li>
<li><a class="reference internal" href="#stereographic-equal-angle-projection-js-js">14.2.2. Stereographic Equal-Angle projection (<strong>-Js</strong> <strong>-JS</strong>) <code class="docutils literal notranslate"><span class="pre">…</span></code></a><ul>
<li><a class="reference internal" href="#polar-stereographic-map">14.2.2.1. Polar Stereographic Map <code class="docutils literal notranslate"><span class="pre">…</span></code></a></li>
<li><a class="reference internal" href="#rectangular-stereographic-map">14.2.2.2. Rectangular stereographic map</a></li>
<li><a class="reference internal" href="#general-stereographic-map">14.2.2.3. General stereographic map</a></li>
</ul>
</li>
<li><a class="reference internal" href="#perspective-projection-jg-jg">14.2.3. Perspective projection (<strong>-Jg</strong> <strong>-JG</strong>) <code class="docutils literal notranslate"><span class="pre">…</span></code></a></li>
<li><a class="reference internal" href="#orthographic-projection-jg-jg">14.2.4. Orthographic projection (<strong>-Jg</strong> <strong>-JG</strong>) <code class="docutils literal notranslate"><span class="pre">…</span></code></a></li>
<li><a class="reference internal" href="#azimuthal-equidistant-projection-je-je">14.2.5. Azimuthal Equidistant projection (<strong>-Je</strong> <strong>-JE</strong>) <code class="docutils literal notranslate"><span class="pre">…</span></code></a></li>
<li><a class="reference internal" href="#gnomonic-projection-jf-jf">14.2.6. Gnomonic projection (<strong>-Jf</strong> <strong>-JF</strong>) <code class="docutils literal notranslate"><span class="pre">…</span></code></a></li>
</ul>
</li>
<li><a class="reference internal" href="#cylindrical-projections">14.3. Cylindrical projections</a><ul>
<li><a class="reference internal" href="#mercator-projection-jm-jm">14.3.1. Mercator projection (<strong>-Jm</strong> <strong>-JM</strong>) <code class="docutils literal notranslate"><span class="pre">…</span></code></a></li>
<li><a class="reference internal" href="#transverse-mercator-projection-jt-jt">14.3.2. Transverse Mercator projection (<strong>-Jt</strong> <strong>-JT</strong>) <code class="docutils literal notranslate"><span class="pre">…</span></code></a></li>
<li><a class="reference internal" href="#universal-transverse-mercator-utm-projection-ju-ju">14.3.3. Universal Transverse Mercator (UTM) projection (<strong>-Ju</strong> <strong>-JU</strong>) <code class="docutils literal notranslate"><span class="pre">…</span></code></a></li>
<li><a class="reference internal" href="#oblique-mercator-projection-jo-jo">14.3.4. Oblique Mercator projection (<strong>-Jo</strong> <strong>-JO</strong>) <code class="docutils literal notranslate"><span class="pre">…</span></code></a></li>
<li><a class="reference internal" href="#cassini-cylindrical-projection-jc-jc">14.3.5. Cassini cylindrical projection (<strong>-Jc</strong> <strong>-JC</strong>) <code class="docutils literal notranslate"><span class="pre">…</span></code></a></li>
<li><a class="reference internal" href="#cylindrical-equidistant-projection-jq-jq">14.3.6. Cylindrical equidistant projection (<strong>-Jq</strong> <strong>-JQ</strong>) <code class="docutils literal notranslate"><span class="pre">…</span></code></a></li>
<li><a class="reference internal" href="#cylindrical-equal-area-projections-jy-jy">14.3.7. Cylindrical equal-area projections (<strong>-Jy</strong> <strong>-JY</strong>) <code class="docutils literal notranslate"><span class="pre">…</span></code></a></li>
<li><a class="reference internal" href="#miller-cylindrical-projection-jj-jj">14.3.8. Miller Cylindrical projection (<strong>-Jj</strong> <strong>-JJ</strong>) <code class="docutils literal notranslate"><span class="pre">…</span></code></a></li>
<li><a class="reference internal" href="#cylindrical-stereographic-projections-jcyl-stere-jcyl-stere">14.3.9. Cylindrical stereographic projections (<strong>-Jcyl_stere</strong> <strong>-JCyl_stere</strong>) <code class="docutils literal notranslate"><span class="pre">…</span></code></a></li>
</ul>
</li>
<li><a class="reference internal" href="#miscellaneous-projections">14.4. Miscellaneous projections</a><ul>
<li><a class="reference internal" href="#hammer-projection-jh-jh">14.4.1. Hammer projection (<strong>-Jh</strong> <strong>-JH</strong>) <code class="docutils literal notranslate"><span class="pre">…</span></code></a></li>
<li><a class="reference internal" href="#mollweide-projection-jw-jw">14.4.2. Mollweide projection (<strong>-Jw</strong> <strong>-JW</strong>) <code class="docutils literal notranslate"><span class="pre">…</span></code></a></li>
<li><a class="reference internal" href="#winkel-tripel-projection-jr-jr">14.4.3. Winkel Tripel projection (<strong>-Jr</strong> <strong>-JR</strong>) <code class="docutils literal notranslate"><span class="pre">…</span></code></a></li>
<li><a class="reference internal" href="#robinson-projection-jn-jn">14.4.4. Robinson projection (<strong>-Jn</strong> <strong>-JN</strong>) <code class="docutils literal notranslate"><span class="pre">…</span></code></a></li>
<li><a class="reference internal" href="#eckert-iv-and-vi-projection-jk-jk">14.4.5. Eckert IV and VI projection (<strong>-Jk</strong> <strong>-JK</strong>) <code class="docutils literal notranslate"><span class="pre">…</span></code></a></li>
<li><a class="reference internal" href="#sinusoidal-projection-ji-ji">14.4.6. Sinusoidal projection (<strong>-Ji</strong> <strong>-JI</strong>) <code class="docutils literal notranslate"><span class="pre">…</span></code></a></li>
<li><a class="reference internal" href="#van-der-grinten-projection-jv-jv">14.4.7. Van der Grinten projection (<strong>-Jv</strong> <strong>-JV</strong>) <code class="docutils literal notranslate"><span class="pre">…</span></code></a></li>
</ul>
</li>
</ul>
</li>
<li><a class="reference internal" href="#creating-gmt-graphics">15. Creating GMT Graphics</a><ul class="simple">
</ul>
</li>
<li><a class="reference internal" href="#creating-gmt-animations">16. Creating GMT Animations</a><ul class="simple">
</ul>
</li>
<li><a class="reference internal" href="#gmt-supplemental-packages">17. GMT Supplemental Packages</a><ul>
<li><a class="reference internal" href="#gshhg-gshhg-data-extractor">17.1. gshhg: GSHHG data extractor</a></li>
<li><a class="reference internal" href="#img-gridded-altimetry-extractor">17.2. img: gridded altimetry extractor</a></li>
<li><a class="reference internal" href="#meca-seismology-and-geodesy-symbols">17.3. meca: seismology and geodesy symbols</a></li>
<li><a class="reference internal" href="#mgd77-mgd77-extractor-and-plotting-tools">17.4. mgd77: MGD77 extractor and plotting tools</a></li>
<li><a class="reference internal" href="#misc-miscellaneous-tools">17.5. misc: Miscellaneous tools</a></li>
<li><a class="reference internal" href="#potential-geopotential-tools">17.6. potential: Geopotential tools</a></li>
<li><a class="reference internal" href="#segyprogs-plotting-segy-seismic-data">17.7. segyprogs: plotting SEGY seismic data</a></li>
<li><a class="reference internal" href="#spotter-backtracking-and-hotspotting">17.8. spotter: backtracking and hotspotting</a></li>
<li><a class="reference internal" href="#x2sys-track-crossover-error-estimation">17.9. x2sys: track crossover error estimation</a></li>
</ul>
</li>
<li><a class="reference internal" href="#gmt-file-formats">18. GMT File Formats</a><ul>
<li><a class="reference internal" href="#table-data">18.1. Table data</a><ul>
<li><a class="reference internal" href="#ascii-tables">18.1.1. ASCII tables</a><ul>
<li><a class="reference internal" href="#optional-file-header-records">18.1.1.1. Optional file header records</a></li>
<li><a class="reference internal" href="#optional-segment-header-records">18.1.1.2. Optional segment header records</a></li>
</ul>
</li>
<li><a class="reference internal" href="#binary-tables">18.1.2. Binary tables</a></li>
<li><a class="reference internal" href="#netcdf-tables">18.1.3. NetCDF tables</a></li>
</ul>
</li>
<li><a class="reference internal" href="#grid-files">18.2. Grid files</a><ul>
<li><a class="reference internal" href="#netcdf-files">18.2.1. NetCDF files</a></li>
<li><a class="reference internal" href="#chunking-and-compression-with-netcdf">18.2.2. Chunking and compression with netCDF</a></li>
<li><a class="reference internal" href="#gridline-and-pixel-node-registration">18.2.3. Gridline and Pixel node registration</a></li>
<li><a class="reference internal" href="#boundary-conditions-for-operations-on-grids">18.2.4. Boundary Conditions for operations on grids</a></li>
<li><a class="reference internal" href="#native-binary-grid-files">18.2.5. Native binary grid files</a></li>
</ul>
</li>
<li><a class="reference internal" href="#sun-raster-files">18.3. Sun raster files</a></li>
</ul>
</li>
<li><a class="reference internal" href="#including-gmt-graphics-into-your-documents">19. Including GMT Graphics into your Documents</a><ul>
<li><a class="reference internal" href="#making-gmt-encapsulated-postscript-files">19.1. Making GMT Encapsulated <em>PostScript</em> Files</a></li>
<li><a class="reference internal" href="#converting-gmt-postscript-to-pdf-or-raster-images">19.2. Converting GMT <em>PostScript</em> to PDF or raster images</a><ul>
<li><a class="reference internal" href="#when-converting-or-viewing-postscript-goes-awry">19.2.1. When converting or viewing <em>PostScript</em> goes awry</a></li>
<li><a class="reference internal" href="#using-psconvert">19.2.2. Using <code class="docutils literal notranslate"><span class="pre">psconvert</span></code></a></li>
</ul>
</li>
<li><a class="reference internal" href="#examples">19.3. Examples</a><ul>
<li><a class="reference internal" href="#gmt-graphics-in-latex">19.3.1. GMT graphics in LaTeX</a></li>
<li><a class="reference internal" href="#gmt-graphics-in-powerpoint">19.3.2. GMT graphics in <strong>PowerPoint</strong></a></li>
</ul>
</li>
<li><a class="reference internal" href="#concluding-remarks">19.4. Concluding remarks</a></li>
</ul>
</li>
<li><a class="reference internal" href="#predefined-bit-and-hachure-patterns-in-gmt">20. Predefined Bit and Hachure Patterns in GMT</a></li>
<li><a class="reference internal" href="#chart-of-octal-codes-for-characters">21. Chart of Octal Codes for Characters</a></li>
<li><a class="reference internal" href="#postscript-fonts-used-by-gmt">22. <em>PostScript</em> Fonts Used by GMT</a><ul>
<li><a class="reference internal" href="#using-non-default-fonts-with-gmt">22.1. Using non-default fonts with GMT</a><ul>
<li><a class="reference internal" href="#embedding-fonts-in-postscript-and-pdf">22.1.1. Embedding fonts in <em>PostScript</em> and PDF</a></li>
<li><a class="reference internal" href="#character-encoding">22.1.2. Character encoding</a></li>
</ul>
</li>
</ul>
</li>
<li><a class="reference internal" href="#color-space-the-final-frontier">23. Color Space: The Final Frontier</a><ul>
<li><a class="reference internal" href="#rgb-color-system">23.1. RGB color system</a></li>
<li><a class="reference internal" href="#hsv-color-system">23.2. HSV color system</a></li>
<li><a class="reference internal" href="#the-color-cube">23.3. The color cube</a></li>
<li><a class="reference internal" href="#color-interpolation">23.4. Color interpolation</a></li>
<li><a class="reference internal" href="#artificial-illumination">23.5. Artificial illumination</a></li>
<li><a class="reference internal" href="#thinking-in-rgb-or-hsv">23.6. Thinking in RGB or HSV</a></li>
<li><a class="reference internal" href="#cmyk-color-system">23.7. CMYK color system</a></li>
</ul>
</li>
<li><a class="reference internal" href="#filtering-of-data-in-gmt">24. Filtering of Data in GMT</a></li>
<li><a class="reference internal" href="#the-gmt-high-resolution-coastline-data">25. The GMT High-Resolution Coastline Data</a><ul>
<li><a class="reference internal" href="#selecting-the-right-data">25.1. Selecting the right data</a></li>
<li><a class="reference internal" href="#format-required-by-gmt">25.2. Format required by GMT</a></li>
<li><a class="reference internal" href="#the-long-and-winding-road">25.3. The long and winding road</a></li>
<li><a class="reference internal" href="#the-five-resolutions">25.4. The Five Resolutions</a><ul>
<li><a class="reference internal" href="#the-crude-resolution-dc">25.4.1. The crude resolution (<strong>-Dc</strong>)</a></li>
<li><a class="reference internal" href="#the-low-resolution-dl">25.4.2. The low resolution (<strong>-Dl</strong>)</a></li>
<li><a class="reference internal" href="#the-intermediate-resolution-di">25.4.3. The intermediate resolution (<strong>-Di</strong>)</a></li>
<li><a class="reference internal" href="#the-high-resolution-dh">25.4.4. The high resolution (<strong>-Dh</strong>)</a></li>
<li><a class="reference internal" href="#the-full-resolution-df">25.4.5. The full resolution (<strong>-Df</strong>)</a></li>
</ul>
</li>
</ul>
</li>
<li><a class="reference internal" href="#gmt-on-non-unix-platforms">26. GMT on non-UNIX Platforms</a><ul>
<li><a class="reference internal" href="#id54">26.1. Introduction</a></li>
<li><a class="reference internal" href="#cygwin-and-gmt">26.2. Cygwin and GMT</a></li>
<li><a class="reference internal" href="#mingw-msys-and-gmt">26.3. MINGW|MSYS and GMT</a></li>
</ul>
</li>
<li><a class="reference internal" href="#of-colors-and-color-legends">27. Of Colors and Color Legends</a><ul>
<li><a class="reference internal" href="#built-in-color-palette-tables-cpt">27.1. Built-in color palette tables (CPT)</a></li>
<li><a class="reference internal" href="#labeled-and-non-equidistant-color-legends">27.2. Labeled and non-equidistant color legends</a></li>
</ul>
</li>
<li><a class="reference internal" href="#app-custom-symbols">28. Custom Plot Symbols</a><ul>
<li><a class="reference internal" href="#background">28.1. Background</a></li>
<li><a class="reference internal" href="#the-macro-language">28.2. The macro language</a><ul>
<li><a class="reference internal" href="#comment-lines">28.2.1. Comment lines</a></li>
<li><a class="reference internal" href="#symbol-variables">28.2.2. Symbol variables</a></li>
<li><a class="reference internal" href="#macro-commands">28.2.3. Macro commands</a></li>
<li><a class="reference internal" href="#symbol-fill-and-outline">28.2.4. Symbol fill and outline</a></li>
<li><a class="reference internal" href="#symbol-substitution">28.2.5. Symbol substitution</a></li>
<li><a class="reference internal" href="#text-substitution">28.2.6. Text substitution</a></li>
<li><a class="reference internal" href="#text-alignment-and-font-attributes">28.2.7. Text alignment and font attributes</a></li>
<li><a class="reference internal" href="#conditional-statements">28.2.8. Conditional statements</a><ul>
<li><a class="reference internal" href="#simple-conditional-test">28.2.8.1. Simple conditional test</a></li>
<li><a class="reference internal" href="#complete-conditional-test">28.2.8.2. Complete conditional test</a></li>
</ul>
</li>
</ul>
</li>
</ul>
</li>
<li><a class="reference internal" href="#annotation-of-contours-and-quoted-lines">29. Annotation of Contours and “Quoted Lines”</a><ul>
<li><a class="reference internal" href="#label-placement">29.1. Label Placement</a></li>
<li><a class="reference internal" href="#label-attributes">29.2. Label Attributes</a></li>
<li><a class="reference internal" href="#examples-of-contour-label-placement">29.3. Examples of Contour Label Placement</a><ul>
<li><a class="reference internal" href="#equidistant-labels">29.3.1. Equidistant labels</a></li>
<li><a class="reference internal" href="#fixed-number-of-labels">29.3.2. Fixed number of labels</a></li>
<li><a class="reference internal" href="#prescribed-label-placements">29.3.3. Prescribed label placements</a></li>
<li><a class="reference internal" href="#label-placement-at-simple-line-intersections">29.3.4. Label placement at simple line intersections</a></li>
<li><a class="reference internal" href="#label-placement-at-general-line-intersections">29.3.5. Label placement at general line intersections</a></li>
</ul>
</li>
<li><a class="reference internal" href="#examples-of-label-attributes">29.4. Examples of Label Attributes</a><ul>
<li><a class="reference internal" href="#label-placement-by-along-track-distances-1">29.4.1. Label placement by along-track distances, 1</a></li>
<li><a class="reference internal" href="#label-placement-by-along-track-distances-2">29.4.2. Label placement by along-track distances, 2</a></li>
<li><a class="reference internal" href="#using-a-different-data-set-for-labels">29.4.3. Using a different data set for labels</a></li>
</ul>
</li>
<li><a class="reference internal" href="#putting-it-all-together">29.5. Putting it all together</a></li>
</ul>
</li>
<li><a class="reference internal" href="#special-operations">30. Special Operations</a><ul>
<li><a class="reference internal" href="#running-gmt-in-isolation-mode">30.1. Running GMT in <em>isolation mode</em></a></li>
</ul>
</li>
<li><a class="reference internal" href="#the-gmt-vector-data-format-for-ogr-compatibility">31. The GMT Vector Data Format for OGR Compatibility</a><ul>
<li><a class="reference internal" href="#id59">31.1. Background</a></li>
<li><a class="reference internal" href="#the-ogr-gmt-format">31.2. The OGR/GMT format</a></li>
<li><a class="reference internal" href="#ogr-gmt-metadata">31.3. OGR/GMT Metadata</a><ul>
<li><a class="reference internal" href="#format-version">31.3.1. Format version</a></li>
<li><a class="reference internal" href="#geometry-types">31.3.2. Geometry types</a></li>
<li><a class="reference internal" href="#domain-and-map-projections">31.3.3. Domain and map projections</a></li>
<li><a class="reference internal" href="#declaration-of-aspatial-fields">31.3.4. Declaration of aspatial fields</a></li>
</ul>
</li>
<li><a class="reference internal" href="#ogr-gmt-data">31.4. OGR/GMT Data</a><ul>
<li><a class="reference internal" href="#embedding-aspatial-data">31.4.1. Embedding aspatial data</a></li>
<li><a class="reference internal" href="#polygon-topologies">31.4.2. Polygon topologies</a></li>
</ul>
</li>
<li><a class="reference internal" href="#id60">31.5. Examples</a></li>
</ul>
</li>
</ul>

  <h4>Previous topic</h4>
  <p class="topless"><a href="cookbook.html"
                        title="previous chapter">CookBook</a></p>
  <h4>Next topic</h4>
  <p class="topless"><a href="tutorial.html"
                        title="next chapter">GMT_Tutorial</a></p>
  <div role="note" aria-label="source link">
    <h3>This Page</h3>
    <ul class="this-page-menu">
      <li><a href="_sources/GMT_Docs.rst.txt"
            rel="nofollow">Show Source</a></li>
    </ul>
   </div>
        </div>
      </div>
      <div class="clearer"></div>
    </div>
    <div class="related" role="navigation" aria-label="related navigation">
      <h3>Navigation</h3>
      <ul>
        <li class="right" style="margin-right: 10px">
          <a href="genindex.html" title="General Index"
             >index</a></li>
        <li class="right" >
          <a href="tutorial.html" title="GMT_Tutorial"
             >next</a> </li>
        <li class="right" >
          <a href="cookbook.html" title="CookBook"
             >previous</a> </li>
  <li><a href="/projects/gmt/wiki/Documentation">Project Home</a>  &#187;</li>
  
        <li class="nav-item nav-item-0"><a href="index.html">GMT 5.4.6_c5d65a4_2019.11.05 documentation</a> &#187;</li>

          <li class="nav-item nav-item-1"><a href="cookbook.html" >CookBook</a> &#187;</li>
<li class="right">
<form class="search" accept-charset="UTF-8" action="search.html" method="get">
  <div style="margin:0;padding:0;display:inline"><input name="utf8" type="hidden" value="✓"></div>
  <label for="q">
    <a class="search" href="search.html" accesskey="s" original-title="">Search:</a>
  </label>
  <input accesskey="f" class="small" id="q" name="q" size="20" type="text">
  <input type="hidden" name="check_keywords" value="yes">
  <input type="hidden" name="area" value="default">
</form></li>
   

      </ul>
    </div>
<div class="footer">
    &copy; Copyright 2019, The GMT Team.
  Last updated on Jun 14, 2020.
  Created using <a href="http://sphinx.pocoo.org/">Sphinx</a> 1.8.5.
  <br />Theme based on <a href="http://readthedocs.org/">Read The Docs</a>

</div>


  </body>
</html>