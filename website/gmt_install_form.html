<HTML>
<!--  $Id$  -->
<HEAD>
<TITLE>GMT Installation Helper</TITLE>
</HEAD>
<BODY bgcolor="#ffffef">
<FORM ACTION="/cgi-bin/wessel/install_gmt5_form.pl" ENCTYPE="x-www-form-encoded" METHOD="POST">
<INPUT TYPE="hidden" VALUE="$Revision$" NAME="form_version">
<H2><CENTER>GMT Installation Helper</CENTER></H2>
</P>
This page helps you customize the GMT installation procedure under Unix or Unix-like
operating systems capable of running a Bourne (sh) script. When submitting the completed form,
you will receive a parameter file (e.g., GMT5param.txt) that you may save and use as argument to the
<b>install_gmt.sh script</b>.  For example, assuming you save the parameter file to GMT5param.txt,
you can install the GMT5 package with the command<BR>
<p>
sh install_gmt.sh GMT5param.txt<BR>
<p>
Output may be redirected to a log file by appending >& install.log (if your login shell
is csh or tcsh) or appending > install.log 2>&1 (if your login shell is bash or sh).<BR>
<p>
Any problems during the install will be noted in the log.  Saving the log messages
is of course optional.<BR>
<P>
<I>Note: You do not have to use this form.  <b>install_gmt.sh</b> can still be run interactively as
in previous versions.  However, after a successful install it will write all the parameters
to a file named by you, and this file can be used for background installs as shown above.</I><BR>
<P>
<b>IMPORTANT: Move or remove old gmt-*.bz2 files from the current directory before running install_gmt.sh!</b>
<P>
<HR>
<CENTER><H3>A. Basic Requirements: </H3></CENTER>
<UL>
<LI>You have access to a POSIX Bourne shell (Bash will also work).  Note that on Solaris you are advised
to use the version in /usr/xpg4/bin since /usr/bin/sh (and things like /usr/bin/grep) are not Posix-compliant,
and furthermore /usr/bin/awk thinks sin(1) = 1.</LI>
<LI>You have bzip2 on your system.  If not, use your package manager, or get source code and executables for bzip2
	from the <A HREF="http://www.bzip.org" target="_blank">bzip2</A> site.</LI>
<LI>You have write permissions in all directories you specify below.  If you have specified system directories for
	the install then you may need to run the script using sudo (or as root).</LI>
<LI>You have obtained and saved <A HREF="install_gmt.sh" target="_blank">install_gmt.sh</A>, the GMT install script.
   Be aware that some browsers may decide to save the script with a different extension (e.g., .txt) so you may have to
   rename the file after download.</LI>
<LI>If you are using Cygwin, check these <A HREF="gmt_cygwin.html" target="_blank">important notes</A> before you proceed.</LI>
</UL>
<HR>

<!--  GMT VERSION SELECTION  -->

<B>0. Select GMT version</B><BR>

<!--  <INPUT TYPE="radio" VALUE="4.5.7" NAME="radio_version" CHECKED> GMT 4.5.7<BR> -->
<INPUT TYPE="radio" VALUE="5.0.0b" NAME="radio_version"> GMT 5.0.0 beta<BR>
<P>
<I>Note: GMT 4.5.7 is the latest stable version of GMT.  Here we offer
an installation of GMT 5.0.0 beta.  All our development is now focused on GMT 5 and only bug
fixes will be considered for GMT 4.  Because GMT 5 will be a beta release we recommend you install
both versions and use gmtswitch to toggle between the two as needed.</I><BR>
<HR>
<!--  SI OR US UNIT SELECTION  -->

<B>1. Select default units in GMT:</B><BR>

<INPUT TYPE="radio" VALUE="SI" NAME="radio_unit" CHECKED> SI units (cm)<BR>
<INPUT TYPE="radio" VALUE="US" NAME="radio_unit"> US units (inch)<BR>
<P>
<I>Note: This used to be a choice that affected the compilation of GMT.  However, since version 3.3.2
this selection is a run-time selection, meaning you can reverse it at any time.  The present choice is
simply a convenient way to set the default units for all users of your GMT installation (see gmtdefaults
man page for how to change this choice at a later time).  Individual users can always override the default
with gmtset MEASURE_UNIT cm|inch</I><BR>
<HR>

<!--  POSIX FILE LOCKING SELECTION  -->

<B>2. Select POSIX Advisory File Locking:<BR></B>

<INPUT TYPE="radio" VALUE="Lock" NAME="radio_flock"> YES. Use file locking<BR>
<INPUT TYPE="radio" VALUE="Nolock" NAME="radio_flock" CHECKED> NO. Do not use file locking<BR>

<P>
<I>Note: GMT passes information about previous GMT command-line options to future GMT commands via a
configuration file in the current directory (gmt.conf).  To avoid that this file is updated by more than
one program at the time (e.g., when you connect two or more GMT commands with a pipe) we use POSIX
advisory file locking on the file.  Unfortunately, some versions of the Network File System (NFS) have
not implemented file locking properly.  We know this to be the case with Linux pre-2.4 kernels when
mounting NFS disks from a Sun server.  If this is your case, you should turn file locking OFF, and
avoid using the GMT shorthands in commands that are piped together.</I><BR>
<HR>

<!--  NETCDF SELECTION  -->

<CENTER><H3>B. Support Library Setup</H3></CENTER>
<B>1. Select the appropriate netCDF library option:</B><BR>

<INPUT TYPE="radio" VALUE="have" NAME="radio_netcdf" CHECKED> netCDF 3.6.x or later is already installed<BR>
<INPUT TYPE="radio" VALUE="get" NAME="radio_netcdf"> Please get and install the latest netCDF 3.6.x or later<BR>
<INPUT TYPE="radio" VALUE="install" NAME="radio_netcdf"> I already have the netcdf.tar.Z archive, just install it for me<BR>

Give full pathname to the netCDF directory: <INPUT NAME="netcdf_dir" TYPE="text" SIZE="30"><BR>
<P>
<I>Note: In either case you must fill out the directory name.  If you already have netCDF then give the
directory it resides in; if you need to install netCDF then give the directory you intend to install it.
You can leave it blank if you have defined $NETCDFHOME to be the directory where you installed netcdf.
If the library and include files do not have the same parent directory, then leave the path blank and
manually set the environmental variables $NETCDF_LIB and $NETCDF_INC prior to running the installer.
Finally, if you have already installed netCDF as a SHARED library it is your responsibility to make sure
these libraries are in default paths or explicitly have been added to LD_LIBRARY_PATH or similar environment
parameters.  Note that netcdf 4 requires hdf as well, so when not using shared libs for those, you would
need to add -lhdf etc. But in principle, when netcdf 4 is installed as shared lib, the installation should work.</I>
<HR>

<B>2. OPTIONAL. Experimental GDAL import support:</B><BR>

<INPUT TYPE="radio" VALUE="no" NAME="radio_gdal" CHECKED> Do not build optional/experimental GDAL grid import<BR>
<INPUT TYPE="radio" VALUE="yes" NAME="radio_gdal"> Build optional/experimental GDAL grid import<BR>

If you selected to use GDAL, give full pathname to the GDAL directory: <INPUT NAME="gdal_dir" TYPE="text" SIZE="30"><BR>
<P>
<I>Note: If selected, GMT will be able to read additional grid formats supported by GDAL, and grdimage can plot
images such as geotiffs.  Specify the parent directory where both the lib and include subdirs for GDAL can be found.
If these directories do not have the same parent directory, then leave the path blank and manually set the environmental
variables $GDAL_LIB and $GDAL_INC prior to running the installer.</I>
<HR>
	
<B>3. OPTIONAL. Experimental PCRE (Perl Compatible Regular Expressions) support:</B><BR>

<INPUT TYPE="radio" VALUE="no" NAME="radio_pcre" CHECKED> Do not build optional/experimental PCRE support<BR>
<INPUT TYPE="radio" VALUE="yes" NAME="radio_pcre"> Build optional/experimental PCRE support<BR>

If you selected to use PCRE, give full pathname to the PCRE directory with lib and include: <INPUT NAME="pcre_dir" TYPE="text" SIZE="30"><BR>
<P>
<I>Note: If selected, some GMT tools may use regular expression pattern matching using the same syntax and semantics
as Perl 5 in internal GMT searching (e.g., gmtconvert -S).</I>
<HR>

<!--  GMT FTP SELECTION  -->

<CENTER><H3>C. GMT Setup</H3></CENTER>
<B>1. Select the FTP site nearest you:</B><BR>

<INPUT TYPE="radio" VALUE="1" NAME="radio_site" CHECKED> Pacific (SOEST, University of Hawaii [GMT Home], Honolulu, Hawaii, USA)<BR>
<INPUT TYPE="radio" VALUE="2" NAME="radio_site"> North America (NOAA, Lab for Satellite Altimetry, Silver Springs, Maryland, USA<BR>
<INPUT TYPE="radio" VALUE="3" NAME="radio_site"> North America (Incorporated Research Institutions for Seismology, Seattle, Washington, USA)<BR>
<INPUT TYPE="radio" VALUE="4" NAME="radio_site"> South America (IAG-USP, Dept. of Geophysics, University of Sao Paulo, Brazil)<BR>
<INPUT TYPE="radio" VALUE="5" NAME="radio_site"> Europe (Dept. of Geosciences, University of Oslo, Norway)<BR>
<INPUT TYPE="radio" VALUE="6" NAME="radio_site"> Europe (Goodie Domain Service, Vienna U of Technology, Austria)<BR>
<INPUT TYPE="radio" VALUE="7" NAME="radio_site"> Asia (ISV, Hokkaido University, Sapporo, Japan)<BR>
<INPUT TYPE="radio" VALUE="8" NAME="radio_site"> Australia (University of Sydney, Australia)<BR>
<INPUT TYPE="radio" VALUE="9" NAME="radio_site"> Africa (Tertiary Education & Research Networks, South Africa)<BR>
<INPUT TYPE="radio" VALUE="99" NAME="radio_site"> No FTP, archives already obtained<BR>

<P>
<I>Note: Download times are shorter when you pick a site that is physically closer to you.  If you already
have downloaded the files and simply wants to use the script to reinstall, select the last option.</I>

<!--  FTP MODE SELECTION  -->

<HR><B>2. Select passive [Default] or active ftp transmission:</B><BR>

<INPUT TYPE="radio" VALUE="passive" NAME="radio_ftpmode" CHECKED> Passive ftp<BR>
<INPUT TYPE="radio" VALUE="active" NAME="radio_ftpmode"> Active ftp<BR>

<P>
<I>Note:
If you are behind a firewall you will need to use a passive ftp session.
Only if you have some very old ftp client, you may have to resort to active ftp
(which involves the server connecting back to the client).
</I>

<!--  GMT ARCHIVE SELECTION  -->

<HR><B>3. Select the components you want (bzip2 sizes indicated):</B><BR>

<INPUT TYPE="checkbox" NAME="checkbox_gmt" CHECKED> GMT source, docs, supplements (38 Mb)<BR>
<INPUT TYPE="checkbox" NAME="checkbox_gshhs" CHECKED> GSHHS Coastlines (all resolutions) (45 Mb)<BR>

<P>
<I>Note: Both are required for a complete GMT install (in order to run all the examples in the Cookbook).</I>

<!--  OPTIONAL TRIANGLE SELECTION  -->

<HR><B>4. Select which triangulation algorithm to use:</B><BR>

<INPUT TYPE="radio" VALUE="Watson" NAME="radio_triangle" CHECKED> Watson's algorithm<BR>
<INPUT TYPE="radio" VALUE="Shewchuk" NAME="radio_triangle"> Shewchuk's algorithm<BR>

<P>
<I>Note: You may want to select Shewchuk's faster triangulation routine but as it is not distributed
under the GNU Public License it is not included by default.  For-profit organizations should first inspect
<A HREF="README.TRIANGLE" target="_blank">Shewchuk's license</A>.</I>

<!--  INSTALL TOOL OPTION SELECTION  -->

<HR><B>5. Select library build type:<BR></B>

<INPUT TYPE="radio" VALUE="Static" NAME="radio_link"> Static Libraries<BR>
<INPUT TYPE="radio" VALUE="Shared" NAME="radio_link" CHECKED> Shared (dynamic) Libraries<BR>

<P>
<I>Note: The GMT libraries can be made static or shared.  The main benefit of using shared (dynamic)
libraries is significantly reduced executable sizes (50-70% savings in disk space).  The GMT install
procedure knows how to make shared libraries under Linux, FreeBSD, NetBSD, SunOS, Solaris, HPUX, OSF1,
OSX, and IRIX.  For other systems capable of generating shared libraries you must manually configure the
config.mk file.  If you have no preferences or no idea what to do on an unlisted system, select
the default shared libraries.</I><BR>

<!--  COMPILER SELECTION  -->

<HR><B>6. Select the C compiler you want to use:</B><BR>

<SELECT NAME="cc">
<OPTION SELECTED>1. cc
<OPTION>2. gcc
<OPTION>3. other
</SELECT><BR>
<P>
<I>Note: The default cc should work unless you are on a system with several C compilers.  E.g., you
may run Solaris and have purchased Sun's compiler but have also installed GNU gcc.  To ensure you
get the GNU you should select gcc.  If your C compiler has another name or lives in a strange
directory not in your path, please select "other" and enter the value for CC below.</I><BR>

Custom C Compiler: <INPUT NAME="custom_cc" TYPE="text" SIZE="30"><BR>

When producing executables:<BR> 
<INPUT TYPE="radio" VALUE="n" NAME="radio_64"> Force 32-bit (not recommended)<BR>
<INPUT TYPE="radio" VALUE="y" NAME="radio_64"> Force 64-bit (not recommended)<BR>
<INPUT TYPE="radio" VALUE="" NAME="radio_64" CHECKED> Use default (whatever your compiler prefers)<BR>
For OS X only: <INPUT TYPE="checkbox" NAME="checkbox_univ"> Build universal binaries (OS X)<BR>
<I>Note: GMT can be built as 32-bit or 64-bit.  We do not recommend that you
	explicitly choose 32-bit or 64-bit, as the netCDF install is
	not set up to honor either of these settings. The default is
	to compile without sending any 32-bit or 64-bit options to the
	compiler, which generally create 32-bit versions on older systems,
	and 64-bit versions on newer systems, like OS X Snow Leopard.
If universal is checked we will attempt to build universal binaries under OS X.</I><BR>

<!--  MAKE SELECTION  -->

<HR><B>7. Select the make program you want to use:</B><BR>

<SELECT NAME="make">
<OPTION SELECTED>1. make
<OPTION>2. other
</SELECT><BR>

<P>
<I>Note: The default make should work unless you are on a system with a weird make utility. 
GNU make works best, and some Sys V makes have problems.  If you have make problems, 
use GNU make (assuming it is installed): Select "other" and enter the path for make below.</I><BR>

Custom make program: <INPUT NAME="custom_make" TYPE="text" SIZE="30"><BR>

<!--  GMT DESTINATION DIRECTORIES SELECTION  -->

<HR><B>8. Select GMT final destination directories</B><BR>

<TABLE border=0 cellspacing=2 cellpadding=2>
<TR><TD>Place GMT in subdirectories of:</TD><TD><INPUT NAME="gmt_prefix" TYPE="text" SIZE="45"></TD></TR>
<TR></TR>
<TR><TD><B>OR</B></TD></TR>
<TR><TD>Place GMT executables in:</TD><TD><INPUT NAME="gmt_bin" TYPE="text" SIZE="45"></TD></TR>
<TR><TD>Place GMT libraries in:</TD><TD><INPUT NAME="gmt_lib" TYPE="text" SIZE="45"></TD></TR>
<TR><TD>Place GMT include files in:</TD><TD><INPUT NAME="gmt_include" TYPE="text" SIZE="45"></TD></TR>
<TR><TD>Place GMT data resources in:</TD><TD><INPUT NAME="gmt_share" TYPE="text" SIZE="45"></TD></TR>
<TR><TD>Place GMT man pages in:</TD><TD><INPUT NAME="gmt_man" TYPE="text" SIZE="45">
<TR><TD>Place GMT doc pages in:</TD><TD><INPUT NAME="gmt_doc" TYPE="text" SIZE="45"></TD></TR>
</TABLE>

<I><P>
Note: The installation will install all GMT components in several subdirectories
under one root directory.  By default, GMT will be installed under GMT5.0.0b
in the current working directory where install_gmt.sh is run.
On most Unix systems, however, the preferred location of the root directory will be
something like /usr/local or /sw, under which the installation will add
bin, lib, include, share, share/man, and share/doc/gmt, respectively.
To select another location for the root directory than the default (GMT5.0.0b),
specify it in the first box above, or enter subdirectories individually.
Only specify alternative directories if you want to place the files elsewhere. 
<P>
Note that the man pages will be be placed in the sub-directories man1 and man3 of the directory
specified above.
The man utility will find the GMT man pages if the chosen man directory is included in the
users' MANPATH environmental variable.
Make sure the users' search path contains the directory where you place the executables.  
Finally, advise users to add a browser bookmark for the
file share/doc/gmt/html/gmt_services.html in the doc directory you chose above; that page provides links to online
GMT documentation and man pages.</I><BR>

<!--  GMT_SHAREDIR DIRECTORY SELECTION  -->

<HR><B>9. Select alternative GMT_SHAREDIR directory</B><BR>

Alternative GMT_SHAREDIR directory: <INPUT NAME="gmt_sharedir" TYPE="text" SIZE="30"><BR>

<P><I>
Note: At run-time GMT will look in the shared data directory (specified in section C.8) to
find configuration and data files.
That directory may appear with a different name to remote users if a different mount point
is used or a symbolic link is set.
GMT can use the environment variable $GMT_SHAREDIR to point to the right place.
If users see a different location for the shared data files, specify it here.
(It will be used only to remind you at the end of the installation to set
the environment variable $GMT_SHAREDIR).
Leave blank to select the shared data directory of the data resources directory given in
C.8 [Default].</I><BR>

<!--  GMT SUPPLEMENTAL PACKAGE SELECTION  -->

<HR><B>10. Select optional supplemental packages to install:</B><BR>

<INPUT TYPE="checkbox" NAME="checkbox_mex"> MEX: Interface for reading/writing GMT grdfiles for
	<INPUT TYPE="radio" VALUE="matlab" NAME="radio_mex"> Matlab or <INPUT TYPE="radio" VALUE="octave" NAME="radio_mex" CHECKED>Octave<BR>
	<INPUT TYPE="checkbox" NAME="checkbox_xgrid"> XGRID: X11 graphical editor for netCDF-based .nc files (REQUIRES Xlibs)<BR>
<P>
<I>Note: GMT supplements that only depend on GMT are always installed.  The above packages will only be installed if you select them.
The mex package requires Matlab or Octave, while xgrid requires various X11 libraries and include files.</I>
<HR><B>11. Additional information for MEX (Matlab or Octave):</B><BR>
<BR>
Enter head of the Matlab system directory if you selected Matlab above: <INPUT NAME="matlab_dir" TYPE="text" SIZE="30" VALUE="/usr/local/matlab"><BR>
<I>Note: You can leave the path blank under OS X or if $MATLAB is defined in your environment and points to the correct directory</I>.<BR>
Enter directory for *.m files for the GMT/Matlab-Octave interface: <INPUT NAME="mex_mdir" TYPE="text" SIZE="30"><BR>
Enter directory for *.mex files for the GMT/Matlab-Octave interface: <INPUT NAME="mex_xdir" TYPE="text" SIZE="30"><BR>
<I>Note: You can leave these two paths blank to select the default paths for either Matlab or Octave.  In any case
you must have permission to create these directories (if they don't exist) and write to them.  Finally, if you chose Octave
then it is assumed that octave is already in your executable path, in particular that the utilities mkoctfile and octave-config
can be found when configure is run</I>.

<!--  GMT COMPLETION SELECTION  -->

<HR><B>11. Complete the operation:<BR>

</B><INPUT TYPE="checkbox" NAME="checkbox_delete"> Delete all archives upon successful installation<BR>
<INPUT TYPE="checkbox" NAME="checkbox_run" CHECKED> Run all example scripts<BR>

<P>
<I>Note: Examples will only be run if you also ftp'ed the doc archive.</I>

<!--  SUBMIT OR RESET FORM  -->

<CENTER>
<INPUT NAME="name" TYPE="submit" VALUE="GET PARAMETERS">&nbsp; &nbsp;
<INPUT NAME="name" TYPE="reset" VALUE="RESET FORM"></CENTER>
<P>
Once received, use right-click to bring up the Save Frame As... option to save the GMT[45]param.txt
file.
</FORM>
</BODY>
</HTML>
